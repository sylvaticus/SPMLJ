var documenterSearchIndex = {"docs":
[{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>00 INTRO - 3A: Julia overview (36:25)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/uW8iyTjSaJk\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 3B: How to install Julia and git #1 (20:15)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/kT9Vm8Ov6qo\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 3C: How to install Julia and git #2 (21:54)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/51AwIJzxtgw\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 3D: Modules, packages and environments (20:56)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/_qTLSrk1ICA\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"INPROGRESS. Please refer to the videos above or to the slides.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Introduction-to-Julia,-git-and-the-Julia-package-manager","page":"0003 - Introduction to Julia","title":"Introduction to Julia, git and the Julia package manager","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#An-introduction-to-the-Julia-Programming-Language","page":"0003 - Introduction to Julia","title":"An introduction to the Julia Programming Language","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Julia is an modern, interactive and dynamic general-purpose programming language. While being dynamic, Julia compiles the code the first time it is evaluated (e.g. on the first time a function is called) using a tecnique called Just In Time. This resuls in performances typical of a compiled language, and help avoiding the dual-language problem, that is to first prototipy an algorithm in an expressive, dynamic language and then re-code it in a compiled languages for performances. If one get typically interested in Julia because of its speed, there are other elements that contribute to make it a modern programming language particularly suited for numerical and scientific computation. This segment try to highliths its main characteristics that will be further developed in the first unit JULIA1.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#A-comparative-timeline-of-R,-Python,-Julia,-LLVM","page":"0003 - Introduction to Julia","title":"A comparative timeline of R, Python, Julia, LLVM","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"(Image: Julia timeline)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"JIT (Just In Time) compilation:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"R: compiler library (JIT default in R 3.4)\nPython: Numba, PyPy, ...\nJulia: natively, with type inference","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Julia is the only language that has been designed for JIT and not trying to be adapted to. Indeed Python, R (but also Matlab..) design makes really hard to use JIT with these languages and limits its use to a subset of the language, with all the problems of compatibilities that it derives.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"The following figure shows the language used to code some of the most important  scientific libraries in these languages, as reported by GitHub. We can see that when performances matter, with the exception of Julia libraries, these projects always rely to a compiled language. If this is not a problem for an user, it creates a barrier between indeed the user of the library, that is a Python or R programmer, and its developer, that must be proficient in C, Fortran or whatever is the compiled language used. In Julia instead, the user and the developer literally \"speak the same language\" and collaboration can happen much easier.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"(Image: Julia libraries)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Multiple-dispatch","page":"0003 - Introduction to Julia","title":"Multiple dispatch","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"As the name implies, multiple dispatch is a programming paradigm where function calls are dispatched at run-time to the actual implementation based not only on the function name but also on the types of all the arguments.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"For example:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"mysum(a::Number,b::Number) = a+b # Define the first \"method\" of the mysum function taking parameters a and b\nmysum(a::Number,b::Vector) = [a + bi for bi in b] # second method definition\nmysum(a::Vector,b::Number) = mysum(b,a) # third method definition\nmysum(a::Vector,b::Vector) = [a[i] + b[i] for i in 1:min(length(a),length(b))] # fourth method definition\n\nmysum(10,2) # call the first method\nmysum([10,100],2) # call the third method\nmysum([10,100],[20,200]) # call the fourth method","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Where the square brackets are to make a list comprehension, a concise way to implement for loops we'll see in the next unit. Note that we don't need to implement mysum ourself. The default sum already accounts for multiple dispatch and broadcasting, a concept we will see later.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Multiple dispatch can be considered a generalisation of the single argument dispatch system emploied in classical object oriented (OO) languages. To call a function in OO we typycally eploy a syntax like myobject.foo(argA, argB). But this is syntactically equivalent to foo(myobject,argA,argB), and the call can be dispatched based on the class of myobject, that is of the first argument, but not on the types of argA or argB like in Julia. Multiple dispatch shoudn't be confused with C++-style polymorphism that happens at compile time.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Why multiple dispatch is important ? Firsly, in combination to JIT and for type-stable methods (again, we will see what this means in unit JULIA1), multiple dispatch allows to continue the type inference across the function calls without looking out the type of the arguments at each call, greatly improving performances. Secondly, multiple dispatch improves code composition: when an user introduces a new type, it needs to specify how this new type should handle low level functionalities. At this point high level functionality will work automatically, even if the high level functionality knew nothing of this new type.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Let's make an example","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"X = [1 2 3; 4 5 6]    # a matrix\nY = [[1,2,3] [4,5,6]] # a vector of vectors\n\n# Low level function:\nmydivide(x,y) = x/y; # \"normal\" division (produces a float)\nmydivide(x::Int64,y::Int64) = xÃ·y; # so-called \"integer\" division (truncated)\nmydivide(x,y::Matrix) = x * y^(-1); # invert matrix y\n\n11Ã·3 # 3","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"In the code above, assume mydivide() is some low-level functionality I implemented relative to integers, floats and matrices. The beauty of multiple dispatch is that with high-level functionalities, I don't need to care about types as long as the low level functions embedded in this high-level functions work for the arguments I am using. For example, if I have a high-level function foo defined as;","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"function foo(x,y)\n     z = x*y\n     mydivide(5,z)\nend","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"I can then call it with:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"foo(2,3)\nfoo(3,1.5)\nfoo(X,Y)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"In all these cases foo will work just because the functionalities that foo uses work with the given argument types.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"In conclusion, when introducing a new type, I can care only to the (small) low level aspects, without having to rebuild the whole Application Programming Interface (API).","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Multiple-kinds-of-parallel-computation","page":"0003 - Introduction to Julia","title":"Multiple kinds of parallel computation","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"There is no global interpreter lock in Julia and the programmer is free to use different parallism paradigms, from hardware level to distributed computation in High Performance Computing (HPC) clusters, all using an high-level API:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Hardware level SIMD (single instruction multiple data), GPU","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"- `@simd for i in â€¦`\n- `CUDA.jl` API","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Multithreading","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"- `Threads.@threads for i in â€¦`","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Multiprocessing","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"- `addprocs(n, ssh parameters)` (on the same machine or on other HPC nodes using SSH tunnelling) \n- `@everywhere function foo(arg) â€¦`\n- `pmap(foo,data)`","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"(details on the last segment of JULIA1 unit.)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Macro-and-meta-programming","page":"0003 - Introduction to Julia","title":"Macro and meta-programming","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Julia is reflective and allows meta-programming and macros at the level of the Abstract Syntax Tree (AST), that is when the expressions are already been parsed from the raw source code text. This is more powerful than C-like text-based preprocessing macros as it allows the programmer to hack directly in the AST to change according to its needs. Perhaps the single more important benefit of this kind of meta-programming is that it bring flexibility in allowing to write very concise library APIs. Let's take the example of Algebraic modeling languages (AML),  high-level but specialised computer programming languages for the descrption and solution of large scale mathematical optimization problems (AMPLL, GAMS,..). Being specialised languages, their syntax is very similar to the mathematical notation of optimization problems, and this allows for a very concise and readable definition of problems in their specific domain (optimization), which is supported by certain language elements. Now, a recent trend is to replace these specialised languages with AML libraries to be used within a more general purpose language. In languages without meta-programming (like the Pyomo library for Python) this comes at the cost to be forced to use the host language syntax and having to employ a much more verbose syntax. With metaprogramming instead we can allow the library user to write its statements still using a concise, domain specific way, and it is the macro that will expand this syntax to one suitable for processing by the hosting language (this is the case of JuMP for Julia)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Other-important-Julai-characteristics","page":"0003 - Introduction to Julia","title":"Other important Julai characteristics","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Extended Unicode support for any identifier and other \"syntatic sugar goodies\": they allow the code representation of an algorithm to be very close to its math representation, e.g. xÌƒâ‚‚ âˆˆ [1,2,Ï€,â„¯] or Î² = 2Î± + 3â„¯^x\nSupport to user-defined primitive type (need a Int24 type ??).Even basic operators are extendible:   +(x,y::Int24) = â€¦.\nLinear algebra is built in: x' * Y^(-1)\nBroadcasting is supported for any function (including user-defined ones): foo.(args) (note the dot)\nDirect interoperability with C and Fortran libraries (ccall(:foo,foolib,â€¦)) and VERY easy integration with R, Python and other \"older\" languages\nModern testing and documentation facilities (Test module â€“ in the standard library -, Literate.jl, Documenter.jl, integration with GitHub actions and CodeCov)\nGarbage-collection of the memory\nEasy debugging and sample-based profiling\nGit-based package management and light-wise environments for easy replicability. Last but not least. This is a crucial point in scientific programming, and we'll learn more about it already in this introductory lesson.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#How-to-install-Julia-and-git-and-how-to-work-with-them","page":"0003 - Introduction to Julia","title":"How to install Julia and git and how to work with them","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#A-preamble-on-version-control-software","page":"0003 - Introduction to Julia","title":"A preamble on version control software","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"(Image: Git diagram)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Version control systems are used to keep track of the development of a project and allow easy integration of multiple sub-projects or team contributions. As the figure above shows, they typically allow assigning a name/log entry to a given â€œscreenshot in timeâ€ of project development (commits and tags), visualise differences between them, create and merge branches of different development pathways, automatically manage or facilitate resolution of conflicts between versions,... ","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"First generation (CVS, SVN,â€¦):\nThey were based on a client-server model â†’ the full project (history) is kept in a centralised server and  individual users connect and keep in their local pc one specific version\nSecond generation (Git, Mercurial, Bazaar,...):\nThey adopt a distributed model â†’ each user has the whole copy (including the history) of the project and exchanges its contribution with the other â€œremoteâ€ nodes\nIt increases redundancy\nIt decreases network load\nIt faster operations (many operations â€“ e.g. diff â€“ can be fully done locally) ","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"In particular Julia packages are git-based, and most of them are hosted (or better, mirrored, as we saw that each node in git - called \"remote\" - is a full copy of the project) on GitHub, a popular hub of git-based projects. ","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Set-up-the-environment-required-for-this-course","page":"0003 - Introduction to Julia","title":"Set up the environment required for this course","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"We learn now how to set-up Julia itself, VSCode and its Julia plugin (the development environment) and the git client. Please refer to the video for a more visual guide.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Julia-(terminal)","page":"0003 - Introduction to Julia","title":"Julia (terminal)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Go to https://julialang.org/ â†’ download â†’ 1.7 (or later version) 64 bit installer","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Windows: run with the option \"add julia to path\"\nLinux: unzip to ~/lib/julia-1.7.2 (or whatever) and symlink ~/lib/julia-1.7.2/bin/julia to ~/bin/julia1.7 with an other symlink ~/bin/julia pointing to it. This set up has the advantages that you can have - and run - at the same time multiple versions of Julia. When version 1.8 arrives you can download and unzip it and have the ~/bin/julia1.8 link with ~/bin/julia pointing to it, but you will still have ~/bin/julia1.7, and so on for successive versions.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Visual-Studio-Code","page":"0003 - Introduction to Julia","title":"Visual Studio Code","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Install Visual Studio Code: https://code.visualstudio.com/ â†’ download â†’ install Note that \"Visual Studio\" is another product than \"Visual Studio Code\".","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Visual-Studio-Code-Julia-extension","page":"0003 - Introduction to Julia","title":"Visual Studio Code Julia extension","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"From within Visual Studio code, search the extensions: \"julia\" (not \"julia insider\") Eventually, if for some reasons you didn't set up the Julia interpreter in your OS Path, you can set its path in the extension settings.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"After installed the Julia extension you can try it by selecting File â†’  new file â†’  select a language â†’  julia â†’  type println(\"Hello World!\") followed by SHIFT+ENTER. This should evaluate the command and print \"Hello World!\" both in the terminal at the bottom and as an hoover on the side of the command.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Git-client","page":"0003 - Introduction to Julia","title":"Git client","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"While not striclty necessary to work with Julia or for this course (the Julia executable already ships with a minimal git client to manage packages) it is convenient to have installed a full git client and get Visual Studio recognise it. In Linux just use the package manager to install the version of git client for your distribution, in Windows download it from https://git-scm.com/download/win and install it by explicitly setting git on the PATH and select to use VSCode. You may need to reboot your system before Visual Studio recongises the git client presence.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#A-first-look-on-git(hub):-a-git-workflow-exercise","page":"0003 - Introduction to Julia","title":"A first look on git(hub): a git workflow exercise","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"We will now go trough an exercise to start a new git project on GitHub, \"clone\" it on our local computer, modifying it and \"pushing\" our modifications back on the GitHub server.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"But before let's note a list of essential git commands:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"git clone [url]:  \"Clone\" an existing repository locally, that it transfers the project files of the current and all previous versions (i.e. the full history of the project)\ngit init (inside a given directory): Tell git to treat the current directory as a (new) git project\ngit add [file]: Add a file to the git project (the project must already exist either because we ran git init or we cloned it from a remote repository)\ngit commit -a -m â€œ[message]â€:  Commit your work, i.e. save as a specific version in the project. This \"version\" will have an id, will appear in the git logs and can be \"tagged\" to be easily retrieved\nBranches:\ngit branch: See all the \"branches\" of a project, the parallel development histories associated with it\ngit branch [branchname]: Create a new branch\ngit checkout [branchname]: Switch to an existing branch \ngit merge [branchname]: Merge the named branch to the current one\ngit branch -d [branchname]: Delete a local branch\nWorking with remotes:\ngit fetch: Fetch content from a remote repository (without attempting to update the local repository)\ngit pull: Fetch and try to merge locally from a remote repository\ngit push: Push the data to a remote repository \ngit remote: List all the remote repositories (when we clone from GitHub we have that remote listed by default as origin)\nInformation:\ngit status: Get the status of the current repository\ngit log: Get git logs\ngit diff: See diff with HEAD\ngit diff [commithash1] [commithash2] See diff between any arbitrary commit(s)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Further information specific on Git can fe found on:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Git tutorials (shorts):\nhttps://git-scm.com/docs/gittutorial\nhttps://thenewstack.io/tutorial-git-for-absolutely-everyone  \nGit book (long):\nhttps://git-scm.com/book","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Let's now create, as exercise, our first git repository, clone locally, make some edits and push it back on GitHub. Again, if you are lost folllowing the text, watch the video above for a visual guide.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"First register or sign in on github.com and add a new repository, for example \"testGit\". Attention to the capital letters, they matter, and don't use spaces in the project name. In the project creation form, select the options to add a readme file, a gitignore (for Julia) and a licence of your choice.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"We are now ready to clone the repository locally using Visual Code Studio, either using an automatic way or a more \"manual\" approach. In the first case:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"From within Visual Studio Code, type CTRL+SHIFT+P to open the command palette and search for git:clone\nSelect \"Clone from GitHub\"\nIf needed, provide the required authorisation\nSelect a repository\nSelect the local folder where to clone the repository\nOptionally open or add the newly cloned repository to the workspace","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"For the manual way:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Open a new \"git bash\" terminal using \"new terminal\" and then the \"plus\" symbol\nType in the terminal git clone https://github.com/[YOUR GITHUB USERNAME]/testGit.git\nOpen the folder that should be located on This PC > OS (C:) > Users > [Your name] > testGit","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"We can now do some basic work locally and push it back on GitHub:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Using the VS Code explorer, add a file \"test.jl\"\nOn that file write println(\"Hello World!\") and save\nEdit the README.md file (type what you want)\nIf not already open, open a new \"git bash\" terminal using \"new terminal\" and then the \"plus\" symbol\nType in the terminal git status. It should return you that there is a \"modified\" file under \"Changes not staged for commit\" and a file (our test.jl) under \"Untracked files\"\nType in the terminal git add test.jl followed by git status again. Now test.jl should be under \"New file\"\nIf you never used git on this pc, type this (this is needed only once to tell git who you are):","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"git config â€“global user.email \"your@email.com\"\ngit config â€“global user.name \"Your Name\"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Type in the terminal git commit -a, add a message for the log, press CTR+X and Y to confirm: you created a new commit, a permanent \"version\" of your project to which you can always \"go back\" whenever needed\nType git push and follow the online instruction to authorise: the commit, that up to now was still only on your local machine, is \"transferred\" to the remote node, github in this case","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"If you go or refresh your browser on https://github.com/[YOUR GITHUB USERNAME]/testGit.git yo ushould now visualise the modifications you made to the repository. Finally, let's try some basic branch workflow.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Edit the file test.jl to add some text on the lines 4, 7 and 9, save and commit as before\nType in the terminal git branch temp to create a new branch named temp and git checkout temp to move on that specific branch\nNow edit test.jl on line 9, save and commit again\nLet's go back to the main (default) branch with git checkout main. Note how the modifications you made on point 3 \"seem\" to have disappeared","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"warning: Warning\nNote that until a few years ago the default branch name on all git systems was \"master\". Most old projects still use that name for their default branch.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"Edit test.jl on line 5, save and commit\nType in the terminal git diff main temp to see the differences between the two branches\nType in the terminal git branch to display al lthe available branches. The current one is highlithed with a star. Be sure it is main\nType in the terminal git merge temp to merge the work you have done in the branch temp (the modificaitons on line 9) in the current main branch\nType in the terminal git log to retrieve a log of the commits you made\nType in the terminal git push to push the modifications to the remote( GitHub)\nType in the terminal git branch -d temp to remove the nolongerneeded temp branch","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html#Julia-modules,-packages-and-environments","page":"0003 - Introduction to Julia","title":"Julia modules, packages and environments","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.md\",\n\"title\" : \"0003_-_Introduction_to_Julia.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0003_-_Introduction_to_Julia.html","page":"0003 - Introduction to Julia","title":"0003 - Introduction to Julia","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>03 ML1  - 2A:  A first version (13:22)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/kOGSvdgd_3Y\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>03 ML1  - 2B:  A better version (10:28)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/g0yz7La53Vc\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>03 ML1  - 2C:  Cross-validation implementation (21:7)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/ieIZFF6RYQo\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.jl\"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#The-Perceptron-algorithm-for-linear-classification","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron algorithm for linear classification","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#Some-stuff-to-set-up-the-environment..","page":"0302 - The Perceptron classifier","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"If using a Julia version different than 1.7 please uncomment and run the following line (the guarantee of reproducibility will however be lost) Pkg.resolve()","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Pkg.instantiate()\nusing Random\nRandom.seed!(123)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#Perceptron-elementary-operations","page":"0302 - The Perceptron classifier","title":"Perceptron elementary operations","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"using StatsPlots\nfunction plot2DClassifierWithData(X,y,Î¸;d1=1,d2=2,origin=false,pid=1)\n    colors = [y == -1 ? \"red\" : \"green\" for y in y]\n    labels = [y == -1 ? \"-1\" : \"+1\" for y in y]\n    minD1,maxD1 = extrema(X[:,d1])\n    minD2,maxD2 = extrema(X[:,d2])\n    myplot = scatter(X[:,d1],X[:,d2], colour=colors, title=\"Linear classifier in 2D\",xlabel=\"Dimx: $d1\", ylabel=\"Dimy: $d2\", group=labels)\n    constTerm = 0.0\n    if !origin\n        d1 += 1\n        d2 += 1\n        constTerm = -Î¸[1]/Î¸[d2]\n    end\n    d2Class(x) = constTerm -x * Î¸[d1]/Î¸[d2]\n    if Î¸[d2] == 0\n        vline!([0], color= \"blue\",label=\"\",linewidth=5)\n    else\n        plot!(d2Class,min(Î¸[d1],minD1),max(maxD1,Î¸[d1]), color= \"blue\",label=\"\",linewidth=5)\n    end\n    plot!([0,Î¸[d1]],[0,Î¸[d2]],arrow=true,color=:black,linewidth=2,label=\"\")\n    display(myplot)\n    savefig(\"currentPlot$(pid).svg\");\nend\nisClassificationError(Î¸,y,x) =  y * (Î¸' * x) <= eps()\nperceptronUpdate(Î¸,y,x)      = return Î¸ .+ y .* x\n\nX = [ 2 4\n     -6 1]\ny = [-1,-1]\nÎ¸â‚€ = [0,0]\nÎ¸ = Î¸â‚€\n\nÏµ = isClassificationError(Î¸,y[1],X[1,:])\nÎ¸ = perceptronUpdate(Î¸,y[1],X[1,:])\nplot2DClassifierWithData(X,y,Î¸,origin=true,pid=1)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[1],X[1,:])\nÏµ = isClassificationError(Î¸,y[2],X[2,:])\nÎ¸ = perceptronUpdate(Î¸,y[2],X[2,:])\nplot2DClassifierWithData(X,y,Î¸,origin=true,pid=2)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[2],X[2,:])\nÏµ = isClassificationError(Î¸,y[1],X[1,:])\n\nX = [ 2 4\n     1 -2]\nÎ¸ = Î¸â‚€\n\nÏµ = isClassificationError(Î¸,y[1],X[1,:])\nÎ¸ = perceptronUpdate(Î¸,y[1],X[1,:])\nplot2DClassifierWithData(X,y,Î¸, origin=true,pid=3)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[1],X[1,:])\nÏµ = isClassificationError(Î¸,y[2],X[2,:])\nÎ¸ = perceptronUpdate(Î¸,y[2],X[2,:])\nplot2DClassifierWithData(X,y,Î¸, origin=true,pid=4)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[1],X[1,:])\nÏµ = isClassificationError(Î¸,y[2],X[2,:])\nÎ¸ = perceptronUpdate(Î¸,y[2],X[2,:])\nplot2DClassifierWithData(X,y,Î¸,origin=true,pid=5)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[1],X[1,:])\nÏµ = isClassificationError(Î¸,y[2],X[2,:])\nÎ¸\n\nX = [ 2 4\n     -2 2]\ny = [-1,1]\nÎ¸ = Î¸â‚€\nÏµ = isClassificationError(Î¸,y[1],X[1,:])\nÎ¸ = perceptronUpdate(Î¸,y[1],X[1,:])\nplot2DClassifierWithData(X,y,Î¸, origin=true,pid=6)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Ïµ = isClassificationError(Î¸,y[2],X[2,:])\nÎ¸ = perceptronUpdate(Î¸,y[2],X[2,:])\nplot2DClassifierWithData(X,y,Î¸,origin=true,pid=7)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#The-complete-algorithm","page":"0302 - The Perceptron classifier","title":"The complete algorithm","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"function perceptronOrigin(X,y,epochs=1;verbose=false)\n    (nR,nD) = size(X)\n    local Î¸ = zeros(nD)\n    for t in 1:epochs\n        for n in 1:nR\n            if verbose\n                println(\"$n: X[n,:] \\t Î¸: $Î¸\")\n            end\n            if isClassificationError(Î¸,y[n],X[n,:])\n                Î¸ = perceptronUpdate(Î¸,y[n],X[n,:])\n                if verbose\n                    println(\"**update! New theta: $Î¸\")\n                end\n            end\n        end\n    end\n    return Î¸\nend\nÎ¸opt =  perceptronOrigin(X,y,verbose=true)\nplot2DClassifierWithData(X,y,Î¸opt, origin=true,pid=8)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"using BetaML, DelimitedFiles\nbaseDir          = joinpath(dirname(pathof(BetaML)),\"..\",\"test\",\"data\")\nperceptronData   = readdlm(joinpath(dirname(pathof(BetaML)),\"..\",\"test\",\"data\",\"binary2DData.csv\"),'\\t')\n\nnR = size(perceptronData,1)\n\nidx = shuffle(1:nR)\nperceptronData = perceptronData[idx,:]\nX                = copy(perceptronData[:,[2,3]])\ny                = convert(Array{Int64,1},copy(perceptronData[:,1]))\nÎ¸opt             = perceptronOrigin(X,y,verbose=true)\n\nplot2DClassifierWithData(X,y,Î¸opt, origin=true,pid=20)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#A-better-organisation","page":"0302 - The Perceptron classifier","title":"A better organisation","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Now we rewrite the perceptron algorithm setting all the parameters in a structure and using what could be a generic interface for any supervised model. This is the approach used by most ML libraries. We will see how to measure the classification error and as we are here we add the constant term with the constant addition to the data trick (note that editing every time the feature matrix is NOT efficient and we do it here only for simplicity. A better way is to explicitly model the perceptron model with a constant parameter.)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"abstract type SupervisedModel end\nabstract type TrainingOptions end\n\nmutable struct Perceptron <: SupervisedModel\n    Î¸::Vector{Float64}\nend\n\nmutable struct PerceptronTrainingOptions <: TrainingOptions\n    epochs::Int64\n    verbose::Bool\n    shuffle::Bool\n    function PerceptronTrainingOptions(;epochs=1,verbose=false,shuffle=false)\n        return new(epochs,verbose,shuffle)\n    end\nend\n\n\nfunction predict(model::Perceptron,x::AbstractVector)\n    x = vcat(1.0,x)\n    x' * model.Î¸ > eps() ? (return 1) : (return -1)\nend\n\nfunction predict(model::Perceptron,X::AbstractMatrix)\n    return [predict(model,r) for r in eachrow(X)]\nend\n\n\nfunction update!(model::Perceptron,X::Vector,y)\n    X       = vcat(1.0,X)\n    model.Î¸ = model.Î¸ .+ y .* X\n    return model.Î¸\nend\n\nfunction train!(model::Perceptron,X,y,ops=PerceptronTrainingOptions()::TrainingOptions)\n    epochs  = ops.epochs\n    verbose = ops.verbose\n    (nR,nD) = size(X)\n    nD += 1\n    for t in 1:epochs\n        errors = 0\n        if ops.shuffle   # more efficient !\n          idx = shuffle(1:nR)\n          X = X[idx,:]\n          y = y[idx]\n        end\n        for n in 1:nR\n            if verbose\n                println(\"$n: X[n,:] \\t Î¸: $(model.Î¸)\")\n            end\n            if  predict(model,X[n,:]) != y[n]\n                errors += 1\n                Î¸ = update!(model,X[n,:],y[n])\n                if verbose\n                    println(\"**update! New theta: $(model.Î¸)\")\n                end\n            end\n        end\n        if verbose\n            println(\"Epoch $t errors: $errors\")\n        end\n    end\n    return model.Î¸\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#Testing-the-Perceptron-algorithm","page":"0302 - The Perceptron classifier","title":"Testing the Perceptron algorithm","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"m   = Perceptron(zeros(size(X,2)+1))\nops = PerceptronTrainingOptions()\ntrain!(m,X,y,ops)\nplot2DClassifierWithData(X,y,m.Î¸,pid=9)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"yÌ‚ = predict(m,X)\ninSampleAccuracy = sum(y .== yÌ‚)/length(y)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Let's see if shuffling and increasing epochs we improve the accuracy....","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"ops = PerceptronTrainingOptions(verbose=false,epochs=5,shuffle=true)\nm   = Perceptron(zeros(size(X,2)+1))\ntrain!(m,X,y,ops)\nplot2DClassifierWithData(X,y,m.Î¸,pid=10)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"yÌ‚ = predict(m,X)\ninSampleAccuracy = sum(y .== yÌ‚)/length(y)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html#Cross-validation-and-hyperparameters-optimisation","page":"0302 - The Perceptron classifier","title":"Cross-validation and hyperparameters optimisation","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Let's see now using separate training/validation We use the BetaML partition() function","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"((xtrain,xtest),(ytrain,ytest)) = partition([X,y],[0.6,0.4])\nm             = Perceptron(zeros(size(X,2)+1))\nops           = PerceptronTrainingOptions(epochs=5,shuffle=true)\ntrain!(m,xtrain,ytrain,ops)\nplot2DClassifierWithData(xtrain,ytrain,m.Î¸,pid=11)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"yÌ‚train = predict(m,xtrain)\ntrainAccuracy = accuracy(yÌ‚train,ytrain)\nsum(ytrain  .== yÌ‚train)/length(ytrain)\n# @edit accuracy(yÌ‚train,ytrain)\nyÌ‚test         = predict(m,xtest)\ntestAccuracy  = accuracy(yÌ‚test,ytest)\nplot2DClassifierWithData(xtest,ytest,m.Î¸,pid=12)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"cfOut = ConfusionMatrix(yÌ‚test,ytest)\nprint(cfOut)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"Lets use CrossValidation","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"((xtrain,xvalidation,xtest),(ytrain,yvalidation,ytest)) = partition([X,y],[0.6,0.2,0.2])\n# Very few records..... let's go back to using only two subsets but with CrossValidation\n((xtrain,xtest),(ytrain,ytest)) = partition([X,y],[0.6,0.4])\n\nsampler    = KFold(nSplits=10)\n\nops     = PerceptronTrainingOptions(epochs=10,shuffle=true)\n(acc,Ïƒ) = crossValidation([xtrain,ytrain],sampler) do trainData,valData,rng\n                (xtrain,ytrain) = trainData; (xval,yval) = valData\n                m               = Perceptron(zeros(size(xtrain,2)+1))\n                train!(m,xtrain,ytrain,ops)\n                yÌ‚val         = predict(m,xval)\n                valAccuracy  = accuracy(yÌ‚val,yval)\n                return valAccuracy\n            end\n\n\nepochsSet  = 1:10:301\nshuffleSet = [false,true]\n\nbestE       = 0\nbestShuffle = false\nbestAcc     = 0.0\n\nfor e in epochsSet, s in shuffleSet\n    global bestE, bestShuffle, bestAcc\n    local acc\n    local ops  = PerceptronTrainingOptions(epochs=e,shuffle=s)\n    (acc,_)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData,rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    m               = Perceptron(zeros(size(xtrain,2)+1))\n                    train!(m,xtrain,ytrain,ops)\n                    yÌ‚val            = predict(m,xval)\n                    valAccuracy     = accuracy(yÌ‚val,yval)\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc     = acc\n        bestE       = e\n        bestShuffle = s\n    end\nend\n\nbestAcc\nbestE\nbestShuffle\n\nops = PerceptronTrainingOptions(epochs=bestE,shuffle=bestShuffle)\nm   = Perceptron(zeros(size(xtest,2)+1))\ntrain!(m,xtrain,ytrain,ops)\nyÌ‚test           = predict(m,xtest)\ntestAccuracy    = accuracy(yÌ‚test,ytest)\n\nplot2DClassifierWithData(xtest,ytest,m.Î¸,pid=13)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"(Image: )","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"View this file on Github.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"This page was generated using Literate.jl.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.md\",\n\"title\" : \"0302_-_The_Perceptron_classifier.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302_-_The_Perceptron_classifier.html","page":"0302 - The Perceptron classifier","title":"0302 - The Perceptron classifier","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html#Decision-trees-based-algorithms","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"[Draft]","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"(Image: GuessWho)","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"Have you ever played with the board game Guess Who? when you were a child ? The game objective is to find a particular character by asking questions related to its characteristics, like the sex, the colour of the hairs or the eyes, etc...","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"Decisions trees are the collections of \"questions\" that you pose, relative to some data characteristics (the features, in ML jargon), to arrive determining some other unknown characteristics (the labels). In the board game the unknown characteristics is the name of the character, and it is unique across the board. But more in general it can be a characteristic shared by many individuals. For example we could play Guess Who? with the objective to determine the sex of the character (without of course the possibility to ask about it).","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"It then become obvious that the \"best\" question is those that can split our records the most evenly possible in groups based on the desired feature. In the example above asking if the character has barb, or earrings,  would likelly be good questions. ","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"Decision trees algorithms are algorithms that indeed learn from the data to ask the \"best\" questions to arrive to features in the shortest possible term, i.e. by posing the less amount of questions.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"Decision trees are very quick and efficient methods to predict a label, either for classification or for regression, but are highly sensitive to the specific data on which they are trained. Random forests are ensemble of decision trees, each one trained on slighly different data, as the N records avaialble for training are sampled with replacement N times, so some records may appear multiple times, some others are not used for a particular tree (this tecnique is called boostrapping). Also, each decision trees consider (again, randomly) only a subset of features (dimensions) from the given data during training.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"In a Random Forest, the individual decision trees outputs are then aggregated and weighted to provide an output with much less variance than individual trees (the boostrap plus aggregation takes the name of bagging).","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"The trees that are not been used (sampled) by each decision tree can be used to provide a so called out-of-bag estimate of the validation error without the need to use a separate validation set. Cool, isn't it ?!","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"BetaML supports Decision Trees and Random forest respectivelly with the buildTree(x,y;...) and buildForest(x,y,nTrees;...) functions that perform the training. Their outputs can then be used to make predictions with predict(treeOrForest,x).","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"Note that while faster implementations of DT/RF exists (for ex. the DecisionTree.jl package), BetaML RF/DT are quite unique in the way they do not assume any order in the feature dimensions and work straight away, without the need of any preprocessing, with almost any kind of data. Continuous, integer, categorical, custom types... even missing data is supported. Similarly, the kind of job (regression/classification) is automatically determined by the type of the labels, with the otion to force a classification job even for numerical labels.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"While RF generalise well, still a few hyperparameters are provided in order to improve regularisation:","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"nTrees: Number of trees in the forest [def: 30]\nmaxDepth: The maximum depth the tree is allowed to reach. When this is reached the node is forced to become a leaf [def: N, i.e. no limits]\nminGain: The minimum information gain to allow for a node's partition [def: 0]\nminRecords:  The minimum number of records a node must holds to consider for a partition of it [def: 2]\nmaxFeatures: The maximum number of (random) features to consider at each partitioning [def: âˆšD,]\nsplittingCriterion: Either gini, entropy or variance","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.md\",\n\"title\" : \"0501_-_Decision_trees_based_algorithms.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0501_-_Decision_trees_based_algorithms.html","page":"0501 - Decision trees based algorithms","title":"0501 - Decision trees based algorithms","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 4A: Variables scope (9:47)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/S8HcWitIRZg\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 4B: Loops and conditional statements (9:2)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/DGh_5aNKghI\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 4C: Functions (25:57)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/oejR6LKvFXY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Control-Flow-and-Functions","page":"0104 - Control flow and functions","title":"0104 Control Flow and Functions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Some-stuff-to-set-up-the-environment..","page":"0104 - Control flow and functions","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 01.01","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"using Random\nRandom.seed!(123)\nusing InteractiveUtils # loaded automatically when working... interactively","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Variables-scope","page":"0104 - Control flow and functions","title":"Variables scope","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"The scope of a variable is the region of code where the variable can be accessed directly (without using prefixes). Modules, functions, for and other blocks (but notably not \"if\" blocks) introduce an inner scope that hinerit from the scope where the block or function is defined (but not, for function, from the caller's scope). Variables that are defined outside any block or function are global for the module where they are defined (the Main module if outside any other module, e.g. on the REPL), the others being local. Variables defined in a for block that already exists as global behave differently depending if we are working interactively or not:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"g  = 2\ng2 = 20\nfor i in 1:2\n    l1 = g2                                       # l1: local, g2: global (read only)\n    l1 += i\n    g = i                                         # REPL/INTERACTIVE: global (from Julia 1.5), FILE MODE: local by default (with a warning `g` being already defined)\n    g += i\n    println(\"i: $i\")\n    println(\"l1: $l1\")\n    println(\"g: $g\")\n    for j in 1:2\n        l1 += j                                   # still the local in outer loop, not a new local one\n        l2 = j\n        g  += j\n        println(\"j: $j\")\n        println(\"l1 inside inner loop: $l1\")\n        println(\"l2 inside inner loop: $l2\")\n        println(\"g inside inner loop: $g\")\n    end\n    # println(\"l2 post: $l2\")                     # error: l2 not defined in this scope\n    println(\"l1 post: $l1\")\n    println(\"g post: $g\")\nend\n# println(\"l1 global $l1\")                        # error; l1 is not defined in the global scope\nprintln(\"g in global: $g\")                        # REPL/INTERACTIVE: \"7\", FILE MODE: \"2\"\n\nfunction foo(i)\n    l1 = g2                                       # l1: local, g2: global (read only)\n    l1 += i\n    g = i                                         # REPL/INTERACTIVE and FILE MODE: local by default (with a warning `g` being already defined)\n    g += i\n    println(\"i: $i\")\n    println(\"l1: $l1\")\n    println(\"g: $g\")\n    for j in 1:2\n        l1 += j                                   # still the local in outer loop, not a new local one\n        l2 = j\n        g  += j\n        println(\"j: $j\")\n        println(\"l1 inside inner loop: $l1\")\n        println(\"l2 inside inner loop: $l2\")\n        println(\"g inside inner loop: $g\")\n    end\n    # println(\"l2 post: $l2\")                     # error: l2 not defined in this scope\n    println(\"l1 post: $l1\")\n    println(\"g post: $g\")\nend\n\nprintln(\"Calling foo..\")\nfoo(10)\nprintln(\"g in global: $g\")                        # REPL/INTERACTIVE: \"7\", FILE MODE: \"2\"\n\ng = 2\ninclude(\"010401-varScopeExample.jl.txt\")            # gives a warning !","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Repeated-iterations:-for-and-while-loops,-List-Comprehension,-Maps","page":"0104 - Control flow and functions","title":"Repeated iterations: for and while loops, List Comprehension, Maps","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"for i in 1:2, j in 3:4             # j is the inner loop\n    println(\"i: $i, j: $j\")\nend\na = 1\nwhile true             # or condition, e.g. while a == 10\n    global a += 1\n    println(\"a: $a\")\n    if a == 10\n        break\n    else\n        continue\n    end\n    println(\"This is never printed\")\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#List-Comprehension","page":"0104 - Control flow and functions","title":"List Comprehension","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"[ i+j for i in 1:2, j in 3:4 if j >= 4]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Maps","page":"0104 - Control flow and functions","title":"Maps","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Apply a (possible anonymous) function to a list of arguments:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"map((name,year) -> println(\"$name is $year year old\"), [\"Marc\",\"Anna\"], [25,22])","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"warninng: Warninng\nDon't confuse the single-line arrows used in anonymous functions (->) with the double-line arrow used to define a Pair (=>)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"We can use maps to substitute values of an array based on a dictionary:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"countries = [\"US\",\"UK\",\"IT\",\"UK\",\"UK\"]\ncountryNames = Dict(\"IT\" => \"Italy\", \"UK\" => \"United Kngdom\",  \"US\"=>\"United States\")\ncountryLongNames = map(cShortName -> countryNames[cShortName], countries)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Conditional-statements:-if-blocks-and-ternary-operators","page":"0104 - Control flow and functions","title":"Conditional statements: if blocks and ternary operators","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"a = 10\n\nif a < 4                      # use `!`, `&&` and `||` for \"not\", \"and\" and  \"or\" conditions\n    println(\"a < 4\")\nelseif a < 8\n    println(\"a < 8\")\nelse\n    println(\"a is big!\")\nend\n\na = 10\n\nif a < 5\n  b = 100\nelse\n  b = 200\nend\n\nb","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Ternary operators","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"b =  a < 5 ? 100 : 200   # ? condition : if true : if false","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Short-circuit evaluation","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"b = 100\n(a < 5) || (b = 200)    # replace an if: the second part is executed unless the first part is already true\nb\n(a < 50) || (b = 500)   # here is never executed\nb","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"warning: Warning\nDon't confuse boolean operators && and || with their analogous & and | bitwise operators","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"a = 3\nb = 2\nbitstring(a)\nbitstring(b)\n\n##a && b     # error non boolean used in boolean context\na & b\na | b","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Functions","page":"0104 - Control flow and functions","title":"Functions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"function foo(x)             # function definition\n    x+2\nend\nfoo(2)                      # function call\ninlineFunction(x) = x+2\nfoo2 = x -> x+2             # anonymous function (aka \"lambda function\") and assignment to the variable foo2\nfoo2(2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"A nested function:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"function f1(x)\n    function f2(x,y)\n        x+y\n    end\n    f2(x,2)\nend\n\nf1(2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"A recursive function:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"function fib(n)                   # This is a naive implementation. Much faster implementations of the Fibonacci numbers exist\n    if n == 0  return 0\n    elseif n == 1 return 1\n    else\n     return fib(n-1) + fib(n-2)\n    end\nend\nfib(4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Function-arguments","page":"0104 - Control flow and functions","title":"Function arguments","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Positional-vs-keyword-arguments","page":"0104 - Control flow and functions","title":"Positional vs keyword arguments","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"f(a,b=1;c=1) = a+10b+100c  # `a` and `b` are positional arguments (`b` with a default provided), `c` is a keyword argument\nf(2)\nf(2,c=3)\n\nfoo(a, args...;c=1) = a + length(args) + sum(args) + c\nfoo(1,2,3,c=4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Rules for positional and keyword arguments:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"keyword arguments follow a semicolon ; in the parameters list of the function definition\na positional argument without a default can not follow a positional argument with a default provided\nthe splat operator to define variable number of arguments must be the last positional argument\nthe function call must use positional arguments by position and keyword arguments by name","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"# foo(a::String=\"aaa\",b::Int64) = \"$a \"+string(b) # error! Optional positional argument before a mandatory positional one","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Argument-types-and-multiple-dispatch","page":"0104 - Control flow and functions","title":"Argument types and multiple dispatch","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Simple to understand the usage, complex to understand the deep implications","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"foo3(a::Int64,b::String) = a + parse(Int64,b)\nfoo3(2,\"3\")\nfoo3(a::String,b::Int64) = parse(Int64,a) + b\nfoo3(\"3\",2)\nmethods(foo3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Multiple dispatch allows to compile a specialised version JIT at run time, on the first call with the given parameters type We will see it again when dealing with type inheritance In general, unless we need to write specialised methods, no need to specify the type of the parameters. No influence on performances, this is automatically inferred (and the funciton compiled) based on the run-time type of the argument","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"!!! tip Functions performances tip     The most important things for performances are (1) that the function is type stable, that is, that conditional to a specific combination of the types of the parameters the function returns the same type. This is a condition necessary to have a working chain of type inference across function calls; (2) that no (non constant) global constants are used in the function and indeed all the required information for the functio ndoing its work is embedded in the function parameters","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#Function-templates","page":"0104 - Control flow and functions","title":"Function templates","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"foo3(a::T,b::String) where {T<: Number} = a + parse(T,b)             # can use T in the function body\nfoo3(2,\"1\")\nfoo3(1.5,\"1.5\")\nfoo4(a::Int64,b::T where T <: Number) = a + b                        # ok not used in functio nbody\nfoo4(a::Int64,b::Array{T} where T <: Number) = a .+ fill(T,b,2)      # wil lerror, can't use T in the function body\n# foo4(2,[1,2])                                                     # run time error, T not defined","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#*Call-by-reference*-vs.-*call-by-value*","page":"0104 - Control flow and functions","title":"Call by reference vs. call by value","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"How the variable used as function argument within the function body relates to the variable used in calling the function ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"call by value: the value of the argument is copied and the function body works on a copy of the value\ncall by reference: the function works on the same object being referenced by the caller variable and the function argument\ncall by sharing (Julia): the arguments are just new local variables that bind the same object. The effects of \"modifications\" on the local variable on the caller's one depends on the mutability property of the object as we saw in the Types and objects segment:\nimmutable objects: we can only have that the argument is rebinded to other objects. No effects on the original caller object\nmutable objects: if the argument is rebinded to an other object, no effects on the caller object. If the object is modified, the caller object (being the same object) is also modified","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"x = 10\nfoo(y) = y = 1\nfoo(x)\nx\nfoo(x) = x[1] = 10\nx = [1,2]\nfoo(x)\nx\nfoo3(x) = x = [10,20]\nfoo3(x)\nx","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"info: Info\nFunctions that modify at least one of their arguments are named, by convention, with an exclamation mark at the end of their name and the argument(s) that is (are) modified set as the first(s) argument(s)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"foo!(x) = x[1] = 10 # to follow the convention","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html#do-blocks","page":"0104 - Control flow and functions","title":"do blocks","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Functions that accept an other function as their first parameter can be rewritten with the function itself defined in a do block:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"using Statistics\npool(f,x,poolSize=3) = [f(x[i:i+poolSize-1]) for i in 1:length(x)-poolSize+1] # a real case, used in neural networks as pooling layer\npool(mean,[1,2,3,4,5,6])\npool(maximum,[1,2,3,4,5,6])\npool([1,2,3,4,5]) do x      # x is a local variable within the do block. We need as many local variables as the number of parameters of the inner function\n    sum(x)/length(x)\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"Using the doblock we can call the outer function and define the inner function at the same time.do` blocks are frequently used in input/output operations","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.md\",\n\"title\" : \"0104_-_Control_flow_and_functions.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104_-_Control_flow_and_functions.html","page":"0104 - Control flow and functions","title":"0104 - Control flow and functions","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html#Quiz-1.1:-Basic-Syntax","page":"0101q - QUIZ 1.1","title":"Quiz 1.1: Basic Syntax","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html#Q1:-What-is-it-stored-in-a-project-file-?","page":"0101q - QUIZ 1.1","title":"Q1: What is it stored in a project file ?","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"What information can be stored on a Julia Project.toml file ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"\nchoices = [ # hide\n    \"The name of the packages directly used in the project (julia scripts)\", # hide\n    \"The ID of the packages directly used in the project (julia scripts)\", # hide\n    \"The minimum and maximum version of the packages directly used in the project (julia scripts) that are compatible with the project\", # hide\n    \"The exact version of the packages directly emploied in the project (julia scripts)\", # hide\n    \"The name of all the dependencies libraries of the project (julia scripts)\", # hide\n    \"The ID of all the dependencies libraries of the project (julia scripts)\", # hide\n    \"The minimum and maximum version of all the dependencies libraries used in the project (julia scripts) that are compatible with the project\", # hide\n    \"The exact version of all the dependencies libraries emploied in the project (julia scripts)\", # hide\n    \"None of the (other) sentences is correct\" ]  # hide\nanswers = [1,2,3]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"The Project.toml file task is to indicate which is the set of packages that works with the given project, but not the concrete istance of the environment that is used in a project, that is the exact version of all directly and indirectly used packages. This is indeed the task of the Manifest.toml file.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"\"The name of the packages directly used in the project (julia scripts)\"\n\"The ID of the packages directly used in the project (julia scripts)\"\n\"The minimum and maximum version of the packages directly used in the project (julia scripts) that are compatible with the project\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html#Q2:-Syntax-for-comments","page":"0101q - QUIZ 1.1","title":"Q2: Syntax for comments","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"Given the following sequence of commands (one for each line) run in an interactive session:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"# a = 1\na = 2 # hello\na = # hello # 3\n#= a = 4\n#= a = 5 =#\na = 6\n=#","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"Which statements are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"choices = [ # hide\n    \"`a` is now `1`\", # hide\n    \"`a` is now `2`\", # hide\n    \"`a` is now `3`\", # hide\n    \"`a` is now `4`\", # hide\n    \"`a` is now `5`\", # hide\n    \"`a` is now `6`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n    \"At least one of that commands raises a run-time error\", # hide\n    \"None of that commands raises a run-time error\"]  # hide\nanswers = [2,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"The first command is a comment. On the second one, a is assigned the value 2. The third one raises a syntax error as the equal operator expects a right and a left hand side, while here the right hand side is all commented out. Finally lines 4  to the end is a big nested comment. It results that after that commands have been run, a remains assigned to 2. The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"\"a is now 2\"\n\"At least one of that commands raises a run-time error\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html#Q3:-Various-syntax-rules","page":"0101q - QUIZ 1.1","title":"Q3: Various syntax rules","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"Given a file \"Foo.jl\" with the following code:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"function foo(x)\nprintln(xÂ²)\nend\na = [2,3]\nfoo(a)\nfoo.(a)\nfoo(a[1])","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"Which of the following statements are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"choices = [ # hide\n    \"The output of `foo(a)` is `[4,9]`\", # hide\n    \"The output of `foo.(a)` is `[4,9]`\", # hide\n    \"The output of `foo(a[1])` is `4`\", # hide\n    \"The output of `foo(a[1])` is `9`\", # hide\n    \"Defining the function produces a run-time error because the body of the function is not idented\", # hide\n    \"Calling the function produces a run-time error because the body of the function is not idented\", # hide\n    \"Calling the function produces a run-time error because Unicode characters (`Â²`) are not allowed in Julia\", # hide\n    \"Calling the function produces a run-time error because `xÂ²` is not defined\", # hide\n    \"None of the (other) sentences is correct\", # hide\n]  # hide\nanswers = [8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"First, Unicode characters are allowed (with very rare exceptions) and identation doesn't matter in Julia. We would then be tempted to say hence that the broadcasted call foo.(a) produces [4,9] as output and foo(a[1]) produces 4. However the rising to the power is not obtained by using the Unicode Â² character, but using the exponential operator, i.e. x^2. xÂ² is just an other idetifier name that has not been defined, so the function in all cases returns an error that xÂ² is not defined. The correct answer is:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"\"Calling the function produces a run-time error because xÂ² is not defined\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.md\",\n\"title\" : \"0101q_-_QUIZ_1.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.1.html","page":"0101q - QUIZ 1.1","title":"0101q - QUIZ 1.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#EXERCISE-5.1:-Predicting-credit-approval-with-a-Random-Forest-model","page":"0502x EXERCISE-5.1","title":"EXERCISE 5.1: Predicting credit approval with a Random Forest model","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<p>&nbsp;</p>\n<img src=\"imgs/errorByNumberOfTrees.png\" alt=\"Error per number of trees\" style=\"height:250px;\"> \n<img src=\"imgs/errorByMaxFeatures.png\" alt=\"Error per maxFeatures\" style=\"height:250px;\"> \n<p>&nbsp;</p>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"In this exercise we will implement a Machine Learning workflow to predict the positive or negative outcome of credit applications on the basis of the applicant characteristics. As the data comes from a real-world log from a financial institution, both fields' names and values have been replaced with meaningless symbols to preserve anonymity. ","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"In detail, the attributes of this dataset are:","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"A1: b, a.\nA2: continuous.\nA3: continuous.\nA4: u, y, l, t.\nA5: g, p, gg.\nA6: c, d, cc, i, j, k, m, r, q, w, x, e, aa, ff.\nA7: v, h, bb, j, n, z, dd, ff, o.\nA8: continuous.\nA9: t, f.\nA10: t, f.\nA11: continuous.\nA12: t, f.\nA13: g, p, s.\nA14: continuous.\nA15: continuous.\nA16: +,- (class attribute) - what we want to predict","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Further information concerning this dataset can be found online on the UCI Machine Learning Repository dedicated page","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Our prediction concerns the positive or negative outcome of the credit application.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"While we could have used any supervised ML algorithm, it is suggested to work here with Random Forests from BetaML because of their ease of use and the presence of numerous categorical data and missing data that would require additional work with most other algorithms.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Skills employed:","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"download and import data from internet\ntrain a Random Forest model for classification using BetaML\ntune the various Random Forest hyper-parameters using cross-validation\nuse the additional BetaML functions partition and accuracy,","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#Instructions","page":"0502x EXERCISE-5.1","title":"Instructions","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/05_DT/creditApproval. Otherwise download a zip of just that folder here.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"In the folder you will find the file creditApproval.jl containing the Julia file that you will have to complete to implement the missing parts and run the file (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#Resolution","page":"0502x EXERCISE-5.1","title":"Resolution","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Setting-up-the-environment...","page":"0502x EXERCISE-5.1","title":"1) Setting up the environment...","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages Pipe, HTTP, Plots, CSV, DataFrames, and BetaML.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Load-the-packages","page":"0502x EXERCISE-5.1","title":"2) Load the packages","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Load the packages Pipe, HTTP, Plots, CSV, DataFrames and BetaML.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"using Pipe, HTTP, CSV, DataFrames, Plots, BetaML","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Load-the-data","page":"0502x EXERCISE-5.1","title":"3) Load the data","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Load from internet or from local file the input data. You can use a pipeline from HTTP.get() to CSV.File to finally a DataFrame. Use the parameter missingstring=\"?\" in the CSV.File() call.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"dataURL = \"https://archive.ics.uci.edu/ml/machine-learning-databases/credit-screening/crx.data\"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"data    = @pipe HTTP.get(dataURL).body |> CSV.File(_,missingstring=\"?\") |> DataFrame","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Write-the-feature-matrix-and-the-the-label-vector","page":"0502x EXERCISE-5.1","title":"4) Write the feature matrix and the the label vector","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Create the X matrix of features using the first to the second-to-last column of the data you loaded above and the Y vector by taking the last column. If you use the random forests algorithm suggested above, the only data preprocessing you need to do is to convert the X from a DataFrame to a Matrix and to collect the Y to a vector. Otherwise be sure to encode the categorical data, skip or impute the missing data and scale the feature matrix as required by the algorithm you employ.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"[...] write your code here...","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"(nR,nD) = size(data)\n\ndescribe(data)\ndata = data[shuffle(1:nR),:]\nX    = Matrix(data[:,1:end-1])\nY    = collect(data[:,end])","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Partition-the-data","page":"0502x EXERCISE-5.1","title":"5) Partition the data","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Partition your data in (xtrain,xtest) and (ytrain,ytest) (e.g. using 80% for the training and 20% for testing) You can use the BetaML partition() function. Be sure to shuffle your data if you didn't do it earlier! (that's done by default)","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"[...] write your code here...","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"((xtrain,xtest),(ytrain,ytest)) = partition([X,Y],[0.8,0.2])","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-(optional-but-suggested)-Tune-the-hyper-parameters","page":"0502x EXERCISE-5.1","title":"6) (optional but suggested) Tune the hyper-parameters","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Find the best hyper-parameters for the model, i.e. the ones that lead to the highest accuracy under the records not used for training.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"We can use the crossValidation function here.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"The idea is that for each hyper-parameter we have a range of possible values, and for each hyper-parameter, we first set bestAcc=0.0 and then loop on each possible value, we run crossValidation with that particular value to compute the average training accuracy with that specific value under different data samples, and if it is better than the current bestAcc, we save it as the new bestAcc and the parameter value as the best value for that specific hyper-parameter. After we have found the best hyper-parameter value for one specific hyper-parameter, we can switch to the second hyper-parameter repeating the procedure but using the best value for the first hyper-parameter that we have found earlier, and we continue with the other hyper-parameters. Note that if we limit the hyper-parameter space sufficiently, we could also directly loop over all the possible combinations of hyper-parameters.","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"If you use the Random Forests from BetaML, consider the following hyper-parameter ranges:","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"nTrees_range             = 20:5:60\nsplittingCriterion_range = [gini,entropy]\nmaxDepth_range           = [10,15,20,25,30,500]\nminRecords_range         = [1,2,3,4,5]\nmaxFeatures_range        = [2,3,4,5,6]\nÎ²_range                  = [0.0,0.5,1,2,5,10,20,50,100]","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"To train a Random Forest in BetaML use: myForest = buildForest(xtrain,ytrain, nTrees; <other hyper-parameters>).","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"And then to predict and compute the accuracy use:","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Å·train=predict(myforest,xtrain)\ntrainAccuracy = accuracy(Å·train,ytrain)","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"This activity is \"semi-optional\", becauses Random Forests have already very good default values, so the gain we will likely obtain with tuning the various hyper-parameters is not expected to be very high. But it is a good exercise to arrive at this result by yourself !","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"[...] write your code here...","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"sampler = KFold(nSplits=10,nRepeats=2)\n\nnTrees_best             = 20\nsplittingCriterion_best = \"gini\"\nmaxDepth_best           = 10\nminRecords_best         = 2\nmaxFeatures_best        = 3\nÎ²_best                  = 0.0\n\n# Looking for hyper-parameters one at a time\n\n# #### Number of trees\nbestAcc = 0.0\naccuracies = []\nfor nt in nTrees_range\n    global nTrees_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $nt nTrees: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nt)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        nTrees_best = nt\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nplot(nTrees_range,accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"nTrees\")\n\n# #### Splitting criterion\nbestAcc = 0.0\naccuracies = []\nfor sc in splittingCriterion_range\n    global splittingCriterion_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $sc splittingCriterion: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=sc)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        splittingCriterion_best = sc\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nbar(string.(splittingCriterion_range),accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"splititngCriterion\")\n\n# #### Max (tree) depth\nbestAcc = 0.0\naccuracies = []\nfor md in maxDepth_range\n    global maxDepth_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $md maxDepth: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=splittingCriterion_best, maxDepth=md)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        maxDepth_best = md\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nplot(maxDepth_range,accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"maxDepth\")\nplot(maxDepth_range[1:end-1],accuracies[1:end-1],legend=nothing,ylabel=\"accuracy\",xlabel=\"maxDepth\")\n\n\n# #### Min records per leaf\nbestAcc = 0.0\naccuracies = []\nfor mr in minRecords_range\n    global minRecords_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $mr minRecords: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=splittingCriterion_best, maxDepth=maxDepth_best, minRecords=mr)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        minRecords_best = mr\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nplot(minRecords_range,accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"minRecords\")\n\n# #### Max features to consider in a tree\nbestAcc = 0.0\naccuracies = []\nfor mf in maxFeatures_range\n    global mmaxFeatures_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $mf maxFeatures: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=splittingCriterion_best, maxDepth=maxDepth_best, maxFeatures=mf)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        maxFeatures_best = mf\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nplot(maxFeatures_range,accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"maxFeatures\")\n\n# #### Weigth for best trees representation\nbestAcc = 0.0\naccuracies = []\nfor b in Î²_range\n    global Î²_best, bestAcc, accuracies\n    local acc\n    print(\"Accuracy for $b Î²: \")\n    (acc,Ïƒ)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData, rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    forest          = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=splittingCriterion_best, maxDepth=maxDepth_best, maxFeatures=maxFeatures_best, Î²=b)\n                    Å·val            = predict(forest,xval)\n                    valAccuracy     = accuracy(Å·val,collect(yval))\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc = acc\n        Î²_best = b\n    end\n    push!(accuracies,acc)\n    println(\"$acc (Ïƒ: $Ïƒ)\")\nend\nplot(Î²_range,accuracies,legend=nothing,ylabel=\"accuracy\",xlabel=\"Î²\")","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html#)-Train-and-evaluate-the-final-model","page":"0502x EXERCISE-5.1","title":"7) Train and evaluate the final model","text":"","category":"section"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"Perform the final training with the best hyperparameters and compute the accuracy on the test set If you have chosen good hyperparameters, your accuracy should be in the 98%-99% range for training and 81%-89% range for testing ","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"[...] write your code here...","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"forest = buildForest(xtrain, ytrain, nTrees_best, splittingCriterion=splittingCriterion_best, maxDepth=maxDepth_best, maxFeatures=maxFeatures_best)\nÅ·train = predict(forest,xtrain)\nÅ·test  = predict(forest,xtest)\ntrainAccuracy = accuracy(Å·train,ytrain)\ntestAccuracy  = accuracy(Å·test,ytest)\n\n# To compare, using the default values and a single Decision Tree:\n\n# default values..\nforest = buildForest(xtrain, ytrain)\nÅ·train = predict(forest,xtrain)\nÅ·test  = predict(forest,xtest)\ntrainAccuracy = accuracy(Å·train,ytrain)\ntestAccuracy  = accuracy(Å·test,ytest)\n\n# single decision tree..\ntree = buildTree(xtrain, ytrain)\nÅ·train = predict(tree,xtrain)\nÅ·test  = predict(tree,xtest)\ntrainAccuracy = accuracy(Å·train,ytrain)\ntestAccuracy  = accuracy(Å·test,ytest)","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"</details>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.md\",\n\"title\" : \"0502x_EXERCISE-5.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"05_-_DT_-_Decision_trees_based_algorithms/0502x_EXERCISE-5.1.html","page":"0502x EXERCISE-5.1","title":"0502x EXERCISE-5.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html#Quiz-1.7:-Scope,-loops-and-conditional-statements","page":"0104q - QUIZ 1.7","title":"Quiz 1.7: Scope, loops and conditional statements","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html#Q1:-Variables-scope","page":"0104q - QUIZ 1.7","title":"Q1: Variables scope","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"x = 'a'\nfor c in \"Hello World!\"\n  x = c\nend\nx","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"Which of the following sentences are true (assume a Julia version >= 1.5) ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"\nchoices = [ # hide\n    \"When the code is run in an interactive mode (e.g. on the REPL) an error is raised\", # hide\n    \"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) an error is raised\", # hide\n    \"When the code is run in an interactive mode (e.g. on the REPL) a warning is raised\", # hide\n    \"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) a warning is raised\", # hide\n    \"When the code is run in an interactive mode (e.g. on the REPL) x is now `!`\", # hide\n    \"When the code is run in an interactive mode (e.g. on the REPL) x is now `a`\", # hide\n    \"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) `x` is now `!`\", # hide\n    \"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) `x` is now `a`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [4,5,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"When the script is run interactively, the x within the for block is the global variable, while when the code is run in a non interactive way x is a new local variable that shadows the global x variable and a warning is provided.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"\"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) a warning is raised\"\n\"When the code is run in an interactive mode (e.g. on the REPL) x is now !\"\n\"When the code is run in an non-interactive mode (e.g. the whole script is on an imported file) x is now a\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html#Q2:-Nested-for-loops","page":"0104q - QUIZ 1.7","title":"Q2: Nested for loops","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"Given that the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"for i = 2:6\n  k = round(Int64,i/2)\n  for j = 4:-1:XXX\n    println(j)\n  end\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"prints the sequence 4,3,2,4,3,4, what is XXX in the code ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"\nstringq(Regex(\"i\")) # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"The inner loop starts at 4 and then continues in reverse order until it reaches the value of the outer loop, first 2, then 3 and finally 4. For is over 4, the inner loop is never executed. Remember that in a range, in Julia, both the extremes are included.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"The correct answer is: i","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html#Q3:-Conditional-statements","page":"0104q - QUIZ 1.7","title":"Q3: Conditional statements","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"Given that c=10, which of the following statements, taken individually, would lead to v being equal to 100 ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"\nchoices = [ # hide\n    \"`v = (c < 10) ? 1 : 100`\", # hide\n    \"`(c >= 10) && (v = 100)`\", # hide\n    \"`(c >= 10) || (v = 100)`\", # hide\n    \"`(c < 10) && (v = 100)`\", # hide\n    \"`(c < 10) || (v = 100)`\", # hide\n    \"`if (c >= 10) v = 100 end`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [1,2,5,6]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"When we test for c >= 10, we obtain something already true and hence the second part (the v assignment) is evaluated only  with and end operator (&&), and the converse is true when we check for c < 10 where the second part is evaluated only with an or operator (||).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"v = (c < 10) ? 1 : 100\n(c >= 10) && (v = 100)\n(c < 10) || (v = 100)\nif (c >= 10) v = 100 end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.md\",\n\"title\" : \"0104q_-_QUIZ_1.7.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.7.html","page":"0104q - QUIZ 1.7","title":"0104q - QUIZ 1.7","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#EXERCISE-4.2:-Wine-class-prediction-with-Neural-Networks-(multinomial-classification)","page":"0402x EXERCISE-4.2","title":"EXERCISE 4.2: Wine class prediction with Neural Networks (multinomial classification)","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<p>&nbsp;</p>\n<img src=\"imgs/errorPerEpoch.png\" alt=\"Error per epoch\" style=\"height:170px;\"> \n<img src=\"imgs/errorPerEpoch_unscaled.png\" alt=\"Error per epoch (uscaled)\" style=\"height:170px;\"> \n<img src=\"imgs/errorPerEpoch_squaredCost.png\" alt=\"Error per epoch (squaredCost\" style=\"height:170px;\"> \n<p>&nbsp;</p>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"In this problem, we are given a dataset containing the quality class of some Italian wines, together with their chemical characteristics (alcohol content, flavonoids,  colour intensity...) Our task is to build a neural network model and train it in order to predict the wine quality class. This is an example of a multinomial regression.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"In detail, the attributes of this dataset are:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Alcohol\nMalic acid\nAsh\nAlcalinity of ash  \nMagnesium\nTotal phenols\nFlavanoids\nNonflavanoid phenols\nProanthocyanins\nColor intensity\nHue\nOD280/OD315 of diluted wines\nProline ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Further information concerning this dataset can be found online on the UCI Machine Learning Repository dedicated page or in particular on this file","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Our prediction concerns the quality class of the wine (1, 2 or 3) that is given in the first column of the data.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Skills employed:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"download and import data from internet\ndesign and train a Neural Network for multinomial classification using BetaML\nuse the additional BetaML functions partition, oneHotEncoder, scale, accuracy, ConfusionMatrix","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#Instructions","page":"0402x EXERCISE-4.2","title":"Instructions","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/04_NN/wineClass. Otherwise download a zip of just that folder here.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"In the folder you will find the file WineClass.jl containing the julia file that you will have to complete to implement the missing parts and run the file (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#Resolution","page":"0402x EXERCISE-4.2","title":"Resolution","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Setting-up-the-environment...","page":"0402x EXERCISE-4.2","title":"1) Setting up the environment...","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages Pipe, HTTP, Plots and BetaML.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Load-the-packages","page":"0402x EXERCISE-4.2","title":"2) Load the packages","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Load the packages DelimitedFiles, Pipe, HTTP, Plots and BetaML.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"using DelimitedFiles, Pipe, HTTP, Plots, BetaML","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Load-the-data","page":"0402x EXERCISE-4.2","title":"3) Load the data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Load from internet or from local file the input data as a Matrix. You can use readdlm` using the comma as field separator.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"dataURL=\"https://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"data    = @pipe HTTP.get(dataURL).body |> readdlm(_,',')","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Write-the-feature-matrix-and-the-the-label-vector","page":"0402x EXERCISE-4.2","title":"4) Write the feature matrix and the the label vector","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Now create the X matrix of features using the second to final columns of the data you loaded above and the Y vector by taking the 1st column. Transform the Y vector to a vector of integers using the Int() function (broadcasted). Make sure you have a 178Ã—13 matrix and a 178 elements vector","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"X = data[:,2:end]\nY = Int.(data[:,1] )","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Partition-the-data","page":"0402x EXERCISE-4.2","title":"5) Partition the data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Partition the data in (xtrain,xval) and (ytrain,yval) keeping 80% of the data for training and reserving 20% for testing. Keep the default option to shuffle the data, as the input data isn't.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"((xtrain,xval),(ytrain,yval)) = partition([X,Y],[0.8,0.2])","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Implement-one-hot-encoding-of-categorical-variables","page":"0402x EXERCISE-4.2","title":"6) Implement one-hot encoding of categorical variables","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"As the output is multinomial we need to encode ytrain. We use the oneHotEncoder() function to make ytrain_oh","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"ytrain_oh = oneHotEncoder(ytrain) ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Define-the-neural-network-architecture","page":"0402x EXERCISE-4.2","title":"7) Define the neural network architecture","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Define a Neural Network model with the following characteristics:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"3 dense layers with respectively 13, 20 and 3 nodes and activation function relu\na VectorFunctionLayer with 3 nodes and softmax as activation function\ncrossEntropy as the neural network cost function","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"l1 = DenseLayer(13,20,f=relu)\nl2 = DenseLayer(20,20,f=relu)\nl3 = DenseLayer(20,3,f=relu)\nl4 = VectorFunctionLayer(3,f=softmax)\nmynn = buildNetwork([l1,l2,l3,l4],crossEntropy)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Train-the-model","page":"0402x EXERCISE-4.2","title":"8) Train the model","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Train the model using ytrain and a scaled version of xtrain (where all columns have zero mean and 1 standard deviaiton) for 100 epochs and use a batch size of 6 records. Save the output of your training function to trainingLogs","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"trainingLogs = train!(mynn,scale(xtrain),ytrain_oh,batchSize=6,epochs=100)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Predict-the-labels","page":"0402x EXERCISE-4.2","title":"9) Predict the labels","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Predict the training labels yÌ‚train and the validation labels yÌ‚val. Recall you did the training on the scaled features!","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"yÌ‚train   = predict(mynn, scale(xtrain)) \nyÌ‚val     = predict(mynn, scale(xval))  ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Evaluate-the-model","page":"0402x EXERCISE-4.2","title":"10) Evaluate the model","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Compute the train and test accuracies using the function accuracy","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"trainAccuracy = accuracy(yÌ‚train,ytrain)\nvalAccuracy   = accuracy(yÌ‚val,yval)  ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Evaluate-the-model-more-in-detail","page":"0402x EXERCISE-4.2","title":"11) Evaluate the model more in detail","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Compute and print a confution matrix of the validation data true vs. predicted","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"cm = ConfusionMatrix(yÌ‚val,yval)\nprintln(cm)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-Plot-the-errors","page":"0402x EXERCISE-4.2","title":"12) Plot the errors","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Run the following commands to plots the average loss per epoch ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"plot(trainingLogs.Ïµ_epochs, label=\"Ïµ per epoch\")","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html#)-(Optional)-Use-unscaled-data","page":"0402x EXERCISE-4.2","title":"13) (Optional) Use unscaled data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Run the same workflow without scaling the data or using squaredCost as cost function. How this affect the quality of your predictions ? ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"Random.seed!(123)\n((xtrain,xval),(ytrain,yval)) = partition([X,Y],[0.8,0.2])\nytrain_oh = oneHotEncoder(ytrain) \nl1 = DenseLayer(13,20,f=relu)\nl2 = DenseLayer(20,20,f=relu)\nl3 = DenseLayer(20,3,f=relu)\nl4 = VectorFunctionLayer(3,f=softmax)\nmynn = buildNetwork([l1,l2,l3,l4],crossEntropy)\ntrainingLogs = train!(mynn,xtrain,ytrain_oh,batchSize=6,epochs=100)\nyÌ‚train   = predict(mynn, xtrain)\nyÌ‚val     = predict(mynn, xval) \ntrainAccuracy = accuracy(yÌ‚train,ytrain)\nvalAccuracy   = accuracy(yÌ‚val,yval)  \nplot(trainingLogs.Ïµ_epochs, label=\"Ïµ per epoch (unscaled version)\")\n\nRandom.seed!(123)\n((xtrain,xval),(ytrain,yval)) = partition([X,Y],[0.8,0.2])\nytrain_oh = oneHotEncoder(ytrain) \nl1 = DenseLayer(13,20,f=relu)\nl2 = DenseLayer(20,20,f=relu)\nl3 = DenseLayer(20,3,f=relu)\nl4 = VectorFunctionLayer(3,f=softmax)\nmynn = buildNetwork([l1,l2,l3,l4],squaredCost)\ntrainingLogs = train!(mynn,xtrain,ytrain_oh,batchSize=6,epochs=100)\nyÌ‚train   = predict(mynn, xtrain)\nyÌ‚val     = predict(mynn, xval) \ntrainAccuracy = accuracy(yÌ‚train,ytrain)\nvalAccuracy   = accuracy(yÌ‚val,yval)  \nplot(trainingLogs.Ïµ_epochs, label=\"Ïµ per epoch (squaredCost version)\")","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.md\",\n\"title\" : \"0402x_EXERCISE-4.2.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.2.html","page":"0402x EXERCISE-4.2","title":"0402x EXERCISE-4.2","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html#Quiz-1.3:-Variables-and-objects","page":"0102q - QUIZ 1.3","title":"Quiz 1.3: Variables and objects","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html#Q1:-Passing-functions-as-argument-to-other-functions-(callbacks)","page":"0102q - QUIZ 1.3","title":"Q1: Passing functions as argument to other functions (callbacks)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"Which is the output of the following snippet?:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"foo(x)     = x+1\nboo(x)     = x+2\nzoo(foo,x) = foo(x) + 1\nzoo.(boo,[1,2,3])","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"\nchoices = [ # hide\n    \"An error during parsing of the code\", # hide\n    \"A run-time error\", # hide\n    \"The vector `[3,4,5]`\", # hide\n    \"The vector `[4,5,6]`\", # hide\n    \"The value `12`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [4]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"The code first defines two functions, foo and boo, then it defines the function zoo whose first parameter is a function object and then it calls the function with the function boo and the value 1. It doesn't matter that the argument name is foo like the foo function, that is only a local variable within the zoo function. What is actually passed (as an object) is the bool function, so that is the one what will be used to evaluate the result. Note that functions in Julia are Fist-class citizens of the language: they can be passed as arguments to other functions (as done here), returned by other functions, assigned as objects to any identifier or stored in data structures.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"The vector [4,5,6]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html#Q2:-Effects-of-different-way-of-copying-objects","page":"0102q - QUIZ 1.3","title":"Q2: Effects of different way of copying objects","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"Given the following snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"foo       = [[1,2],3]\ngoo       = foo[1]\ngoo[1]    = 10\nzoo       = copy(foo)\nzoo[1][1] = foo[1][1]+10\nzoo[1]    = 100\ndoo       = deepcopy(foo)\ndoo[1]    = foo[1][1]+100","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"Which is the value of doo[1] ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"\nnumericq(120)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"The object \"stored\" as first element of the array foo is assigned to the name binding goo too. It is hence the same object that is mutated in the third line command. zoo creates a new array object, but this different object store the same object as first element. zoo[1][1] = foo[1][1]+10 hence mutates itself (it is equivalent to zoo[1][1] += 10), while the following line reassignes the first element of the (independent) array referenced by zoo to an other totally different object (an integer). foo[1][1] hence is first mutated to 10 using goo and then is further increased of 10 using zoo. When used to compute the value of doo[1] it is hence 120.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"The correct answer is: 120","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.md\",\n\"title\" : \"0102q_-_QUIZ_1.3.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102q_-_QUIZ_1.3.html","page":"0102q - QUIZ 1.3","title":"0102q - QUIZ 1.3","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#EXERCISE-3.1:-Breast-cancer-diagnosis-using-the-perceptron-algorithm","page":"0302x EXERCISE-3.1","title":"EXERCISE 3.1: Breast cancer diagnosis using the perceptron algorithm","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<p>&nbsp;</p>\n<img src=\"imgs/breastCancerClassified.png\" alt=\"Forest Growth\" style=\"height:250px;\"> \n<img src=\"imgs/breastCancerClassificationAccuracies.png\" alt=\"Forest Growth curves\" style=\"height:250px;\"> \n<p>&nbsp;</p>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"In this problem we are given a dataset containing real world characteristics of observed breast cancer (size, pattern,..) together with the associated diagnosis in terms of malignity or benignity of the cancer. Our task is to build a linear classifier using the perceptron algorithm that we studied and train it in order to make diagnosis based on the cancer characteristics.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Skills employed:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"download and import data from internet\nimplement the training function of a perceptron algorithm\nuse the BetaML partition, crossValidation and accuracy functions","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#Instructions","page":"0302x EXERCISE-3.1","title":"Instructions","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/03_ML1/BreastCancerDiagnosisWithPerceptron. Otherwise download a zip of just that folder here.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"In the folder you will find the file BreastCancerDiagnosisWithPerceptron.jl containing the Julia file that you will have to complete in order to implement and run it (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#Resolution","page":"0302x EXERCISE-3.1","title":"Resolution","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Setting-up-the-environment...","page":"0302x EXERCISE-3.1","title":"1) Setting up the environment...","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages Pipe, HTTP, StatsPlots and BetaML.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Load-the-packages","page":"0302x EXERCISE-3.1","title":"2) Load the packages","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Load the packages Statistics, DelimitedFiles, LinearAlgebra, Pipe, HTTP, StatsPlots, BetaML","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"using Statistics, DelimitedFiles, LinearAlgebra, Pipe, HTTP, StatsPlots, BetaML","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Load-the-data","page":"0302x EXERCISE-3.1","title":"3) Load the data","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Load from internet or from localfile the input data and shuffle its rows (records):","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"dataURL = \"https://raw.githubusercontent.com/sylvaticus/IntroSPMLJuliaCourse/main/lessonsMaterial/03_ML1/BreastCancerDiagnosisWithPerceptron/data/wdbc.data.csv\"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Source: Breast Cancer Wisconsin (Diagnostic) Data Set, UCI Machine Learning Repository","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"data    = @pipe HTTP.get(dataURL).body |> readdlm(_,',')\nnR      = size(data,1)\ndata    = data[shuffle(1:nR),:]","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Map-the-data-to-(X,y)","page":"0302x EXERCISE-3.1","title":"4) Map the data to (X,y)","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"The data you have loaded contains the actual diagnosis for the cancer in the second column, coded with a string \"B\" for \"Benign\" and \"M\" for \"Malign\", and the characteristics of the cancer foir the next 30 columns. Save the diagnosis to the vector y, coding malign cancers with 1 and benign cancers with -1 Save the characteristics to the feature matrix X (and be sure it is made of Float64)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"y       = map( x -> x == \"M\" ? 1 : -1,  data[:,2])\nX       = convert(Matrix{Float64},data[:,3:end])\nnD      = size(X,2)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-(this-task-is-provided)-Plot-the-data-and-the-classifier","page":"0302x EXERCISE-3.1","title":"5) (this task is provided) Plot the data and the classifier","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Plot the first 2 attributes of training points and define the function plot2DClassifierWithData()","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"colors = [y == 1 ? \"red\" : \"green\" for y in y]\nlabels = [y == 1 ? \"malign\" : \"benign\" for y in y]\nscatter(X[:,1],X[:,2], colour=colors, title=\"Classified tumors\",xlabel=\"Tumor Radius\", ylabel=\"Tumor Texture\", group=labels)\n\nfunction plot2DClassifierWithData(X,y,Î¸;d1=1,d2=2,origin=false,xlabel=\"Dimx: $(d1)\",ylabel=\"Dimy: $(d2)\")\n    nR    = size(X,1)\n    X     = hcat(ones(nR),X)\n    X     = scale(X) # for visualisation\n    d1    += 1\n    d2    += 1\n    colors = [y == 1 ? \"red\" : \"green\" for y in y]\n    labels = [y == 1 ? \"malign\" : \"benign\" for y in y]\n    minD1,maxD1 = extrema(X[:,d1])\n    minD2,maxD2 = extrema(X[:,d2])\n    myplot = scatter(X[:,d1],X[:,d2], colour=colors, title=\"Linear classifier in 2D\",xlabel=xlabel, ylabel=ylabel, group=labels)\n    d2Class(x) = -Î¸[1]/Î¸[d2] -x * Î¸[d1]/Î¸[d2]\n    if Î¸[d2] == 0\n        vline!([0], color= \"blue\",label=\"\",linewidth=5)\n    else\n        plot!(d2Class,minD1,maxD1, color= \"blue\",label=\"\",linewidth=5)\n    end\n    display(myplot)\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-(provided)-Define-the-Model-and-training-options","page":"0302x EXERCISE-3.1","title":"6) (provided) Define the Model and training options","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"abstract type SupervisedModel end\nabstract type TrainingOptions end\n\nmutable struct Perceptron <: SupervisedModel\n    Î¸::Vector{Float64}\nend\n\nmutable struct PerceptronTrainingOptions <: TrainingOptions\n    epochs::Int64\n    verbose::Bool\n    shuffle::Bool\n    function PerceptronTrainingOptions(;epochs=1,verbose=false,shuffle=false)\n        return new(epochs,verbose,shuffle)\n    end\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-(provided)-Implement-the-functions-predict()-and-update()","page":"0302x EXERCISE-3.1","title":"7) (provided) Implement the functions predict() and update()","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"function predict(model::Perceptron,x::AbstractVector)\n    x = vcat(1.0,x)\n    x' * model.Î¸ > eps() ? (return 1) : (return -1)\nend\n\nfunction predict(model::Perceptron,X::AbstractMatrix)\n    return [predict(model,r) for r in eachrow(X)]\nend\n\nfunction update!(model::Perceptron,X::Vector,y)\n    X       = vcat(1.0,X)\n    model.Î¸ = model.Î¸ .+ y .* X\n    return model.Î¸\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Implement-the-training-function","page":"0302x EXERCISE-3.1","title":"8) Implement the training function","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Implement the function train!(model::Perceptron,X,y,ops=PerceptronTrainingOptions()::TrainingOptions)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Compared to the function we saw in the 0302-perceptron.jl file, add, if you wish, a counter to eventually return early if there are no more errors in an epoch (i.e., all points are correctly classified)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"function train!(model::Perceptron,X,y,ops=PerceptronTrainingOptions()::TrainingOptions)\n    #...\n    for t in 1:epochs\n        #...\n        if ops.shuffle   \n           #...\n        end\n        for n in 1:nR\n           #...\n        end\n        #...\n    end\n    #...\n    return model.Î¸\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"function train!(model::Perceptron,X,y,ops=PerceptronTrainingOptions()::TrainingOptions)\n    epochs  = ops.epochs\n    verbose = ops.verbose\n    (nR,nD) = size(X)\n    nD += 1\n    for t in 1:epochs\n        errors = 0\n        errorsPerEpoch = 0\n        if ops.shuffle   # more efficient !\n          idx = shuffle(1:nR)\n          X = X[idx,:]\n          y = y[idx]\n        end\n        for n in 1:nR\n            if verbose\n                println(\"$n: X[n,:] \\t Î¸: $(model.Î¸)\")\n            end\n            if  predict(model,X[n,:]) != y[n]\n                errors += 1\n                errorsPerEpoch += 1\n                update!(model,X[n,:],y[n])\n                if verbose\n                    println(\"**update! New theta: $(model.Î¸)\")\n                end\n            end\n        end\n        if verbose\n            println(\"Epoch $t errors: $errors\")\n        end\n        if errorsPerEpoch == 0\n            return model.Î¸\n        end\n    end\n    return model.Î¸\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Train,-predict-and-evaluate-the-model","page":"0302x EXERCISE-3.1","title":"9) Train, predict and evaluate the model","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Instanziate a Perceptron object with a parameter vector of nD+1 zeros and a PerceptronTrainingOption object with 5 epochs and shuffling, use the options to train the model on the whole dataset, compute the model predictions and the accuracy relative to the whole sample.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"m   = Perceptron(zeros(size(X,2)+1))\nops = #...\ntrain!(m,X,y,ops)\nplot2DClassifierWithData(X,y,m.Î¸,d1=1,d2=2,xlabel=\"Tumor Radius\", ylabel=\"Tumor Texture\")\nyÌ‚           = #...\ninSampleAcc = accuracy(#= ... =#) # 0.91","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"ops = PerceptronTrainingOptions(epochs=5,shuffle=true)\nyÌ‚           = predict(m,X)\ninSampleAcc = accuracy(yÌ‚,y) # 0.91","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Partition-the-data","page":"0302x EXERCISE-3.1","title":"10) Partition the data","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Partition the data in (xtrain,xtest) and (ytrain,ytest) keeping 65% of the data for training and reserving 35% for testing","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"((xtrain,xtest),(ytrain,ytest)) = partition(#=...=#)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"((xtrain,xtest),(ytrain,ytest)) = partition([X,y],[0.65,0.35])","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Implement-cross-validation","page":"0302x EXERCISE-3.1","title":"11) Implement cross-validation","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Using a 10-folds cross-validation strategy, find the best hyperparameters within the following ranges :","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"sampler = KFold(#=...=#)\n\nepochsSet  = 1:5:150\nshuffleSet = [false,true]\n\nbestE       = 0\nbestShuffle = false\nbestAcc     = 0.0\n\naccuraciesNonShuffle = []\naccuraciesShuffle    = []\n\nfor e in epochsSet, s in shuffleSet\n    global bestE, bestShuffle, bestAcc, accuraciesNonShuffle, accuraciesShuffle\n    local acc\n    local ops  = PerceptronTrainingOptions(#=...=#)\n    (acc,_)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData,rng\n                    (xtrain,ytrain) = trainData; (xval,yval) = valData\n                    m               = Perceptron(zeros(size(xtrain,2)+1))\n                    train!(#=...=#)\n                    yÌ‚val            = predict(#=...=#)\n                    valAccuracy     = accuracy(#=...=#)\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc     = acc\n        bestE       = e\n        bestShuffle = s\n    end\n    if s\n        push!(accuraciesShuffle,acc)\n    else\n        push!(accuraciesNonShuffle,acc)\n    end\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"sampler = KFold(nSplits=10)\nlocal ops  = PerceptronTrainingOptions(epochs=e,shuffle=s)\n(acc,_)    = crossValidation([xtrain,ytrain],sampler) do trainData,valData,rng\n                (xtrain,ytrain) = trainData; (xval,yval) = valData\n                m               = Perceptron(zeros(size(xtrain,2)+1))\n                train!(m,xtrain,ytrain,ops)\n                yÌ‚val            = predict(m,xval)\n                valAccuracy     = accuracy(yÌ‚val,yval)\n                return valAccuracy\n            end","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"bestAcc # 0.91\nbestE\nbestShuffle\n\nplot(epochsSet,accuraciesNonShuffle,label=\"Val accuracy without shuffling\", legend=:bottomright)\nplot!(epochsSet,accuraciesShuffle, label=\"Val accuracy with shuffling\")","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-Train,-predict-and-evaluate-the-\"optimal\"-model","page":"0302x EXERCISE-3.1","title":"12) Train, predict and evaluate the \"optimal\" model","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Using the \"best\" hyperparameters found in the previous step, instantiate a new model and options, train the model using (xtrain,ytrain), make your predicitons for the testing features (xtest) and compute your output accuracy compared with those of the true ytest (use the BetaML function accuracy).","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"ops = PerceptronTrainingOptions(#=...=#)\nm   = Perceptron(zeros(size(xtest,2)+1))\ntrain!(#=...=#)\nyÌ‚test           = predict(#=...=#)\ntestAccuracy    = accuracy(#=...=#) # 0.89","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"ops = PerceptronTrainingOptions(epochs=bestE,shuffle=bestShuffle)\nm   = Perceptron(zeros(size(xtest,2)+1))\ntrain!(m,xtrain,ytrain,ops)\nyÌ‚test           = predict(m,xtest)\ntestAccuracy    = accuracy(yÌ‚test,ytest) # 0.89","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"plot2DClassifierWithData(xtest,ytest,m.Î¸,xlabel=\"Tumor Radius\", ylabel=\"Tumor Texture\")\nplot2DClassifierWithData(xtest,ytest,m.Î¸,d1=3,d2=4)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html#)-(optional)-Use-scaled-data","page":"0302x EXERCISE-3.1","title":"13) (optional) Use scaled data","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"Optionally, add a scaling passage to the workflow and test it with cross-validation if it improves the accuracy","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"epochsSet  = 1:10:150\nshuffleSet = [false,true]\nscalingSet = [false,true]\n\nbestE       = 0\nbestShuffle = false\nbestScaling = false\nbestAcc     = 0.0\n\naccNShuffleNSc = Float64[]\naccNShuffleSc  = Float64[]\naccShuffleNSc  = Float64[]\naccShuffleSc   = Float64[]\n\n\nscfactors = getScaleFactors(xtrain)\n\nfor e in epochsSet, s in shuffleSet, sc in scalingSet\n    global bestE, bestShuffle, bestAcc, accNShuffleNSc, accNShuffleSc, accShuffleNSc, accShuffleSc\n    local acc\n    local ops  = PerceptronTrainingOptions(#=...=#)\n    xtrainsc= copy(xtrain)\n    if(sc)\n        xtrainsc =scale(xtrain,scfactors)\n    end\n    (acc,_)    = crossValidation([xtrainsc,ytrain],sampler) do trainData,valData,rng\n                    #...\n                    return valAccuracy\n                end\n    if acc > bestAcc\n        bestAcc     = acc\n        bestE       = e\n        bestShuffle = s\n        bestScaling = sc\n    end\n    if s && sc\n        push!(accShuffleSc,acc)\n    elseif  s && !sc\n        push!(accShuffleNSc,acc)\n    elseif  !s && sc\n        push!(accNShuffleSc,acc)\n    elseif  !s && !sc\n        push!(accNShuffleNSc,acc)\n    else\n        @error \"Something wrong here\"\n    end\nend","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"local ops  = PerceptronTrainingOptions(epochs=e,shuffle=s)\n(acc,_)    = crossValidation([xtrainsc,ytrain],sampler) do trainData,valData,rng\n                (xtrain,ytrain) = trainData; (xval,yval) = valData\n                m               = Perceptron(zeros(size(xtrain,2)+1))\n                train!(m,xtrain,ytrain,ops)\n                yÌ‚val            = predict(m,xval)\n                valAccuracy     = accuracy(yÌ‚val,yval)\n                return valAccuracy\n            end","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"bestAcc # 0.97\nbestE\nbestShuffle\nbestScaling\n\nplot(epochsSet,accShuffleSc,label=\"Val accuracy shuffling scaling\", legend=:bottomright)\nplot!(epochsSet,accNShuffleSc,label=\"Val accuracy NON shuffling scaling\", legend=:bottomright)\nplot!(epochsSet,accShuffleNSc,label=\"Val accuracy shuffling NON scaling\", legend=:bottomright)\nplot!(epochsSet,accNShuffleNSc,label=\"Val accuracy NON shuffling NON scaling\", legend=:bottomright)\n\nops = PerceptronTrainingOptions(#=...=#)\nm   = Perceptron(#=...=#)\nif bestScaling\n    train!(m,scale(xtrain),ytrain,ops)\n    yÌ‚test  = predict(m,scale(xtest))\nelse\n    train!(m,xtrain,ytrain,ops)\n    yÌ‚test  = predict(m,xtest)\nend\ntestAccuracy    = accuracy(#=...=#) # 0.96","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"ops = PerceptronTrainingOptions(epochs=bestE,shuffle=bestShuffle)\nm   = Perceptron(zeros(size(xtest,2)+1))\ntestAccuracy    = accuracy(yÌ‚test,ytest) # ","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"</details>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"plot2DClassifierWithData(xtest,ytest,m.Î¸,xlabel=\"Tumor Radius\", ylabel=\"Tumor Texture\")","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.md\",\n\"title\" : \"0302x_EXERCISE-3.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0302x_EXERCISE-3.1.html","page":"0302x EXERCISE-3.1","title":"0302x EXERCISE-3.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html#Quiz-1.11:-Metaprogramming-and-macros","page":"0106q - QUIZ 1.11","title":"Quiz 1.11: Metaprogramming and macros","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html#Q1:-Metaprogramming-theory","page":"0106q - QUIZ 1.11","title":"Q1: Metaprogramming theory","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Which of the following statements are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"choices = [ # hide\n    \"Metaprogramming in Julia refers to the possibility to change the text that defines the code statements before it is parsed\", # hide\n    \"Macros in Julia allow to write concise code that would otherwise raise a syntax error without the macro\", # hide\n    \"Macros in Julia allow to programmatically transform one or more code expressions in a different expression\", # hide\n    \"Invoking a Julia macro implies making two different operations: first \\\"create\\\" an expression, and then evaluating it\", # hide\n    \"A symbol allows to refer to an identifier rather than to the object associated (binded) to it\", # hide\n    \"Expressions are composed of symbols\", # hide\n    \"To evaluate an expression all the symbols referred in the expressions must be accessible at the global scope of where the evaluation happens\", # hide\n    \"None of the (other) statements is correct\", # hide\n] # hide\nanswers = [3,4,5,6,7]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Concerning the wrong answers: the characteristic of metaprogramming in Julia is that the code is changed after it is parsed in Expressions. For the same reasons we can't \"go around\" code that, without the macro, would create syntax errors (i.e. errors during parsing).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Macros in Julia allow to programmatically transform one or more code expressions in a different expression\nInvoking a Julia macro implies making two different operations\\: first \"create\" an expression, and then evaluating it\nA symbol allows to refer to an identifier rather than to the object associated (binded) to it\nExpressions are composed of symbols\nTo evaluate an expression all the symbols referred in the expressions must be accessible at the global scope of where the evaluation happens","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html#Q2:-Evaluation-of-an-expression","page":"0106q - QUIZ 1.11","title":"Q2: Evaluation of an expression","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Given the following code snippet:\\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"x = 10\ny = 3\nmyMult = Meta.parse(\"$x * y\")\nx = 2\ny = 5\noutput = eval(myMult)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"\nchoices = [ # hide\n    \"`out` is `30`\", # hide\n    \"`out` is `50`\", # hide\n    \"`out` is `6`\", # hide\n    \"`out` is `10`\", # hide\n    \"The code produces an error during parsing\", # hide\n    \"The code produces an error during compilation or execution\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [2]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The expression is made by the content of variable x (because we are using the dollar sign) that multiplies the variable y. The evaluation of what y contains, used to make the actual multiplication, is done at the time of evaluating the expression, so the multiplication that is done is 10 * 5","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"out is 50","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html#Q3:-Components-of-an-expression","page":"0106q - QUIZ 1.11","title":"Q3: Components of an expression","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"a         = [100,10,0]\nexpr      = Meta.parse(\"a[1]+1\")\nexpr.XXXX = 2","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"To what XXXX should be replaced with, in order for the evaluation of expr to retun the value 11 ? (hint: you can dump the expression)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"\nstringq(Regex(\"args[2].args[2]\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"We want to change the index of the array that we want to sum to the fixed value 1, so to have the expression to evaluate to 10+1 instead of 100+1. The expression is made of several nested expressions. First, we have a call to the addition operator (+) (first argument), the a[1] element (second argument) and the value 1 (third element). So we first want args[2]. Then we have a reference expression where the first argument is the variable (symbol) a and, finally, the second argument is the index value, 1 - that here we want to change to 2 -, so we want to have expr.args[2].args[2] = 2","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The correct answer is: args[2].args[2]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html#Q4:-Macros","page":"0106q - QUIZ 1.11","title":"Q4: Macros","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"macro Foo(inExpr)\n    return 2\nend\n@Foo a=3\na","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"\nchoices = [ # hide\n    \"`a` is `2`\", # hide\n    \"`a` is `3`\", # hide\n    \"`a` is not defined\", # hide\n    \"The snippet returns an error during parsing\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [3]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The script leads to an evaluation error (i.e., not a parsing one) as a results not defined. The original expression of the assignment of a to 3 is not part of the ASL, what it is is a single, constant value 2 that is what the invocation of the macro produces. However this is not binded to a, so a in the expanded code is not even present.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"a is not defined","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.md\",\n\"title\" : \"0106q_-_QUIZ_1.11.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.11.html","page":"0106q - QUIZ 1.11","title":"0106q - QUIZ 1.11","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 2A: Types, objects, variables and operators (13:5)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/tOqojCvpAuE\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 2B: Object mutability and effects on copying objects (13:34)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/yeaTNPKqRTo\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Types-and-objects","page":"0102 - Types and objects","title":"0102 Types and objects","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Some-stuff-to-set-up-the-environment..","page":"0102 - Types and objects","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 01.01","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"using Random\nRandom.seed!(123)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Types","page":"0102 - Types and objects","title":"Types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"# 1 in not 1.0:\na = 1\nb = 1.0\ntypeof(a) # type is inferred !\ntypeof(b)\n# Convert type (cast)\na = 1\nb = convert(Float64,a)\ntypeof(b)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"Type hierarchy in Julia:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"Any\nAbstractString     # We'll see what all these \"abstract\" mean....\nString\n...\nAbstractArray\nArray\n....\nNumber\nComplex\nReal\nRational\nInteger\nUnsigned\nUInt64\n...\nSigned\nInt32\nInt64\nBigInt\n...\nBool\nFixedPoints\n...\nAbstractIrrational\nIrrational\nAbstractFloat\nFloat32\nFloat64\nBigFloat\n...\n...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"Complete Number hierarchy: https://upload.wikimedia.org/wikipedia/commons/d/d9/Julia-number-type-hierarchy.svg","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"# Everythong is an object, i.e. of some \"type\"\nc = typeof(a)\ntypeof(c)\nd = sin\ntypeof(d) <: Function\ntypeof(+) <: Function\n\n# Operators are just functions:\n1 + 2\n+(1,2) # this call the function \"+\"\nimport Base.+\n# +(a,b,c) = a*b*c  # Defining my new crazy addition operation with 3 arguments\n10+20+30            # This call it\n10+20               # The addition with two parameters remains the same\n10+20+30+40         # Also this one remains with the standard addition..","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"warning: Warning\nAfter you tested this crazy addition, please restart julia or norhing will work. With great power come great responsability.. (..if you change the meaning of addition it is difficult you will not run into problems...)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Objects-and-variables","page":"0102 - Types and objects","title":"Objects and variables","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"k = 10    # \"create\" an object Int64 in memory and binds (assign) it to the `k` identifier (the variable name)\ntypeof(k)\nsizeof(k)  # bytes (1 byte is 8 bits)\nbitstring(k)\n0*2^0+1*2^1+0*2^2+1*2^3\nm = k      # name binding: it binds (assign) the entity (object) referenced by a to the b identifier (the variable name)\nm == k     # are the two objects equal ?\nm === k    # are the two identifiers binding the same identical object in memory ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Mutability-property-of-Julia-objects","page":"0102 - Types and objects","title":"Mutability property of Julia objects","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"k = 10\nv = [1,2]\np = 'z'\ng = \"hello\"\nismutable(k)\nismutable(v)\nismutable(p)\nismutable(g)\n# mutable objects are stored in memory \"directly\", while for mutable objects it is its memory address to be stored","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html#Three-different-ways-to-\"copy\"-objects...","page":"0102 - Types and objects","title":"Three different ways to \"copy\" objects...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"a = [[[1,2],3],4] # First element of a is said to be \"mutable\", second one is not:\nismutable(a[1])\nismutable(a[2])\nb = a            # binding to a new identifier\nc = copy(a)      # create a new copy of a and binds it to c\nd = deepcopy(a)  # copy all the references recursively and assign this new object to d\n\nc == a           # are the two objects equal ?\nc === a          # are the two identifiers binding the same identical object in memory ?\na[2] = 40        # rebinds a[2] to an other objects and at the same time mutates object a:\nb\nc\nd\na[1][2] = 30     # rebinds a[1][2] and at the same time mutates both a and a[1]\nb\nc\nd\na[1][1][2] = 20\nb\nc\nd\na = 5            # rebinds a:\nb\nc\nd","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"note: Note\nConsider these memory isues when we'll discuss calling a function by reference/value !","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.md\",\n\"title\" : \"0102_-_Types_and_objects.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0102_-_Types_and_objects.html","page":"0102 - Types and objects","title":"0102 - Types and objects","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html#Quiz-1.2:-Missingness-and-stochasticity","page":"0101q - QUIZ 1.2","title":"Quiz 1.2: Missingness and stochasticity","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html#Q1:-Missingness","page":"0101q - QUIZ 1.2","title":"Q1: Missingness","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"Which of the following questions are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"\nchoices = [ # hide\n    \"A given variable should be assigned `Missing` when some data we know to exists but we don't know its value\", # hide\n    \"A function whose one of the parameter is `nothing` should return `nothing` as well\", # hide\n    \"A function whose one of the parameter is `Nothing` should return `Nothing` as well\", # hide\n    \"A function whose one of the parameter is `missing` should return an error when called\", # hide\n    \"A function whose one of the parameter is `Missing` should return an error when called\", # hide\n    \"None of the (other) sentences is correct\",] # hide    \nanswers = [7]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"Missing and Nothing are the name of the types of the singleton instances missing and nothing respectively. The former (missing) is used to signal the missingness of information concerning some data, and propagates silently (i.e., without generating an error) across function calls, the latter (nothing) instead should never appear as argument of a function, so to raise an error if indeed it appears. So none of the above sentences is true. Note that this is how nothing and missing are intended to be used, and the way they are used across Julia base and all the most used packages, but \"nothing\" ( :) ) forbids you to implement a custom function to process a nothing or missing value.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"\"None of the (other) sentences is correct\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html#Q2:-Stochasticity","page":"0101q - QUIZ 1.2","title":"Q2: Stochasticity","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"Given that after running the following code:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"myRNG = MersenneTwister(123)\na1  = rand(myRNG,10:100,3)\na2  = rand(myRNG,10:100,3)\nmyRNG = MersenneTwister(123)\nb1  = rand(myRNG,10:1000,2)\nb2  = rand(myRNG,10:100,4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"You end up with:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"- a1 = [97,42,?â‚]\n- a2 = [?â‚‚,?â‚ƒ,?â‚„]\n- b1 = [959,364]\n- b2 = [34,54,67,56]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"Which is the sum of ?â‚ + ?â‚‚ + ?â‚ƒ + ?â‚„ ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"numericq(211)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"The flow of random numbers in the two sets of commands (a1 and a2 vs. b1 and b2) must be the same, as both follow the initialization of the random number generator with the same fixed seed, little matter if they are scaled over a 10:100 or 10:1000 range. From the provided information we know that the 4th, 5th, 6th and 7th values, scaled over the 10:100 range, are respectivelly 34, 54, 67 and 56. so ?1 (the third value in the first flow of random numbers) must be also 34 and a2 must be [54,67,56]. The sum is then 211","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"The correct answers is: 211","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.md\",\n\"title\" : \"0101q_-_QUIZ_1.2.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101q_-_QUIZ_1.2.html","page":"0101q - QUIZ 1.2","title":"0101q - QUIZ 1.2","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Quiz-1.6:-Other-Data-Structures","page":"0103q - QUIZ 1.6","title":"Quiz 1.6: Other Data Structures","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Q1:-Data-structures-theory","page":"0103q - QUIZ 1.6","title":"Q1: Data structures theory","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"\nchoices = [ # hide\n    \"Arrays, tuples, dictionaries, named tuples, sets are all example of data structure to manage data offering different funcionalities\", # hide\n    \"For an array, a tuple, a dictionary, a named tuples, or a set it is often more efficient, if the number of elements is known in advance, to fist create the specific data structure and then edit the individual element than create an empty container and add the individual elements one by one\", # hide\n    \"Tuples and named tuples can efficiently host heterogeneous types differently than arrays and dictionaries where hosting different types would result in less efficient code\", # hide\n    \"Arrays, tuple, named tuples are data structures where the initial or insertion order is retained, contrary to dictionaries and sets\", # hide\n    \"Arrays and tuples support linear algebra operations, contrary to named tuples, dictionaries and sets.\", # hide\n    \"The function `push!` is supported for arrays, dictionaries and sets\", # hide\n    \"The function `delete!` is supported for arrays, dictionaries and sets\", # hide\n    \"The function `collect` returns an array of the data being \\\"collected\\\"\", # hide\n] # hide\nanswers = [1,3,4,6,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"A few notes concerning the incorrect sentences: tuples and named tuples being immutable can not be used in algorithms where a modification of an element is required (nor where an appending of elements is); tuples do NOT support linear algebra operations, only arrays do; delete! is not supported for arrays. Use deleteat! instead","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"\"Arrays, tuples, dictionaries, named tuples, sets are all example of data structure to manage data offering different funcionalities\"\n\"Tuples and named tuples can efficiently host heterogeneous types differently than arrays and dictionaries where hosting different types would result in less efficient code\"\n\"Arrays, tuple, named tuples are data structures where the initial or insertion order is retained, contrary to dictionaries and sets\"\n\"The function push! is supported for arrays, dictionaries and sets\"\n\"The function collect returns an array of the data being \\\"collected\\\"\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Q2:-Conversion-between-data-structures","page":"0103q - QUIZ 1.6","title":"Q2: Conversion between data structures","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"a  = (a=1,b=2,c=3,d=4)\nb  = Dict([k => v for (k,v) in pairs(a)] )\nc1 = keys(b)\nc2 = values(b)\nd  = NamedTuple([k=>v for (k,v) in zip(c1,c2)])","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Which is the value of d ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"choices = [ # hide\n    \"The same as `a`\", # hide\n    \"A named tuple different than `a`\", # hide\n    \"The script produces an error\", # hide\n    \"Despite the name of the function, `d` is a datastructure different than a named tuple\", # hide\n] # hide\nanswers = [2]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The script converts the named tuple to a dictionary, to a pair of arrays and then back to the original named tuple. However the passage trough the dictionary make the order to be lost and the final named tuple has an order different than the original one.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"A named tuple different than a","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Q3:-Date-functions-(1)","page":"0103q - QUIZ 1.6","title":"Q3: Date functions (1)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The following snippet computes the number of working hours (9-18, Mo-Fr) for the month of February 2030:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"wHours = sum(18-9 for d in Date(?â‚,?â‚‚,?â‚ƒ):Day(1):?â‚„(d -> Dates.day(d+Day(1)) == 1, Date(?â‚,?â‚‚,?â‚ƒ)) if ?â‚…(d) in 1:5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Where ?â‚, ?â‚‚ and ?â‚ƒ are numbers and ?â‚„ and ?â‚… are names of functions.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Which are ?â‚, ?â‚‚ and ?â‚ƒ ? Type your answer in the form (?â‚,?â‚‚,?â‚ƒ), e.g. (1,2,3) without spaces and without leading zeros.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"\nstringq(Regex(\"(2030,2,1)\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"We are interested in summing the hours of February 2030. Date(?â‚,?â‚‚,?â‚ƒ) represents the beginning of our range of interest, so it is the 1st of February 2030}","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The correct answer is: (2030,2,1)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Q4:-Date-functions-(2)","page":"0103q - QUIZ 1.6","title":"Q4: Date functions (2)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The following snippet computes the number of working hours (9-18, Mo-Fr) for the month of February 2030:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"wHours = sum(18-9 for d in Date(?â‚,?â‚‚,?â‚ƒ):Day(1):?â‚„(d -> Dates.day(d+Day(1)) == 1, Date(?â‚,?â‚‚,?â‚ƒ)) if ?â‚…(d) in 1:5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Where ?â‚, ?â‚‚ and ?â‚ƒ are numbers and ?â‚„ and ?â‚… are names of functions.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Which is ?â‚„ ? Type your answer with just the function name, without parhenthesis, e.g. println","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"\nstringq(Regex(\"tonext\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Our objective it to select the last day of the range, that is the last day of the specific month requested. As we don't know a priori whether 2030 is a leap year or not, we use tonext until we find a day whose following day is the first of the month.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The correct answer is: tonext","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html#Q5:-Date-functions-(3)","page":"0103q - QUIZ 1.6","title":"Q5: Date functions (3)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The following snippet computes the number of working hours (9-18, Mo-Fr) for the month of February 2030:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"wHours = sum(18-9 for d in Date(?â‚,?â‚‚,?â‚ƒ):Day(1):?â‚„(d -> Dates.day(d+Day(1)) == 1, Date(?â‚,?â‚‚,?â‚ƒ)) if ?â‚…(d) in 1:5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Where ?â‚, ?â‚‚ and ?â‚ƒ are numbers and ?â‚„ and ?â‚… are names of functions.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Which is ?â‚… ? Type your answer with just the function name, without parhenthesis, e.g. println","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"\nstringq(Regex(\"dayofweek\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"Our objective it to count only working hours between Monday to Friday, and the function dayofweek allows us to filter only such days.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"The correct answer is: dayofweek","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.md\",\n\"title\" : \"0103q_-_QUIZ_1.6.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.6.html","page":"0103q - QUIZ 1.6","title":"0103q - QUIZ 1.6","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>02 JULIA2  - 2A:  Plotting (15:18)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/b-WkKMLd-Ws\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 2B:  Probability distributions and data fitting (11:55)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/cfNXk2eiIFE\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 2C:  Constrained optimisation, the transport problem (24:59)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/vxo7nOpnFSs\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 2D:  Nonlinear constrained optimisation, the optimal portfolio allocation (16:4)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/_ypOlSwCC7U\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.jl\"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Miscellaneous-topics","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Some-stuff-to-set-up-the-environment..","page":"0202 - Miscellaneous topics","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 02.01","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using Random\nRandom.seed!(123)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Plotting","page":"0202 - Miscellaneous topics","title":"Plotting","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Within the many possible packages to plot in Julia we use here the Plots package that allows at run time to choose the plot's backend. The defauld backend is gr (that, if you want to go back to it after you choosen another backend, you can activate with gr()). Other common backends are the Python MatplotLib (pyplot(), requiring package PyPlot) and Plotly (plotlyjs() from package PlotlyJS). Actually we use StatsPlots that just adds a set of convenient functionalities (in plots terminology called \"recipes\") on top of Plots.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using StatsPlots # no need to `using Plots` as `Plots` elements are reexported by StatsPlots","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"The basic idea is that we can draw different \"graphical elements\" in a Plot figure. The plot(.) function will first create a new figure, while plot!(.) will modify an existing plot (by drawing new elements on it, such as a new serie) taking the \"current\" plot as default if no plot object is passed as first argument.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Plotting-functions","page":"0202 - Miscellaneous topics","title":"Plotting functions","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Let's start plotting a function. The FIRST TIME you invoke plot will take a while. This is the famous \"time to first plot\" problem due to the JIT compilation, but it refer only to the first plotting in a working session","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot(cos) # default [-5,+5] range","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot!(x->x^2, -2,2 ) # more explicit, with ranges","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot!(x->max(x,2), label=\"max function\", linestyle=:dot, color=:black, title=\"Chart title\", xlabel= \"X axis\", ylabel=\"Y axis\", legend=:topleft) # a bit of design","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot!(twinx(),x->20x,colour=RGB(20/255,120/255,13/255)) # secondary axis","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Plotting-data","page":"0202 - Miscellaneous topics","title":"Plotting data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using DataFrames\nx = 11:15\ndata = DataFrame(a=[4,8,6,6,3], b=[2,4,5,8,6], c=[20,40,15,5,30])\nplot(x, Matrix(data)) # x, series (in column)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@df data plot(x, :a, seriestype=:bar, legend=:topleft)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot!(x, data.b, seriestype=:line)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"scatter!(twinx(), x, data.c) # alias for `plot!(..., seriestype=:scatter)`","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Layouts-with-multiple-plots","page":"0202 - Miscellaneous topics","title":"Layouts with multiple plots","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"l = @layout [a ; b c] # a,b,c, here are just placeholders, not related with the df column names..\np1 = plot(x, data.a)\np2 = scatter(x, data.b)\np3 = plot(x, data.c)\nplot(p1, p2, p3, layout = l)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Saving-the-plot..","page":"0202 - Miscellaneous topics","title":"Saving the plot..","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"savefig(\"myplot.png\")\nsavefig(\"myplot.pdf\")\nsavefig(\"myplot.svg\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Probabilistic-analysis","page":"0202 - Miscellaneous topics","title":"Probabilistic analysis","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Julia has a very elegant package to deal with probability analysis, the Distributions package.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using Distributions","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"The idea is that we first create a Distribution object, of the distribution family and with the parameter required, and then we operate on it, for example to sample or to retrieve a quantile. The following table gives the distribution constructors for some of the most common distributions:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Discrete distr. Constructor Continuous distr. Constructor\nDiscrete uniform DiscreteUniform(lRange,uRange) Uniform Uniform(lRange,uRange)\nBernoulli Bernoulli(p) Exponential Exponential(rate)\nBinomial Binomial(n,p) Laplace Laplace(loc, scale)\nCategorical Categorical(ps) Normal Normal(Î¼,Ïƒ)\nMultinomial Multinomial(n, ps) Erlang Erlang(n,rate)\nGeometric Geometric(p) Cauchy Cauchy(Î¼, Ïƒ)\nHypergeometric Hypergeometric(nS, nF, nTrials) Chisq Chisq(df)\nPoisson Poisson(rate) T Dist TDist(df)\nNegative Binomial NegativeBinomial(nSucc,p) F Dist FDist(df1, df2)\n  Beta Dist Beta(shapeÎ±,shapeÎ²)\n  Gamma Dist Gamma(shapeÎ±,1/rateÎ²)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"d = Normal(10,3) # note that the parameter is the standard deviation, not the variance\n\nmean(d)\nvar(d)\nmedian(d)\nquantile(d,0.9)\ncdf(d,13.844)\npdf(d,0)\nsample = rand(d,1000)\nrand(d,10,2,3)\n\ndensity(sample)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"plot!(d)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"fit(Normal, sample) # using MLE","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Curve-fitting","page":"0202 - Miscellaneous topics","title":"Curve fitting","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"LsqFit is a very flexible data fitting package for linear and nonlinear arbitrary functions (using least squares). Let's use it to fit a logistic growth curve (Verhulst model) of volumes for a forest stand.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using LsqFit\ndata = DataFrame(\n    age = 20:5:90,\n    vol = [64,112,170,231,293,352,408,459,505,546,582,613,640,663,683]\n) # Scots Pine, data from the UK Forestry Commission https://web.archive.org/web/20170119072737/http://forestry.gov.uk/pdf/FCBK048.pdf/$FILE/FCBK048.pdf\nplot(data.vol)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"logisticModel(age,parameters) = parameters[1]/(1+exp(-parameters[2] * (age-parameters[3]) ))\nlogisticModelVec(age,parameters) = logisticModel.(age,Ref(parameters))\n\ninitialParameters = [1000,0.02,50] #max growth; growth rate, mid age\nfitobject         = curve_fit(logisticModelVec, data.age, data.vol, initialParameters)\nfitparams         = fitobject.param\n\nfitobject.resid\nresiduals = logisticModelVec(data.age,fitparams) .- data.vol\nfitobject.resid == residuals\n\nsigma            = stderror(fitobject)\nconfidence_inter = confidence_interval(fitobject, 0.05) # 5% significance level\n\nx = 0:maximum(data.age)*1.5\nplot(x->logisticModel(x,fitparams),0,maximum(x), label= \"Fitted vols\", legend=:topleft)\nplot!(data.age, data.vol, seriestype=:scatter, label = \"Obs vols\")\nplot!(data.age, residuals, seriestype=:bar, label = \"Residuals\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Constrained-optimisation","page":"0202 - Miscellaneous topics","title":"Constrained optimisation","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"JuMP is the leading library to express complex optimisation problems in a clear, mathematical friendly syntax, compute the information required by the solver engines to solve the optimisation problem, pass the problem to the aforementioned solver engines and retrieve the solutions.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"JuMP has the same flexibility and expressivity of dedicated algeabric modelling languages as GAMS or AMPL but with the advantage of being a library within a much more general programming language, with larger community, development tools, language constructs and possibility to interface the specific \"optimisation component\" of a model with the rest of the model.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"We will see how to specify the variables, the constraints and the objective function of an optimisation model, how to \"solve\" it and how to retrieve the optimal values","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#A-linear-example:-the-classical-\"transport\"-problem","page":"0202 - Miscellaneous topics","title":"A linear example: the classical \"transport\" problem","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Obj: minimise transport costs c from several plants p to several markets m under the contraint to satisfy the demand d_m at each market while respecting the production capacity c_p of each plant: min_x_pm sum_p sum_m c_pm * x_pm subject to: sum_m x_pm leq d_m sum_p x_pm geq c_m","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using  JuMP, GLPK, DataFrames, CSV","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#\"Sets\"-and-exogenous-parameters-definition","page":"0202 - Miscellaneous topics","title":"\"Sets\" and exogenous parameters definition","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"index sets","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"orig = [\"Epinal\", \"Bordeaux\", \"Grenoble\"] # plant/sawmills origin of timber\ndest = [\"Paris\", \"Lyon\", \"Nantes\", \"Tulouse\", \"Lille\", \"Marseille\", \"Strasbourg\"] # markets\nprod = [\"Fuelwood\", \"Sawnwood\", \"Pannels\"]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Read input data into DataFrames and then into Dictionaries with 2D or 3D tuples of index sets as keys","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"supply(prod, orig) amounts available at origins","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"supplytable = CSV.read(IOBuffer(\"\"\"\nprod     Epinal Bordeaux Grenoble\nFuelwood 400    700      800\nSawnwood 800    1600     1800\nPannels  200    300      300\n\"\"\"), DataFrame, delim=\" \", ignorerepeated=true,copycols=true)\nsupply = Dict( (r[:prod],o) => r[Symbol(o)] for r in eachrow(supplytable), o in orig)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"demand(prod, dest) amounts required at destinations","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"demandtable = CSV.read(IOBuffer(\"\"\"\nprod      Paris Lyon Nantes Tulouse Lille Marseille Strasbourg\nFuelwood  300   300  100    75      650   225       250\nSawnwood  500   750  400    250     950   850       500\nPannels   100   100  0      50      200   100       250\n\"\"\"), DataFrame, delim=\" \", ignorerepeated=true,copycols=true)\ndemand = Dict( (r[:prod],d) => r[Symbol(d)] for r in eachrow(demandtable), d in dest)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"limit(orig, dest) of total units from any origin to destination","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"defaultlimit = 625.0\nlimit = Dict((o,d) => defaultlimit for o in orig, d in dest)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"cost(prod, orig, dest) Shipment cost per unit","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"costtable = CSV.read(IOBuffer(\"\"\"\nprod     orig     Paris Lyon Nantes Tulouse Lille Marseille Strasbourg\nFuelwood Epinal   30    10   8      10      11    71        6\nFuelwood Bordeaux 22    7    10     7       21    82        13\nFuelwood Grenoble 19    11   12     10      25    83        15\n\nSawnwood Epinal   39    14   11     14      16    82        8\nSawnwood Bordeaux 27    9    12     9       26    95        17\nSawnwood Grenoble 24    14   17     13      28    99        20\n\nPannels  Epinal   41    15   12     16      17    86        8\nPannels  Bordeaux 29    9    13     9       28    99        18\nPannels  Grenoble 26    14   17     13      31    104       20\n\"\"\"), DataFrame, delim=\" \", ignorerepeated=true,copycols=true)\ncost = Dict( (r[:prod],r[:orig],d) => r[Symbol(d)] for r in eachrow(costtable), d in dest)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Optimisation-model-definition","page":"0202 - Miscellaneous topics","title":"Optimisation model definition","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"trmodel = Model(GLPK.Optimizer)\nset_optimizer_attribute(trmodel, \"msg_lev\", GLPK.GLP_MSG_ON)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Model's-endogenous-variables-definition","page":"0202 - Miscellaneous topics","title":"Model's endogenous variables definition","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@variables trmodel begin\n    x[p in prod, o in orig, d in dest] >= 0\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Constraints-definition","page":"0202 - Miscellaneous topics","title":"Constraints definition","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@constraints trmodel begin\n    supply[p in prod, o in orig], # observe supply limit at plant/sawmill origin o\n        sum(x[p,o,d] for d in dest) <= supply[p,o]\n    demand[p in prod, d in dest], # satisfy demand at market dest d\n        sum(x[p,o,d] for o in orig) >= demand[p,d]\n    c_total_shipment[o in orig, d in dest],\n        sum(x[p,o,d] for p in prod) <= limit[o,d]\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Objective-function-definition","page":"0202 - Miscellaneous topics","title":"Objective function definition","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@objective trmodel Min begin\n    sum(cost[p,o,d] * x[p,o,d] for p in prod, o in orig, d in dest)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Human-readable-visualisatio-nof-the-model","page":"0202 - Miscellaneous topics","title":"Human-readable visualisatio nof the model","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"print(trmodel)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Model-resolution","page":"0202 - Miscellaneous topics","title":"Model resolution","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"optimize!(trmodel)\nstatus = termination_status(trmodel)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#Post-resolution-information-retrieval","page":"0202 - Miscellaneous topics","title":"Post-resolution information retrieval","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Here, after the model has been \"solved\", we can retrieve information as the optimal level of the endogenous variables, the value of the opjective function at these optimal levels and the shadow costs of the contraints.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"if (status == MOI.OPTIMAL || status == MOI.LOCALLY_SOLVED || status == MOI.TIME_LIMIT) && has_values(trmodel)\n    println(\"#################################################################\")\n    if (status == MOI.OPTIMAL)\n        println(\"** Problem solved correctly **\")\n    else\n        println(\"** Problem returned a (possibly suboptimal) solution **\")\n    end\n    println(\"- Objective value (total costs): \", objective_value(trmodel))\n    println(\"- Optimal routes:\\n\")\n    optRoutes = value.(x)\n    for p in prod\n      println(\"\\n* $(p):\")\n      [println(\"$o --> $d: $(optRoutes[p,o,d])\") for o in orig, d in dest]\n      println(\"- Shadow prices of supply:\")\n      [println(\"$o = $(dual(supply[p,o]))\") for o in orig]\n      println(\"- Shadow prices of demand:\")\n      [println(\"$d = $(dual(demand[p,d]))\") for d in dest]\n    end\nelse\n    println(\"The model was not solved correctly.\")\n    println(status)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html#A-nonlinear-example:-portfolio-optimisation","page":"0202 - Miscellaneous topics","title":"A nonlinear example: portfolio optimisation","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"The problem objective is to choose the shares of different assets in the portfolio (here forest species, but the example is exactly the same considering other assets, for example financial investments) that maximise the portfolio expected returns while minimising its expected variance under the portfolio owner risk aversion risk. Here the \"returns\" are based on the timber production and the covariance between individual species of the portfolio is based on the observed volume growth covariances. The idea is that within the infinite possible allocations, the locus of those allocations for which is not possible to increase the portfolio profitability without increasing also its variance and the converse whose variance can not be lowered without at the same time lower its expected profitability are efficient in the Pareto meaning and form an \"efficient frontier\". Within this frontier the problem is to find the unique point that maximise the utility of the portfolio's owner given its risk aversion characteristic. Graphically the problem is depicted i nthe following picture:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: The efficient frontier and the owner utility curves)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Data originally from the Institut national de l'information gÃ©ographique et forestiÃ¨re (IGN) of France. See the paper A. Dragicevic, A. Lobianco, A. Leblois (2016), â€Forest planning and productivity-risk trade-off through the Markowitz mean-variance modelâ€œ, Forest Policy and Economics, Volume 64 for a thorough discussion of this model.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Declare the packages we are going to use:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"using JuMP, Ipopt, StatsPlots","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Forest species names","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"species   = [\"ChÃªne pÃ©donculÃ©\", \"ChÃªne sessile\", \"HÃªtre\", \"Pin sylvestre\"]\nnSpecies  = length(species)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Average productiities by specie This is implemented in a dictionary: key->value","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"y   = Dict( \"ChÃªne pÃ©donculÃ©\" => 1.83933333333333,\n            \"ChÃªne sessile\"   => 2.198,\n            \"HÃªtre\"           => 3.286,\n            \"Pin sylvestre\"   => 3.3695)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Covariance matrix between species","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Ïƒtable = [[0.037502535947712\t0.016082745098039\t0.027797176470588\t-0.025589882352942]\n          [0.016082745098039\t0.015177019607843\t0.018791960784314\t-0.102880470588234]\n          [0.027797176470588\t0.018791960784314\t0.031732078431373\t-0.166391058823529]\n          [-0.025589882352942\t-0.102880470588234\t-0.166391058823529\t2.02950454411765]]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"We reshape the covariance matrix in a dictionary (sp1,sp2) -> value The function (ix,x) = enumerate(X) returns a tuple of index position and element for each element of an array","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Ïƒ = Dict((i,j) => Ïƒtable[i_ix,j_ix] for (i_ix,i) in enumerate(species), (j_ix,j) in enumerate(species))\n\n################################################################################\n###### Showing the possible mean/variance of the portfolio by simulation #######\n################################################################################\n\nnSamples = 1000\nshares   = rand(nSamples,nSpecies)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Converting to probabilities","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"import BetaML.Utils:softmax\n[shares[i,:]  = softmax(shares[i,:], Î²=one.(shares[i,:]) .* 5) for i in 1:nSamples]\n\npScores = Array{Float64,2}(undef,0,2)\nfor i in 1:nSamples\n    global pScores\n    pVar    = sum(shares[i,j1] * shares[i,j2] * Ïƒ[species[j1],species[j2]] for j1 in 1:nSpecies, j2 in 1:nSpecies)\n    pY      = sum(shares[i,j]*y[species[j]] for j in 1:nSpecies)\n    pScores = vcat(pScores,[pVar pY])\nend\n\n#goodShares = [0,0,0.74,0.26]\n#pVar = sum(goodShares[j1] * goodShares[j2] * Ïƒ[species[j1],species[j2]] for j1 in 1:nSpecies, j2 in 1:nSpecies)\n#pY   = sum(goodShares[j]*y[species[j]] for j in 1:nSpecies)\n\nscatter(pScores[:,1],pScores[:,2],colour=:blue)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"################################################################################\n### Finding (one) optimal portfolio ############################################\n################################################################################","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Risk aversion coefficient","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Î± = 0.1","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"We declare an optimisation problem, we name it \"m\" and we let JuMP associate it with the most suitable solver within the one installed:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"port = Model(Ipopt.Optimizer)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"We declare a set of variables, indicized by the species name:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@variables port begin\n    x[i in species] >= 0\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"We declare the constraint shat the sum of shares must be equal to 1","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@constraint(port, c_share, sum(x[i] for i in species) == 1)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@objective port Min begin   Î± *  sum(x[i] * x[j] * Ïƒ[i,j] for i in species for j in species) - sum(x[i] * y[i] for i in species) end","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"@NLobjective port Min Î± *  sum(x[i] * x[j] * Ïƒ[i,j] for i in species for j in species) - sum(x[i] * y[i] for i in species)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Print the optimisation model in nice human-readable format:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"print(port)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Solve the model and return the solving status:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"optimize!(port)\nstatus = termination_status(port)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Return the objective:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"println(\"Objective value: \", objective_value(port))","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Return the value of the decision variable:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"optShares = value.(x)\n[println(\"$sp = $(optShares[sp])\") for sp in species];\npOptVar = sum(optShares[species[j1]] * optShares[species[j2]] * Ïƒ[species[j1],species[j2]] for j1 in 1:nSpecies, j2 in 1:nSpecies)\npOptY   = sum(optShares[species[j]]*y[species[j]] for j in 1:nSpecies)\n\n\nfunction computeOptimalPortfolio(species,y,Ïƒ,Î±)\n    port = Model(Ipopt.Optimizer)\n    set_optimizer_attribute(port, \"print_level\", 0)\n    @variables port begin\n        x[i in species] >= 0\n    end\n    @constraint(port, c_share, sum(x[i] for i in species) == 1)\n    @NLobjective port Min Î± *  sum(x[i] * x[j] * Ïƒ[i,j] for i in species for j in species) - sum(x[i] * y[i] for i in species)\n    optimize!(port)\n    status = termination_status(port)\n    optShares = value.(x)\n    pOptVar = sum(optShares[species[j1]] * optShares[species[j2]] * Ïƒ[species[j1],species[j2]] for j1 in 1:nSpecies, j2 in 1:nSpecies)\n    pOptY   = sum(optShares[species[j]]*y[species[j]] for j in 1:nSpecies)\n    return (pOptVar,pOptY)\nend\n\nÎ±s = [1000,100,10,1,0.1,0.05,0.02,0.01]\npOptScores = Array{Float64,2}(undef,0,2)\nfor Î± in Î±s\n    global pOptScores\n    pVar,pY =computeOptimalPortfolio(species,y,Ïƒ,Î±)\n    pOptScores = vcat(pOptScores,[pVar pY])\nend\nscatter!(pOptScores[:,1],pOptScores[:,2],colour=:red)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"Î±s = [82.45,50,30,20,15,12,10,9,8,7,6,5]\npOptScores = Array{Float64,2}(undef,0,2)\nfor Î± in Î±s\n    global pOptScores\n    pVar,pY =computeOptimalPortfolio(species,y,Ïƒ,Î±)\n    pOptScores = vcat(pOptScores,[pVar pY])\nend\n\nscatter(pOptScores[:,1],pOptScores[:,2],colour=:red)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"(Image: )","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"View this file on Github.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"This page was generated using Literate.jl.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.md\",\n\"title\" : \"0202_-_Miscellaneous_topics.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202_-_Miscellaneous_topics.html","page":"0202 - Miscellaneous topics","title":"0202 - Miscellaneous topics","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>04 NN  - 1A:  Introduction and motivations (5:32)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/4m_BzDV15XQ\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 1B:  Feed-forward neural networks (18:57)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/MMrM5X4gxqY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 1C:  How to train a neural network (18:4)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/FNVfRwqT120\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 1D:  Convolutional neural networks (13:21)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/hFaOeSLEqpI\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 1E:  Multiple layers in convolutional neural networks (10:33)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/zWQ8-voVW78\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 1F:  Recurrent neural networks (17:49)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/oeyfFrgcW5c\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Neural-Networks-architectures","page":"0401 - Neural network architectures","title":"0401 - Neural Networks architectures","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"While powerful, neural networks are actually composed of very simple units that are akin to linear classification or regression methods. Don't be afraid by their name and the metaphor with the human brain. Neural networks are really simple transformations of the data that flow from the input, through various layers, ending with an output.   That's their beauty ! Complex capabilities emerge from very simple units when we put them together. For example the capability to recognise not \"just\" objects in an image but also abstract concepts such as people's emotions or situations and environments.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We'll first describe them, and we'll later learn how to train a neural network from the data. Concerning the practical implementation in Julia, we'll not implement a complete neural network but rather only certain parts, as we will mostly deal with using them and apply them to different kinds of datasets.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Motivations-and-types","page":"0401 - Neural network architectures","title":"Motivations and types","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"When we studied the Perceptron algorithm, we noted how we can transform the original feature vector mathbfx to a feature representation  phi(mathbfx) that includes non-linear transformations, to still use linear classifiers for non-linearly separable datasets (we studied classification tasks but the same is true for regression ones). The \"problem\" is that this feature transformation is not learned from the data but is applied a priori, before using the actual machine learning (linear) algorithm. With neural networks instead, the feature transformation is endogenous to the learning (training) step.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We will see three kinds of neural networks:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Feed-forward Neural Networks, the simplest one where the inputs flow through a set of \"layers\" to reach an output. \nConvolutional Neural Networks (CNN), where one or more of the layers is a \"convolutional\" layer. These are used mainly for image classification\nRecurrent Neural Networks (RNN), where the input arrives not only at the beginning but also at each layer. RNNs are used to learn sequences of data","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Feed-forward-neural-networks","page":"0401 - Neural network architectures","title":"Feed-forward neural networks","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Description","page":"0401 - Neural network architectures","title":"Description","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In deep forward neural networks, neural network units are arranged in layers, from the input layer, where each unit holds the input coordinate, through various hidden layer transformations, until the actual output of the model:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Neural network scheme)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"More in detail, considering a single dense neuron (in the sense that is connected with all the previous layer's neurons or with the input layer), we have the following figure:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Single neuron)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"where:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"x\nis a two-dimensional input, with x_1 and x_2 being the two dimensions of our input data (they could equivalently be the outputs of a previous 2 neurons layers)\nw\nare the weigths that are applied to x plus a constant term (w_0). These are the parameter we will want to learn with our algorithm. f is a function (often non-linear) that is applied to w_0 + x_1w_1 + x_2w_2 to define the output of the neuron","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"The output of the neuron can be the output of our neural network or it can be the input of a further layer.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In Julia we can implement a layer of neurons and its predictions very easily (although implementing the learning of the weights is a bit more complex):","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"using LinearAlgebra\nmutable struct DenseLayer\n    wb::Array{Float64,1} # weights with reference to the bias (will be learned from data)\n    wi::Array{Float64,2} # weigths with reference to the input (will be learned from data)\n    f::Function          # the activation function of each neuron (chosen from the modeller)\nend\n\nfunction forward(m,x) # The predictions  - or \"forward\" to the next layer\n      return m.f.(m.wb .+ m.wi * x)\nend\n\n(nI,nO) = 3,2 # Number of nodes in input and in outputs of this layer\n\nlayer = DenseLayer(rand(nO),rand(nO,nI),tanh)\nx = zeros(nI)\ny = forward(layer,x)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Let's specific a bit of terminology concerning Neural Networks:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"The individual computation units of a layer are known as nodes or neurons.\nWidth_l (of the layer) is the number of units in that specific layer l\nDepth (of the architecture) is number of layers of the overall transformation before arriving to the final output\nThe weights are denoted with w and are what we want the algorithm to learn.\nEach node's aggregated input is given by z = sum_i=1^d x_i w_i + w_0 (or, in vector form, z = mathbfx cdot mathbfw + w_0, with z in mathbbR mathbfx in mathbbR^d mathbfw in mathbbR^d) and d is the width of the previous layer (or the input layer)\nThe output of the neuron is the result of a non-linear transformation of the aggregated input called activation function f = f(z)\nA neural network unit is a primitive neural network that consists of only the â€œinput layer\", and an output layer with only one output.\nhidden layers are the layers that are not dealing directly with the input nor the output layers \nDeep neural networks are neural network with at least one hidden layer","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"While the weights will be learned, the width of each layer, the number of layers and the activation functions are all elements that can be tuned as hyperparameters of the model, although there are some more or less formal \"rules\":","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"the input layer is equal to the dimensions of the input data;\nthe output layer is equal to the dimensions of the output data. This is typically a scalar in a regression task, but it is equal to the number of categories in a multi-class classification, where each \"output dimension\" will be the probability associated with that given class;\nthe number of hidden layers reflects our judgment on how many \"levels\" we should decompose our input to arrive at the concept expressed in the label y (we'll see this point dealing with image classification and convolutional networks). Often 1-2 hidden layers are enough for classical regression/classification;\nthe number of neurons should give some \"flexibility\" to the architecture without exploding too much the number of parameters. A rule of thumb is to use about 20% more neurons than the input dimension. This is often fine-tuned using cross-validation as it risks leading to overfitting;\nthe activation function of the layers, with the exclusion of the last one, is chosen between a bunch of activation functions, nowadays almost always the Rectified Linear Unit function, aka relu, defined as relu(x) = max(0,x). The relu function has the advantage to add non-linearity to the transformation while remaining fast to compute (including the derivative) and limiting the problem of vanishing or exploding the gradient (we'll see this aspect when dealing with the actual algorithm to obtain the weights). Another common choice is tanh(), the hyperbolic tangent function, that maps with an \"S\" shape the real line to the interval [-1,1].\nthe activation function of the last layer depends on the nature of the labels we want the network to compute: if these are positive scalars we can use also here the relu, if we are doing a binary classification we can use the sigmoid function defined as sigmoid(x) = 1/(1+exp(-x)) whose output is in the range [0,1] and which we can interpret as the probability of the class that we encode as 1. If we are doing a multi-class classification we can use the softmax function whose output is a PMF of probabilities for each class. It is defined as softmax(xk) = frace^x_ksum_j=1^K e^x_j where x is the input vector, K its length and k the specific position of the class for which we want to retrieve its \"probability\".","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Let's now make an example of a single layer, single neuron with a 2D input x=[2,4], weights w=[2,1], wâ‚€ = 2 and activation function f(x)=sin(x).","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In such a case, the output of our network is sin(2+2*2+4*1), i.e. -0.54. Note that with many neurons and many layers this becomes essentially (computationally) a problem of matrix multiplications, but matrix multiplication is easily parallelisable by the underlying BLAS/LAPACK libraries or, even better, by using GPU or TPU hardware, and running neural networks (and computing their gradients) is at the core of the demand for GPU computation.  ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Let's now assume that the true label that we know to be associated with our x is y=-0.6.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Out (basic) network did pretty well, but still did an error: -0.6 is not -0.54. The last element of a neural network is indeed to define an error metric (the loss function) between the output computed by the neural network and the true label. Commonly used loss functions are the squared l-2 norm (i.e. epsilon = mid mid hat y - y midmid ^2) for regression tasks and cross-entropy (i.e. epsilon = - sum_d p_d  * log(hat p_d)) for classification jobs.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Before moving to the next section, where we will study how to put everything together and learn how to train the neural network in order to reduce this error, let's first observe that neural networks are powerful tools that can work on many sorts of data, but they require however the input to be encoded in a numerical form, as the computation is strictly numerical. If I have a categorical variable, for example, I'll need to encode it expanding it to a set of dimensions where each dimension represent a single class and I encode with an indicator function if my record is that particular class or not. This is the most simple form of encoding and takes the name of one hot encoding:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: One-hot encoding)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Note in the figure that using all the three columns leads to linearly dependency, and while, yes, we could save some resources by using only two columns instead of three, this is not a fundamental problem like it would be in statistical analysis. ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Training-of-a-feed-forward-neural-network","page":"0401 - Neural network architectures","title":"Training of a feed-forward neural network","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Gradient-and-learning-rate","page":"0401 - Neural network architectures","title":"Gradient and learning rate","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We now need a way to learn the parameters from the data, and a common way is to try to reduce the contribution of the individual parameter to the error made by the network. We need first to find the link between the individual parameter and the output of the loss function, that is how the error change when we change the parameter. But this is nothing else than the derivative of the loss function with respect to the parameter. In our simple one-neuron example above we have the parameters directly appearing in the loss function. Considering the squared error as lost we have epsilon = (y - sin(w_0 + w_1 x_1 + w_2 x_2))^2. If we are interested in the w_1 parameter we can compute the derivate of the error with respect to it using the chain rule as fracpartialepsilonpartial w_1 = 2*(y - sin(w_0 + w_1 x_1 + w_2 x_2)) * - cos(w_0 + w_1 x_1 + w_2 x_2) * x_1.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Numerically, we have: fracpartialepsilonpartial w_1 = 2(-06-sin(2+4+4)) * -cos(2+4+4) * 2 = -0188 If I increase w_1 of 0.01, I should have my error moving of -001*0188 = -00018. Indeed, if I compute the original error I have epsilon^t=0 = 000313, but after having moved w_1 to 2.01, the output of the neural network chain would now be hat y^t=1 = 0561 and its error lowered to epsilon^t=1 =  000154. The difference is 000159, slighly lower in absolute terms than what we computed with the derivate, 00018. The reason, of course, is that the derivative is a concept at the margin, when the step tends to zero.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We should note a few things:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"the derivate depends on the level of w_1. \"zero\" is almost always a bad starting point (as the derivatives of previous layers will be zero). Various initialisation strategies are used, but all involve sampling randomly the initial parameters under a certain range\nthe derivate depends also on the data on which we are currently operating, x and y. If we consider different data we will obtain different derivates\nwhile extending our simple example to even a few more layers would seem to make the above exercise extremely complex, it remains just an application of the chain rule, and we can compute the derivatives efficiently by making firstly a forward passage, computing (and storing) the values of the chain at each layer, and then making a backward passage by computing (and storing) the derivatives with the chain rule backwards from the last to the first layer\nthe fact that the computation of the derivates for a layer includes the multiplication of the derivates for all the other layers means that if these are very small (big) the overall derivate may vanish (explode). This is a serious problem with neural networks and one of the main reasons why simple activation functions such as the relu are preferred.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"The derivate(s) of the error with respect to the various parameters is called the gradient.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"If the gradient with respect to a parameter is negative, like in our example, it means that if we slightly increase the parameter we will obtain a lower error. On the opposite, if it is positive, if we slightly reduce the parameter we should find a lower error.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"A gradient-descent based algorithm can hence be used to look iteratively for the minimum error by moving against the gradient with a certain step. The most basic algorithm is then w_i^t = w_i^t-1 - fracpartialepsilon^t-1partial w_1^t-1 * lambda where lambda is the step that you are willing to make against the gradient, also known as learning rate. Note in the example above that if instead of moving the parameter w_1 of 001 we would have increased it of 01, we would have increased the error to 000997 instead of reducing it. This highlights the problem to use a good learning rate (see next Figure): a too-small learning rate would make the learning slow and with the risk to get trapped in a local minimum instead of a global one. Conversely, a too-large learning rate would risk causing the algorithm to diverge.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Learning rate effect)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"So, the learning rate is also a hyper-parameter to calibrate, although some modern gradient descent variations, like the ADAptive Moment estimation (ADAM) optimisation algorithm, tend to self_tune themselves and we rarely need to calibrate the default values.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Batches-and-Stochastic-gradient-descent","page":"0401 - Neural network architectures","title":"Batches and Stochastic gradient descent","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We already note that the computation of the gradient depends on the data levels. We can then move between two extremes: on one extreme we compute the gradient as the average of those computed on all data points and we apply the optimisation algorithm to this average. On the other extreme, we sample randomly record by record and, at each record, we move the parameter. The compromise is to partition the data in a set of batches, compute the average gradient of each batch and at each time update the parameter with the optimisation algorithm. The \"one record at the time\" is the slowest approach, but also is very sensitive to the presence of outliers. The \"take the average of all the data\" approach is faster in running a certain epoch, but it takes longer to converge (i.e. it requires more epochs, the number of times we pass through the whole training data). It also requires more memory, as we need to store the gradients with respect to all records. So, the \"batch\" approach is a good compromise, and we normally set the batch number to a multiplier of the number of threads in the machine performing the training, as this step is often parallelised, and it represents a further parameter that we can cross-validate. When we sample the records (individually or in batch) before running the optimisation algorithm we speak of stochastic gradient descent.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Convolutional-neural-networks","page":"0401 - Neural network architectures","title":"Convolutional neural networks","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Motivations","page":"0401 - Neural network architectures","title":"Motivations","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Despite typically classified separately, convolutional neural networks are essentially feed-forward neural networks with the only specification that one or more layers are convolutional. These layers are very good in recognising patterns within data with many dimensions, like spatial data or images, where each pixel can be thought a dimension of a single record. In both cases, we could use \"normal\" feed-forward neural networks, but convolutional layers offer two big advantages:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"They require much fewer parameters.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Convolutional neurons are made of small filters (or kernels) (typically 3x3 or 5x5) where the same weight convolves across the image. Conversely, if we would like to process with a dense layer a mid-size resolution image of 1000 times 1000 pixels, each layer would need a weight matrix connecting all these 10^6 pixels in input with 10^6 pixel in output, i.e. 10^12 weights","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"They can extend globally what they learn \"locally\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"If we train a feed-forward network to recognise cars, and it happens that our training photos have the cars all in the bottom half, then the network would not recognise a car in the top half, as these would activate different neurons. Instead, convolutional layers can learn independently on where the individual features apply.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Description-2","page":"0401 - Neural network architectures","title":"Description","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In these networks, the layer l is obtained by operating over the image at layer l-1 a small filter (or kernel) that is slid across the image with a step of 1 (typically) or more pixels at the time. The step is called stride, while the whole process of sliding the filter throughout the whole image can be mathematically seen as a convolution.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"So, while we slide the filter, at each location of the filter, the output is composed of the dot product between the values of the filter and the corresponding location in the image (both vectorised), where the values of the filters are the weights that we want to learn, and they remain constant across the sliding. If our filter is a 10 times 10 matrix, we have only 100 weights to learn by layer (plus one for the offset). Exactly as for feedforward neural networks, then the dot product is passed through an activation function, here typically the ReLU function (max(0x)) rather than tanh:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Convolutional filter)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Example","page":"0401 - Neural network architectures","title":"Example","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"For example, given an image x = beginbmatrix 1  1  2  1  1 \n3  1  4  1  1 \n1  3  1  2  2 \n1  2  1  1  1 \n1  1  2  1  1 \nendbmatrix and filter weights w = beginbmatrix  1  -2  0 \n 1   0  1 \n-1   1  0 \nendbmatrix, then the output of the filter z would be beginbmatrix  8  -3  6 \n 4   -3  5 \n-3   5  -2 \nendbmatrix. For example, the element of this matrix z_23 = 5 is the result of the sum of the scalar multiplication between x^prime = beginbmatrix  4   1  1 \n 1   2  2 \n 1   1  1 \nendbmatrix and w.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Finally, the output of the layer would be (using ReLU) beginbmatrix  8  0  6 \n 4   0  5 \n 0   5  0 \nendbmatrix.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We can run the following snippet to make the above computations:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"ReLU(x) = max(0,x)\nx = [1 1 2 1 1;\n        3 1 4 1 1;\n        1 3 1 2 2;\n        1 2 1 1 1;\n        1 1 2 1 1]\nw = [ 1 -2  0;\n        1  0  1;\n        -1  1  0]\n(xr,xc) = size(x)\n(wr,wc) = size(w)\nz = [sum(x[r:r+wr-1,c:c+wc-1] .* w) for c in 1:xc-wc+1 for r in 1:xr-wr+1] # Julia is column major\nu = ReLU.(z)\nfinal = reshape(u, xr-wr+1, xc-wc+1)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"You can notice that by applying the filter we obtain a dimensionality reduction. This reduction depends on both the dimension of the filter and the stride (sliding step). In order to avoid this, padding of one or more rows/columns can be applied to the image to preserve in the output the same dimension of the input (in the above example padding of one row and one column on both sides would suffice). Typically the padded cells are given a value of zero so not to contribute anything when they are included in the dot product computed by the filter.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"To determine the spatial size in the output of a filter (O), given the input size (I), the filter size (F), the stride (S) and the eventual padding (P) we can use the following simple formula:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"O_d = 1 + (I_d+2*P_d-F_d)S","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"From it, we can also find the padding needed to obtain a certain output size as: P_d = ((O_d-1)S_d-I_d+F_d)2","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Where the d index accounts for the (extremely unusual) case where one of the parameters is not a square matrix so that for example an image has different vertical and horizontal resolutions.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Because the weights of the filters are the same, it doesn't really matter where the object is learned, in which part of the image. With convolutional layers, we have translational invariance as the same filter is passed over the entire image. Therefore, it will detect the patterns regardless of their location.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Still, it is often convenient to operate some data augmentation to the training set, that is to add slightly modified images (rotated, mirrored..) in order to improve this translational invariance.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Considering-multiple-filters-per-layer","page":"0401 - Neural network architectures","title":"Considering multiple filters per layer","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Typically, one single layer is formed by applying multiple filters, not just one. This is because we want to learn different kinds of features. For example in an image one filter will specialize to catch vertical lines, the other obliques ones, and maybe another filter different colours.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Set of different convolutional filters outputs)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Convolutional filters outputs on the first layer (filters are of size 11x11x3 and are applied across input images of size 224x224x3). Source: Krizhevsky et Oth. (2012), \"ImageNet Classification with Deep Convolutional Neural Networks\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"So in each layer we map the output of the previous layer (or the original image in case of the first layer) into multiple feature maps where each feature map is generated by a little weight matrix, the filter, that defines the little classifier that's run through the original image to get the associated feature map. Each of these feature maps defines a channel for information and we can represent it as a third dimension to form a \"volume\", where the depth is given by the different filters:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Convolutional layer)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In the image above the input layer has size (4,4,4) and the output layer has size (3,3,2), i.e. 2 \"independent\" filters of size (2,2).","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"For square layers, each filter has F^2 times D_l-1 + 1 parameters where D_l-1 is the dimensions (\"depth\") of the previous layer, so the total number of parameters per layer is (F^2 times D_l-1 + 1) * D_l.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"For computational reasons, the number of filters per layer D_l is normally a power of 2. ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"This representation allows remaining consistent with the input that can as well be represented as a volume. For images, the depth is usually given by 3 layers representing the values in terms of RGB colours.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Pool-layers","page":"0401 - Neural network architectures","title":"Pool layers","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"A further way to improve translational invariance, but also have some dimensionality reduction, is called pooling and is implemented by adding a layer with a filter whose output is the max of the corresponding area in the input (or, more rarely, the average). Note that this layer would have no weights to learn! With pooling we start separating what is in the image from where it is in the image, that is, pooling does a fine-scale, local translational invariance, while convolution does more a large-scale one.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Keeping the output of the above example as input, a pooling layer with a 2 times 2 filter and a stride of 1 would result in beginbmatrix  8  6 \n 5  5 \nendbmatrix.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Convolutional-networks-conclusions","page":"0401 - Neural network architectures","title":"Convolutional networks conclusions","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"We can then combine these convolutions, looking for features, and pooling, compressing the image a little bit, forgetting the information of where things are, but maintaining what is there.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"In a typical CNN, these convolutional and pooling layers are repeated several times, where the initial few layers typically would capture the simpler and smaller features, whereas the later layers would use information from these low-level features to identify more complex and sophisticated features, like characterisations of a scene. The learned weights would hence specialise across the layers in a sequence like  edges -> simple parts-> parts -> objects -> scenes.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"These layers are finally followed by some \"normal\", \"fully connected\" layers (like in \"normal\" feed-forward neural networks) and a final softmax layer indicating the probability that each image represents one of the possible categories (there could be thousands of them).","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"The best network implementations are tested in so-called \"competitions\", like the yearly ImageNet context.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Note that we can train these networks exactly like for feedforward NN, defining a loss function and finding the weights that minimise the loss function. In particular, we can apply the stochastic gradient descendent algorithm (with a few tricks based on getting pairs of image and the corresponding label), where the gradient with respect to the various parameters (weights) is obtained by backpropagation.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Recurrent-Neural-Networks-(RNNs)","page":"0401 - Neural network architectures","title":"Recurrent Neural Networks (RNNs)","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Motivations-2","page":"0401 - Neural network architectures","title":"Motivations","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Recurrent neural networks are used to learn sequences of data. A \"sequence\" is characterised by the fact that each element may depend not only on the features in place at time t, but also from lagged features or lagged values of the sequence (we use here the time dimension just for simplicity. Of course, a sequence can be defined on any dimension). And here comes the problem: we could always consider lagged features or sequence values as further dimensions at time t and use a \"standard\" feed-forward network. For example we could consider values at time t-1, those at time t-2 and those at time t-3. But, again, we would be doing \"manual\" feature engineering, similar to the way we can introduce non-linear feature transformation and use linear classifiers. But we want this to be learned by the algorithm. We want the model to learn how much of the history retain to predict the next element of the sequence, and which elements \"deserve\" to be kept in memory (to be used for predictions) even if far away in the sequence steps.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Description-3","page":"0401 - Neural network architectures","title":"Description","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"There are a few differences with feed-forward neural networks:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"the input doesn't arrive only at the beginning of the chain, but at each layer (each input being an element of the sequence)\neach RNN layer processes, using learnable parameters, the input corresponding to its layer, together the input coming from the previous layers (called the state)\nthese weights are shared for the various RNN layers across the sequence","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Note that you can interpret a recurrent network equivalently like being formed by different layers on each element of the sequence (but with shared weights) or like a single, evolving, layer that calls itself recursively. Note also the similarities with convolutional networks: there we have a filter than convolves along the image, keeping the weigths constant across the convolution, here we have a recurrent network that also \"filter\" the whole sequence and learn some shared weigths.  ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"To implement a recurrent neural network we can adapt our code above to include the state: ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"mutable struct RNNLayer\n    wb::Array{Float64,1} # weights with reference to the bias\n    wi::Array{Float64,2} # weigths with reference to the input\n    ws::Array{Float64,2} # weigths with reference to the state\n    f::Function\nend\n\n(nI,nO)  = 3,2\nrelu(x)  = max(0,x)\nrnnLayer = RNNLayer(rand(nO),rand(nO,nI),rand(nO,nO),relu)\nfunction forward(m,x,s)\n    return m.f.(m.wb .+ m.wi * x .+ m.ws * s)\nend\nx,s = zeros(nI),zeros(nO)\ns = forward(rnnLayer,x,s)\ns = forward(rnnLayer,x,s)  # The state change even if x remains constant","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"The code above is the simplest implementation of a Recurrent Neural Network (or at least of its forward passage). In practice, the state is often memorised as part of the layer structure so its usage in most neural network libraries is similar to a \"normal\" feed-forward layer forward(layer,x).","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Usage:-sequence-to-one","page":"0401 - Neural network architectures","title":"Usage: sequence-to-one","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"RNNs can be used to characterise a sequence, like in sentiment analysis to predict the overall attitude (positive or negative) of a text or the language in which the text is written. In these cases, the RNN task is to encode the sequence in a vector format (the final state) and this is fed to a further part of the chain whose task is to decode according to the task required. Note that the parameters for both tasks are learned jointly. The scheme is as follow:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Sequence-to-one scheme)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Training in this scenario implies starting the model from an initial state (normally a zero-vector) and some random weights,  and  \"feeding\" the model with one item at a time until the sequence ends. At this time the final state is decoded to an overall output that is compared to the \"true\" y.  From here the backward passage is made in a similar way that in feed-forward networks so that the \"contribution\" of each weight to the errors can be assessed and the weights adjusted","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"warning: Warning\nWhile weights are progressively adjusted across the training samples, the state of the network should be reset at each new sequence sample.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Usage:-sequence-to-sequence","page":"0401 - Neural network architectures","title":"Usage: sequence-to-sequence","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"Another scenario is when we want the RNN to replicate some sequence pattern, like in next word, next note or next price predictions. In this case, we are interested in all the elements of the sequence and not only in the final state of the sequence.  The decoding part happens hence at each step of the sequence and the resulting hat y_i is compared with the true y_i, with the resulting loss used to train the weights:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"(Image: Sequence-to-sequence scheme)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html#Gated-networks","page":"0401 - Neural network architectures","title":"Gated networks","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"While theoretically RNN can \"learn\" the importance of features across indeterminately long sequence steps, in practice the fact of continuing multiplicating the status across the varius elements of the sequence makes the problem of vanishing gradient even stronger for them. New contributions have hence been proposed with a \"gating\" system that \"learns\" what to store in memory (in the sequence state) and what to \"forget\". At the time of writing the most used approach is the Long short-term memory (LSTM). While internally more complex due to the presence of the gates and of several different states (hidden and visible in LSTM), LSTM networks are operationally used exactly in the same ways as the RNN networks described above.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.md\",\n\"title\" : \"0401_-_Neural_network_architectures.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0401_-_Neural_network_architectures.html","page":"0401 - Neural network architectures","title":"0401 - Neural network architectures","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#EXERCISE-2.1:-Fitting-the-growth-of-French-forests","page":"0202x EXERCISE-2.1","title":"EXERCISE 2.1: Fitting the growth of French forests","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<p>&nbsp;</p>\n<img src=\"imgs/forestGrowth.jpg\" alt=\"Forest Growth\" style=\"height:250px;\"> \n<img src=\"imgs/forestGrowthCurves.png\" alt=\"Forest Growth curves\" style=\"height:250px;\"> \n<p>&nbsp;</p>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"How fast are French forests growing? How much timber can they provide in one hectare? Surely forests provide multiple ecosystem services, but in this (simplified) exercise we focus on the above questions by looking at the so-called \"raw data\" provided by the French National Forest Inventory, both in terms of individual trees and in terms of inventoried plots, to fit a generic growth model of the forest stands in terms of volumes with respect to the age of the trees.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Skills employed:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"download and import data from internet\nwrangle tabular data: compute new columns (fields) based on existing one, filter rows (records), join tables\nfit a generic model (curve) with data","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#Instructions","page":"0202x EXERCISE-2.1","title":"Instructions","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/02_JULIA2/forestExercise. Otherwise download a zip of just that folder here.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"In the folder you will find the file forestExercise.jl containing the julia file that you will have to complete to implement and run the model (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#Resolution","page":"0202x EXERCISE-2.1","title":"Resolution","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Setting-up-the-environment...","page":"0202x EXERCISE-2.1","title":"1) Setting up the environment...","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages Pipe, HTTP, CSV, DataFrames, LsqFit, StatsPlots.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Load-the-packages","page":"0202x EXERCISE-2.1","title":"2) Load the packages","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Load the packages Pipe, HTTP, CSV, DataFrames, LsqFit, StatsPlots","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"using Pipe, HTTP, CSV, DataFrames, LsqFit, StatsPlots","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Load-the-data","page":"0202x EXERCISE-2.1","title":"3) Load the data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Load from internet or from local files the following data:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"ltURL     = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/blob/main/lessonsMaterial/02_JULIA2/forestExercise/data/arbres_foret_2012.csv?raw=true\" # live individual trees data\ndtURL     = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/blob/main/lessonsMaterial/02_JULIA2/forestExercise/data/arbres_morts_foret_2012.csv?raw=true\" # dead individual trees data\npointsURL = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/blob/main/lessonsMaterial/02_JULIA2/forestExercise/data/placettes_foret_2012.csv?raw=true\" # plot level data\ndocURL    = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/blob/main/lessonsMaterial/02_JULIA2/forestExercise/data/documentation_2012.csv?raw=true\" # optional, needed for the species label","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"If you have choosen to download the data from internet, you can make for each of the dataset a @pipe macro starting with HTTP.get(URL).body, continuing the pipe with CSV.File(_) and end the pipe with a DataFrame object.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"lt     = @pipe HTTP.get(ltURL).body     |> CSV.File(_) |> DataFrame\ndt     = @pipe HTTP.get(dtURL).body     |> CSV.File(_) |> DataFrame\npoints = @pipe HTTP.get(pointsURL).body |> CSV.File(_) |> DataFrame\ndoc    = @pipe HTTP.get(docURL).body    |> CSV.File(_) |> DataFrame\n\n# Or import from local...\nlt     = CSV.read(\"data/arbres_foret_2012.csv\",DataFrame)\ndt     = CSV.read(\"data/arbres_morts_foret_2012.csv\",DataFrame)\npoints = CSV.read(\"data/placettes_foret_2012.csv\",DataFrame)\ndoc    = CSV.read(\"data/documentation_2012.csv\",DataFrame)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Filter-out-unused-information","page":"0202x EXERCISE-2.1","title":"4) Filter out unused information","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"These datasets have many variable we are not using in this exercise. Out of all the variables, select only for the lt and dt dataframes the columns idp (pixel id), c13 (circumference at 1.30 meters) and v (tree's volume). Then vertical concatenate the two dataset in an overall trees dataset. For the points dataset, select only the variables idp (pixel id), esspre (code of the main forest species in the stand) and cac (age class).","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"lt     = lt[:,[\"idp\",\"c13\",\"v\"]]\ndt     = dt[:,[\"idp\",\"c13\",\"v\"]]\ntrees  = vcat(lt,dt)\npoints = points[:,[\"idp\",\"esspre\",\"cac\"]]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Compute-the-timber-volumes-per-hectare","page":"0202x EXERCISE-2.1","title":"5) Compute the timber volumes per hectare","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"As the French inventory system is based on a concentric sample method (small trees are sampled on a small area (6 metres radius), intermediate trees on a concentric area of 9 metres and only large trees (with a circonference larger than 117.5 cm) are sampled on a concentric area of 15 metres of radius), define the following function to compute the contribution of each tree to the volume per hectare:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"\"\"\"\n    vHaContribution(volume,circonference)\n\nReturn the contribution in terms of mÂ³/ha of the tree.\n\nThe French inventory system is based on a concentric sample method: small trees are sampled on a small area (6 metres radius), intermediate trees on a concentric area of 9 metres and only large trees (with a circonference larger than 117.5 cm) are sampled on a concentric area of 15 metres of radius.\nThis function normalise the contribution of each tree to mÂ³/ha.\n\"\"\"\nfunction vHaContribution(v,c13)\n    if c13 < 70.5\n        return v/(6^2*pi/(100*100))\n    elseif c13 < 117.5\n        return v/(9^2*pi/(100*100))\n    else \n        return v/(15^2*pi/(100*100))\n    end\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Use the above function to compute trees.vHa based on trees.v and trees.c13.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"trees.vHa  = vHaContribution.(trees.v,trees.c13)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Aggregate-trees-data","page":"0202x EXERCISE-2.1","title":"6) Aggregate trees data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Aggregate the trees dataframe by the idp column to retrieve the sum of vHa and the number of trees for each point, calling these two columns vHa and ntrees.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"pointsVols = combine(groupby(trees,[\"idp\"]) ,  \"vHa\" => sum => \"vHa\", nrow => \"ntrees\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Join-datasets","page":"0202x EXERCISE-2.1","title":"7) Join datasets","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Join the output of the previous step (the trees dataframe aggregated \"by point\") with the original points dataframe using the column idp.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"points     = innerjoin(points,pointsVols,on=\"idp\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Filter-data","page":"0202x EXERCISE-2.1","title":"8) Filter data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Use boolean selection to apply the following filters:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"filter_nTrees           = points.ntrees .> 5 # we skip points with few trees \nfilter_IHaveAgeClass    = .! in.(points.cac,Ref([\"AA\",\"NR\"]))\nfilter_IHaveMainSpecies = .! ismissing.(points.esspre) \nfilter_overall          = filter_nTrees .&& filter_IHaveAgeClass .&& filter_IHaveMainSpecies","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"points                  = points[filter_overall,:] ","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Compute-the-age-class","page":"0202x EXERCISE-2.1","title":"9) Compute the age class","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Run the following command to parse the age class (originally as a string indicating the 5-ages group) to an integer and compute the mid-range of the class in years. For example, class \"02\" will become 7.5 years.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"points.cac              = (parse.(Int64,points.cac) .- 1 ) .* 5 .+ 2.5","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Define-the-model-to-fit","page":"0202x EXERCISE-2.1","title":"10) Define the model to fit","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Define the following logistic model of the growth relation with respect to the age with 3 parameters and make its vectorised form:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"logisticModel(age,parameters) = parameters[1]/(1+exp(-parameters[2] * (age-parameters[3]) ))\nlogisticModelVec(age,parameters) = # .... complete here","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"logisticModelVec(age,parameters) = logisticModel.(age,Ref(parameters))","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Set-the-initial-values-for-the-parameters-to-fit","page":"0202x EXERCISE-2.1","title":"11) Set the initial values for the parameters to fit","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Set initialParameters to 1000,0.05 and 50 respectivelly.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"initialParameters = [1000,0.05,50] #max growth; growth rate, mid age","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Fit-the-model","page":"0202x EXERCISE-2.1","title":"12) Fit the model","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Perform the fitting of the model using the function curve_fit(model,X,Y,initial parameters) and obtain the fitted parameter fitobject.param","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"fitobject         = curve_fit(logisticModelVec, points.cac, points.vHa, initialParameters)\nfitparams         = fitobject.param","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Compute-the-errors","page":"0202x EXERCISE-2.1","title":"13) Compute the errors","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Compute the standard error for each estimated parameter and the confidence interval at 10% significance level","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"sigma            = stderror(fitobject)\nconfidence_inter = confidence_interval(fitobject, 0.1) # 10% significance level","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Plot-fitted-model","page":"0202x EXERCISE-2.1","title":"14) Plot fitted model","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Plot a chart of fitted (y) by stand age (x) (i.e. the logisticModel with the given parameters)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"x = 0:maximum(points.cac)*1.5\nplot(x->logisticModel(x,fitparams),0,maximum(x), label= \"Fitted vols\", legend=:topleft)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-Add-the-observations-to-the-plot","page":"0202x EXERCISE-2.1","title":"15) Add the observations to the plot","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Add to the plot a scatter chart of the actual observed VHa","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"plot!(points.cac, points.vHa, seriestype=:scatter, label = \"Obs vHa\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html#)-[OPTIONAL]-Differentiate-the-model-per-tree-specie","page":"0202x EXERCISE-2.1","title":"16) [OPTIONAL] Differentiate the model per tree specie","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"Look at the growth curves of individual species. Try to perform the above analysis for individual species, for example plot the fitted curves for the 5 most common species","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"speciesCount = combine(groupby(points, :esspre), nrow => :count)\nsort!(speciesCount,\"count\",rev=true)\n\nspLabel        = doc[doc.donnee .== \"ESSPRE\",:]\nspLabel.spCode = parse.(Int64,spLabel.code)\nspeciesCount = leftjoin(speciesCount,spLabel, on=\"esspre\" => \"spCode\")\n\n\n# plot the 5 main species separately\nfor (i,sp) in enumerate(speciesCount[1:5,\"esspre\"])\n    local fitobject, fitparams, x\n    spLabel    = speciesCount[i,\"libelle\"]\n    pointsSp   = points[points.esspre .== sp, : ]\n    fitobject  = curve_fit(logisticModelVec, pointsSp.cac, pointsSp.vHa, initialParameters)\n    fitparams  = fitobject.param\n    x = 0:maximum(points.cac)*1.5\n    println(i)\n    println(sp)\n    println(fitparams)\n    if i == 1\n        myplot = plot(x->logisticModel(x,fitparams),0,maximum(x), label= spLabel, legend=:topleft)\n    else\n        myplot = plot!(x->logisticModel(x,fitparams),0,maximum(x), label= spLabel, legend=:topleft)\n    end\n    display(myplot)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.md\",\n\"title\" : \"0202x_EXERCISE-2.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.1.html","page":"0202x EXERCISE-2.1","title":"0202x EXERCISE-2.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Quiz-1.12:-Interoperability-with-other-languages","page":"0106q - QUIZ 1.12","title":"Quiz 1.12: Interoperability with other languages","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Q1:-Interfaceable-languages","page":"0106q - QUIZ 1.12","title":"Q1: Interfaceable languages","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"In which of the following languages we can write libraries that can then be used in Julia directly, i.e. without any external package and with a single statement ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"\nchoices = [ # hide\n    \"Fortran\", # hide\n    \"C\", # hide\n    \"C++\", # hide\n    \"Python\", # hide\n    \"R\", # hide\n    \"Matlab\", # hide\n    \"Stata\", # hide\n    \"Java\", # hide\n    \"Javascript\", # hide\n    \"Mathematica\", # hide\n    \"None. We always need to use a specific package\", # hide\n] # hide\nanswers = [1,2]  # hide\nmultiq(choices, answers;keep_order=false)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Fortran and C shared libraries can be directly called using the 'ccall' function. All of the listed languages can be used in Julia, and many provide C API, but this require writing complex wrappers around their C interface that ended up in language-specific packages: PyCall.jl for Python, CxxWrap.jl for C++, RCall.jl for R, JavaCall.jl for Java, MATLAB.jl for Matlab, MathLink.jl for Mathematica, StataCall.jl for Stata JSExpr.jl for JavaScript (at various level of package maturity).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"C\nFortran","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Q2:-Interoperativity-with-C","page":"0106q - QUIZ 1.12","title":"Q2: Interoperativity with C","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Assume you have a C shared library whose path address is stored on const myclib containing the C function extern double getPlusOne(double x);. You want to use ccall(XXXX) to call the function with the parameter 10.5. What should you replace XXXX with ? Use the type aliases to the C names (e.g. Cint, Cfloat, Cdouble,...), don't use spaces at all (to avoid ambiguous grading of your answer, in real-life coding feel free to use the convention you prefer concerning spaces), and remember that to create a tuple for a single value you still need to use a comma, eg. (x,).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"\nstringq(Regex(\"(:getPlusOne,myclib),Cdouble,(Cdouble,),10.5\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"We need to first specify the tuple function name/library path as the first argument of ccall, we then specify the return type (Cdouble) as the second argument, the input types (just Cdouble, here) as the third argument and finally, we specify 10.5 as the fourth and last argument.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The correct answer is: (:getPlusOne,myclib),Cdouble,(Cdouble,),10.5","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Q3:-Python-interoperativity-(theory)","page":"0106q - QUIZ 1.12","title":"Q3: Python interoperativity (theory)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Which of the following statements regarding embedding/using Python code in Julia with 'PyCall.jl' or embedding/using Julia code in Python with 'PyJulia' are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"\nchoices = [ # hide\n    \"We can use Python code in Julia with the macro `@pyinclude \\\"pythonScript.py\\\"`\", # hide\n    \"We can use Python code in Julia employing the string macro `py\\\"....\\\"`\", # hide\n    \"We can use the syntax `obj.method()` on imported Python objects\", # hide\n    \"We can import Python modules with `pyimport(\\\"moduleName\\\")`\", # hide\n    \"Setting the Julia environmental variable `ENV[\\\"PYTHON\\\"]` to an empty string before installing (or rebuilding) PyCall allows us to make available for Julia the version of python installed on our system\", # hide\n    \"In Python, once we have imported the Julia module we want to work with using `PyJulia`, we can call the functions of that module directly as `juliaModule.juliaFunction()`\", # hide\n    \"None of the (other) statements is correct\", # hide\n] # hide\nanswers = [1,2,3,4,6]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The only wrong statement is the one concerning the environmental variable. If we use ENV[\"PYTHON\"] = \"\" we force Julia to use a private version of Python, and so we can't use our default system installation. If we want to use our system default Python installation in Julia we should use ENV[\"PYTHON\"] = \"/path/to/python\" instead.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"We can use Python code in Julia with the macro @pyinclude \"pythonScript.py\"\nWe can use Python code in Julia employing the string macro py\"....\"\nWe can use the syntax obj.method() on imported Python objects\nWe can import Python modules with pyimport(\"moduleName\")\nIn Python, once we have imported the Julia module we want to work with using PyJulia, we can call the functions of that module directly as juliaModule.juliaFunction()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Q4:-Calling-Python-code","page":"0106q - QUIZ 1.12","title":"Q4: Calling Python code","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"using PyCall\npy\"\"\"\ndef getIJElement (matr,i,j):\n  return matr[i][j]\n\"\"\"\na = py\"getIJElement\"([1 2 3; 4 5 6],1,2)  # method \"a\" to call getIJElement()\nb = py\"getIJElement(XXXX)\"                # method \"b\" to call getIJElement()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"and assuming the two \"methods\" return the same value, which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"\nchoices = [ # hide\n    \"The returned value is `6`\", # hide\n    \"The returned value is `4`\", # hide\n    \"`XXXX` should be replaced with `[1 2 3; 4 5 6],1,2` for the assumption to hold\", # hide\n    \"`XXXX` should be replaced with `[1 2 3; 4 5 6],0,1` for the assumption to hold\", # hide\n    \"`XXXX` should be replaced with `[[1,2,3],[4,5,6]],1,2` for the assumption to hold\", # hide\n    \"`XXXX` should be replaced with `[[1,2,3],[4,5,6]],0,1` for the assumption to hold\", # hide\n    \"The method \\\"a\\\" calls the Python function with Julia objects that are converted by PyCall\", # hide\n    \"The method \\\"b\\\" calls the Python function with Julia objects that are converted by PyCall\", # hide\n    \"The method \\\"a\\\" calls the Python function with Python objects\", # hide\n    \"The method \\\"b\\\" calls the Python function with Python objects\", # hide\n    \"None of the (other) statements is correct\", # hide\n] # hide\nanswers = [1,5,7,10]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The first method (\"a\") uses Julia objects that are then \"converted\" to Python objects. Still the indexing happens in Python and so it uses the Python \"rules\" and the output is '6'. Method \"b\" is an evaluation of all Python code, there is no Julia methods there. So we need to write the matrix in the Python way and use Python list syntax (of course, if we don't want to use Numpy arrays instead).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The returned value is 6\nXXXX should be replaced with [[1,2,3],[4,5,6]],1,2 for the assumption to hold\nThe method \"a\" calls the Python function with Julia objects that are converted by PyCall\nThe method \"b\" calls the Python function with Python objects","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html#Q5:-R-interoperativity-(theory)","page":"0106q - QUIZ 1.12","title":"Q5: R interoperativity (theory)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Which of the following statements regarding embedding/using R code in Julia with RCall.jl or embedding/using Julia code in R with JuliaCall are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"\nchoices = [ # hide\n    \"To force a private copy of R the relevant environmental variable must be set to `\\\"\\\"` instead of `\\\"*\\\"` as in PyCall\", # hide\n    \"The objects returned by R must be \\\"converted\\\" to Julia objects explicitly\", # hide\n    \"The Julia objects passed to R objects must be \\\"converted\\\" to R objects explicitly\", # hide\n    \"With the R package `JuliaCall`, after we imported the relevant module, we can call julia functions of that module directly with `juliaModule.juliaFunction()`\", # hide\n    \"On each R session we need to run the `julia_setup` function before we can have access to Julia code\", # hide\n    \"None of the (other) statements is correct\", # hide\n] # hide\nanswers = [2,5]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"Concerning the wrong answers: (1) The settings for the relevant environmental variables (ENV[\"PYTHON\"] in Python, ENV[\"R_HOME\"] for R) to force a private copy or Python or R is the opposite as the ones given in the statement; (2) while Julia objects are automatically converted to R Objects, the opposite requires a passage trough the rcopy() function; (3) in R, even after we imported a Julia module, we still need to wrap its functions in julia_call(\"julia_function\",args) calls (or use julia_eval()).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"The objects returned by R must be \"converted\" to Julia objects explicitly\nOn each R session we need to run the julia_setup function before we can have access to Julia code","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.md\",\n\"title\" : \"0106q_-_QUIZ_1.12.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.12.html","page":"0106q - QUIZ 1.12","title":"0106q - QUIZ 1.12","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 5A: Types of types, composite types (17:23)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/-tuVyAixoXE\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 5B: Parametric types (7:37)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/UCybSmhURIE\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 5C: Inheritance and composition OO paradigms (14:28)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/gv8ZIThsHTo\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Custom-Types","page":"0105 - Custom types","title":"0105 Custom Types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Some-stuff-to-set-up-the-environment..","page":"0105 - Custom types","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will however be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 01.01","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"using Random\nRandom.seed!(123)\nusing InteractiveUtils # loaded automatically when working... interactively","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#\"Type\"-of-types","page":"0105 - Custom types","title":"\"Type\" of types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"In Julia primitive, composite and abstract types can all be defined by the user","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"primitive type APrimitiveType 819200 end # name and size in bit - multiple of 8 and below 8388608 (1MB)\nprimitive type APrimitiveType2 819200 end\n819200/(8*1024)\nstruct ACompositeType end                # fields, constructors.. we'll see this later in details\nabstract type AnAbstractType end         # no objects, no instantialisation of objects","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Composite-types","page":"0105 - Custom types","title":"Composite types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"mutable struct Foo # starting with a capital letter\n    field1\n    field2::String\n    field3::ACompositeType\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"mutable struct Foo # error! can't change a struct after I defined it end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"fieldnames(Foo)\n\no = Foo(123,\"aaa\",ACompositeType()) # call the default constructor (available automatically) - order matters!\ntypeof(o)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"Outer constructor","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"function Foo(f2,f3=ACompositeType()) # \"normal\" functions just happens it has the name of the object to create\n    if startswith(f2,\"Booo\")         # put whatever logic you wish\n        return nothing\n    end\n    return Foo(123,f2,f3)            # call the default constructor\nend\n\no = Foo(123,\"aaa\", ACompositeType()) # call the default constructor\no = Foo(\"blaaaaa\")                   # call the outer constructor we defined\n\no.field1       # access fields\no.field1 = 321 # modify field (because type defined as \"mutable\" !!!)\no\n\n\nfunction Base.show(io::IO, x::Foo)             # function(o) rather than o.function()\n    println(io,\"My custom representation for Foo objects\")\n    println(io,\"Field1: $(o.field1)\")\n    println(io,\"Field2: $(o.field2)\")\nend\no","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"Inner constructor","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"mutable struct Foo2\n    field1::Int64\n    field2::String\n    function Foo2(f1,f2,f3)\n        # ... logic\n        return new(f1+f2,f3)\n    end\nend\nFoo2(1,2,\"aaa\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"tip: Tip\nIf any inner constructor method is defined, no default constructor method is provided.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"Foo2(1,\"aaa\") # Error, no default constructor !","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Parametric-types","page":"0105 - Custom types","title":"Parametric types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"struct Point{T<:Number} # T must be a child of type \"Number\"\n   x::T\n   y::T\nend\n\no = Point(1,2)\nPoint(1.0,2.)\n# Point(1,2.0) # error !\n\nfunction Point(x::T, y::T=zero(T)) where {T}\n    return Point(x,y)\nend\nPoint(2)\nPoint(1.5)\n\nabstract type Figure{T<:Number} end\n\na = Array{Int64,2}(undef,2,2) # Array is nothing else than a parametric type with 2 parameters\ntypeof(a)\neltype(a)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"As we see for arrays, parameters doesn't need to be types, but can be any value of a bits type (in practice an integer value) :","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"struct MyType{T,N}\n  data::Array{T,N}\nend\n\nintMatrixInside = MyType([1 2 3; 4 5 6])\nfloatVectorInside = MyType([1 2 3])\n\nfunction getPlane(o::MyType{T,N},dim,pos) where {T,N}\nsizes = size(o.data)\nif length(sizes) > N\n  error(\"Dim over the dimensions of the data\")\nelseif sizes[dim] < pos\n  error(\"Non enought elements in dimension $dim to cut at $pos\")\nend\nreturn selectdim(o.data,dim,pos)\nend\n\ngetPlane(intMatrixInside,1,2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"A package where non-type parameters are emploied to boost speed is StaticArray.jl where one parameter is the size of the array that hence become known at compile time","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Inheritance","page":"0105 - Custom types","title":"Inheritance","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"abstract type MyOwnGenericAbstractType end                       # the highest-level\nabstract type MyOwnAbstractType1 <: MyOwnGenericAbstractType end # child of MyOwnGenericAbstractType\nabstract type MyOwnAbstractType2 <: MyOwnGenericAbstractType end # also child of MyOwnGenericAbstractType\nmutable struct AConcreteTypeA <: MyOwnAbstractType1\n  f1::Int64\n  f2::Int64\nend\nmutable struct AConcreteTypeB <: MyOwnAbstractType1\n  f1::Float64\nend\nmutable struct AConcreteTypeZ <: MyOwnAbstractType2\n  f1::String\nend\noA = AConcreteTypeA(2,10)\noB = AConcreteTypeB(1.5)\noZ = AConcreteTypeZ(\"aa\")\n\nsupertype(AConcreteTypeA)\nsubtypes(MyOwnAbstractType1)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"tip: Tip\nWhen multiple methods are available for an object, function calls are dispatched to the most stricter method, i.e. the one defined over the exact parameter's type or their immediate parents","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"function foo(a :: MyOwnGenericAbstractType)                      # good for everyone\n  println(\"Default implementation: $(a.f1)\")\nend\nfoo(oA) # Default implementation: 2\nfoo(oB) # Default implementation: 1.5\nfoo(oZ) # Default implementation: aa\nfunction foo(a :: MyOwnAbstractType1)                            # specialisation for MyOwnAbstractType1\n  println(\"A more specialised implementation: $(a.f1*4)\")\nend\nfoo(oA) # A more specialised implementation: 8\nfoo(oB) # A more specialised implementation: 6.0\nfoo(oZ) # Default implementation: aa                             # doesn't match the specialisation, default to foo(a :: MyOwnGenericAbstractType)\nfunction foo(a :: AConcreteTypeA)\n     println(\"A even more specialised implementation: $(a.f1 + a.f2)\")\nend\nfoo(oA) # A even more specialised implementation: 12\nfoo(oB) # A more specialised implementation: 6.0\nfoo(oZ) # Default implementation: aa","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"warning: Warning\nAttention to the inheritance for parametric types. If it is true that Vector{Int64} <: AbstractVector{Int64} and Int64 <: Number, it is FALSE that AbstractVector{Int64} <: AbstractVector{Number}. If you want to allow a function parameter to be a vector of numbers, use instead templates explicitly, e.g. foo(x::AbstractVector{T}) where {T<:Number} = return sum(x)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"Vector{Int64} <: AbstractVector{Int64}\nInt64 <: Number\nVector{Int64} <: Vector{Number}\nAbstractVector{Int64} <: AbstractVector{Number}","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html#Object-oriented-model","page":"0105 - Custom types","title":"Object-oriented model","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"OO model based on composition","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"struct Shoes\n   shoesType::String\n   colour::String\nend\nstruct Person\n  myname::String\n  age::Int64\nend\nstruct Student\n   p::Person        # by referencing a `Person`` object, we do not need to repeat its fields\n   school::String\n   shoes::Shoes     # same for `shoes`\nend\nstruct Employee\n   p::Person\n   monthlyIncomes::Float64\n   company::String\n   shoes::Shoes\nend\ngymShoes = Shoes(\"gym\",\"white\")\nproShoes = Shoes(\"classical\",\"brown\")\nMarc     = Student(Person(\"Marc\",15),\"Divine School\",gymShoes)\nMrBrown  = Employee(Person(\"Brown\",45),3200.0,\"ABC Corporation Inc.\", proShoes)\n\nfunction printMyActivity(self::Student)\n   println(\"Hi! I am $(self.p.myname), I study at $(self.school) school, and I wear $(self.shoes.colour) shoes\") # I can use the dot operator chained...\nend\nfunction printMyActivity(self::Employee)\n  println(\"Good day. My name is $(self.p.myname), I work at $(self.company) company and I wear $(self.shoes.colour) shoes\")\nend\n\nprintMyActivity(Marc)     # Hi! I am Marc, ...\nprintMyActivity(MrBrown)  # Good day. My name is MrBrown, ...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"OO models based on Specialisation (Person â†’ Student) or Weack Relation (Person â†’ Shoes) instead of Composition (Person â†’ Arm) can be implemented using third party packages, like e.g. SimpleTraits.jl or OOPMacro.jl","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.md\",\n\"title\" : \"0105_-_Custom_types.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105_-_Custom_types.html","page":"0105 - Custom types","title":"0105 - Custom types","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 1A: Introduction and setup of the environment (8:37)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/fRv3vAmzHS8\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 1B: Comments, code organisation, Unicode support, broadcasting (12:4)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/1SVA6woAq18\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 1C: Math operators, quotation marks (6:49)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/1AVb-92QmPg\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 1D: Missing values (10:4)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/UGlJlH1BbjM\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 1E: Stochasticity in programming (9:14)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/Hi_a7YWA_j8\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Basic-Syntax-Elements","page":"0101 - Basic syntax","title":"0101 - Basic Syntax Elements","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Some-stuff-to-set-up-the-environment..","page":"0101 - Basic syntax","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")\nENV[\"PYTHON\"] = \"\"  # This will be needed in a further segment\nENV[\"R_HOME\"] = \"*\" # This wil lbe needed in a further segment","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"Pkg.instantiate()\nusing Random\nRandom.seed!(123)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Comments","page":"0101 - Basic syntax","title":"Comments","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"# This is a comment\na = 1 # also this one\na = #= also this one =# 1\n#= also\n#= this =#\none\n=#","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Code-organisation","page":"0101 - Basic syntax","title":"Code organisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"# Semicolon:\na = 1\na = 1;\nfor i in 1:3\n   println(\"i is $i\")\nend # Keyword `end` to finish a block\nprintln(\"Hello world!\")\n# println(\"This would error!\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Unicode-support","page":"0101 - Basic syntax","title":"Unicode support","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"Actually you can use any fancy unicode character and modifiers in the names of variable, type, funcion..","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"using Statistics # for the `mean` function, in the Standard Library\nÏƒÂ²(x) = sum( (x .- mean(x)).^2 )/length(x)\nÏƒÂ²([1,2,3])\nxÌ„â‚™ = 10\nvÃ lidVarNÎ±me! = 2","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Broadcasting","page":"0101 - Basic syntax","title":"Broadcasting","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"10 .+ [1,2,3]\nadd2(x) = x + 2\nadd2(10)\n# add2([1,2,3]) # would return an error\nadd2.([1,2,3])  # any, including user defined functions, can be broadcasted. No need for map, for loops, etc..","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#based-arrays","page":"0101 - Basic syntax","title":"1 based arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"a = [1,2,3]\na[1]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"joke: 0 or 1 ?\nShould array indices start at 0 or 1?  My compromise of 0.5 was rejected without, I thought, proper consideration. â€“Stan Kelly-Bootle","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Basic-Mathematic-operations","page":"0101 - Basic syntax","title":"Basic Mathematic operations","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#All-standard-mathepatical-arithmetic-operators-(,-,*,/)-are-supported-in-the-obvious-way.","page":"0101 - Basic syntax","title":"All standard mathepatical arithmetic operators (+,-,*,/) are supported in the obvious way.","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"a = 2^4         # rise to power\nb = â„¯^2; #= or =# b = exp(2) # Exponential with base â„¯\nd = log(7.3890) # base â„¯\ne = log(10,100) # custom base\nf = 5 Ã· 2       # integer division\ne = 5 % 2       # reminder (modulo operator)\na = 2//3 + 1//3     # rational numbers\ntypeof(a)\nÏ€ == pi         # some irrational constants\ntypeof(â„¯)\nconvert(Float64,a)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Quotation","page":"0101 - Basic syntax","title":"Quotation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"a = 'k'              # single quotation mark: a single Char\nb = \"k\"              # double quotation mark: a (Unicode) String\n#c = 'hello'         # error !\nc = \"hello\"\nd = `echo hello`     # backtick: define a command to (later) run (e.g. on the OS)\ne = \"\"\"a\nmultiline\nstring\"\"\"\nprintln(c)\nprintln(e)\nusing Markdown\nf = md\"\"\"a\n**markdown**\n_string_\"\"\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Missingness-implementations","page":"0101 - Basic syntax","title":"Missingness implementations","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"a = nothing # C-style, \"software engineer's null â†’ run-time error\nb = missing # Data scientist's null â†’ silent propagation\nc = NaN     # Not a number â†’ silent propagation\ntypeof(a)\ntypeof(b)\ntypeof(c)\nd = 0/0\n# a2 = mean([1,a,3]) # would error\nb2 = mean([1,b,3])\nc2 = mean([1,c,3])\nb3 = mean(skipmissing([1,b,3]))\nb == missing # propagate\nismissing(b)\nisequal(b,2)  # exception to the propagation rule, it allows comparations when one of the item may be missing\nisequal(b,missing)\nb4 = [1,missing,3]\ntypeof(b4)\neltype(b4)\nnonmissingtype(eltype(b4))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html#Random-values","page":"0101 - Basic syntax","title":"Random values","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"rand()       # [0,1] continuous\nrand(30:40)  # [30,40] integer\nrand(30:0.01:40) # [30,40] with precision to the second digit\nusing Distributions\nrand(Exponential(10)) # We'll see Distributions more in detail in the Scientific Programming lesson\nrand(30:40,10) # A vector of 10 random numbers.\nrand(Exponential(10),10,23)\nusing Random\nmyRNG = MersenneTwister(123) # use StableRNG for a RNG guaranteed to remain stable between Julia-versions\na1 = rand(myRNG,10:1000,5)\na2 = rand(myRNG,10:1000,5)\na1 == a2\nmyRNG = MersenneTwister(123)\nb1 = rand(myRNG,10:1000,5)\nb2 = rand(myRNG,10:1000,5)\nb1 == b2\na1 == b1\na2 == b2\n\na = rand(myRNG,Exponential(10),5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.md\",\n\"title\" : \"0101_-_Basic_syntax.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0101_-_Basic_syntax.html","page":"0101 - Basic syntax","title":"0101 - Basic syntax","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html#Quiz-1.4:-Primitive-types-and-strings","page":"0103q - QUIZ 1.4","title":"Quiz 1.4: Primitive types and strings","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html#Q1:-Julia-terminology","page":"0103q - QUIZ 1.4","title":"Q1: Julia terminology","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"Which of the following definitions are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"\nchoices = [ # hide\n    \"**primitive type**: A type defined with the `primitive type` keyword. Objects of a primitive type have a given fixed memory size specified in the type definition.\", # hide\n    \"**composite type**: A type defined with the `struct` keyword. Composite types are formed by zero or more fields referencing other objects (of primitive or composite type).\", # hide\n    \"**singleton**: An object instantiated from a composite type formed by zero fields.\", # hide\n    \"**abstract type**: A type defined with the `abstract type` keyword. Abstract types have no fields and objects can not be instantiated from it. Further, they can not be declared child of a concrete type.\", # hide\n    \"**concrete type**: A primitive or composite type.\", # hide\n    \"**mutable type**: A composite type defined with the `mutable struct` keyword. Mutable types can have their fields rebinded to other objects than those associated at the time of initialisation\", # hide\n    \"**immutable type**: All types except those defined with `mutable struct`.\", # hide\n    \"**parametric type**: A family of (mutable or immutable) composite or abstract types with the same fields names and type name net of the parameters' types. The individual type is then uniquely identified with the name of the parametric type and the type(s) of the parameter(s).\", # hide\n    \"**container** or **collection**: A composite type (not necessarily mutable) designed to reference a variable number of objects and which provides methods to access, iterate and eventually mutate the reference to other objects.\", # hide\n    \"**predefined types**: A type whose definition is provided in Julia Base or in the Julia Standard Library.\", # hide\n    \"**bits types**: A primitive or immutable composite type whose fields are all bits type themselves\", # hide\n] # hide\nanswers = [1,2,3,4,5,6,7,8,9,10,11]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"All the above definitions are correct. Some of these definitions we haven't yet see, we'll discuss types and their characteristics in a further segment. But for now, we can note that we can categorize types according to different concepts, like primitive / composite / abstract, mutable vs. immutable, or still predefined vs. user defined. To query the kind of a type we can use functions such 'isstructtype(T)', 'isprimitivetype(T)', 'isconcretetype(T)', 'isabstracttype(T)', 'isbitstype(T)' or 'ismutabletype(T)'.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"The correct answers are:     - \"primitive type: A type defined with the primitive type keyword. Objects of a primitive type have a given fixed memory size specified in the type definition.\"     - \"composite type: A type defined with the struct keyword. Composite types are formed by zero or more fields referencing other objects (of primitive or composite type).\"     - \"singleton: An object instantiated from a composite type formed by zero fields.\"     - \"abstract type: A type defined with the abstract type keyword. Abstract types have no fields and objects can not be instantiated from it. Further, they can not be declared child of a concrete type.\"     - \"concrete type: A primitive or composite type.\"     - \"mutable type: A composite type defined with the mutable struct keyword. Mutable types can have their fields rebinded to other objects than those associated at the time of initialisation     - \"immutable type: All types except those defined with mutable struct.\"     - \"parametric type: A family of (mutable or immutable) composite or abstract types with the same fields names and type name net of the parameters' types. The individual type is then uniquely identified with the name of the parametric type and the type(s) of the parameter(s).\"     - \"container or collection: A composite type (not necessarily mutable) designed to reference a variable number of objects and which provides methods to access, iterate and eventually mutate the reference to other objects.\"     - \"predefined types: A type whose definition is provided in Julia Base or in the Julia Standard Library.\"     - \"bits types: A primitive or immutable composite type whose fields are all bits type themselves\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html#Q2:","page":"0103q - QUIZ 1.4","title":"Q2:","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"Given the following snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"a = \"Hello\"; b= \"World\"\nc = join([string(\"$a\",b)],\" \")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"choices = [ # hide\n    \"The script produces an error\", # hide\n    \"`c` is now `HelloWorld`\", # hide\n    \"`c` is now `Hello World`\", # hide\n    \"`c` is now `HelloWorld ` (with a space at the end)\", # hide\n    \"`c` is now `Hello World ` (with a space at the end)\", # hide\n    \"`c` is now `\\$a World`\", # hide\n    \"`c` is now `Hello b`\", # hide\n    \"`c[2]` is now the Char `e`\", # hide\n] # hide\nanswers = [2,8]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"The string function put together the content of the variable a (that is, the string Hello) with the content of the variable b (World), altought in two different ways. The result is a single string HelloWorld. The outer function join then operates on a vector, but of a single string, and hence does nothing. Finally, c[2] uses an array-like indexing of the string to retrieve the second character, the Char e","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"\"c is now HelloWorld\"\n\"c[2] is now the Char e\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.md\",\n\"title\" : \"0103q_-_QUIZ_1.4.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.4.html","page":"0103q - QUIZ 1.4","title":"0103q - QUIZ 1.4","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html#Quiz-1.10:-Inheritance-and-composition","page":"0105q - QUIZ 1.10","title":"Quiz 1.10: Inheritance and composition","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html#Q1:-Inheritance-and-call-dispatch","page":"0105q - QUIZ 1.10","title":"Q1: Inheritance and call dispatch","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"abstract type Foo end\nstruct Aaa <: Foo end\nstruct Bbb <: Foo end\nstruct Ccc end\nfoo(x::Foo) = println(\"Hello\")\nfoo(x::Aaa) = println(\"Good day!\")\nfoo(x)      = print(\"Welcome!\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"Match the following commands with their corresponding outputs.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"\nquestions = [ # hide\n    \"`foo(Foo())`\", # hide\n    \"`foo(Aaa())`\", # hide\n    \"`foo(Bbb())`\", # hide\n    \"`foo(Ccc())`\", # hide\n] # hide\nchoices = [ # hide\n    \"Good Day\", # hide\n    \"Hello\", # hide\n    \"(Error)\", # hide\n    \"Welcome!\", # hide\n] # hide\nanswers = (3,1,2,4)  # hide\nmatchq(questions, choices, answers) # hide","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"We can't initialise an object from an abstract type, so foo(Foo()) raises an error. The other calls follow the rule that the method dispatched is the one stricted (more restrictive, in terms of parameters types) for which there is a match.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"The correct matches are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"foo(Foo()) -> Error\nfoo(Aaa()) -> \"Good Day\"\nfoo(Bbb()) -> \"Hello\"\nfoo(Ccc()) -> \"Welcome!\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html#Q2:-Composition","page":"0105q - QUIZ 1.10","title":"Q2: Composition","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"struct Address\n  road\n  city\n  country\nend\nstruct CompanyData\n  name\n  address::Address\n  revenues\nend\nstruct Farm\n  cData::CompanyData\n  agrArea\n  livUnits\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"Which of the following sentences are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"\nchoices = [ # hide\n    \"The snippet emploies a composition design principle\", # hide\n    \"The snippet emploies an inheritance design principle\", # hide\n    \"To build a `Farm` object I can use the constructor call `Farm(\\\"Future Farm\\\",\\\"Road of farms\\\",\\\"Smalltown\\\",\\\"Joyland\\\",10000,100,0)`\", # hide\n    \"To build a `Farm` object I can use the constructor call `Farm(CompanyData(\\\"Future Farm\\\",Address(\\\"Road of farms\\\",\\\"Smalltown\\\",\\\"Joyland\\\"),10000),100,0)`\", # hide\n    \"I can simplify the creation of objects by implementing a custom constructor\", # hide\n    \"To access the country of farm `farmABC` we can use the syntax `farmABC.cData.address.country`\", # hide\n    \"To access the country of farm `farmABC` we can use the syntax `farmABC[cData][address][country]`\", # hide\n    \"To access the country of farm `farmABC` we can use `@pipe getfield(aFarm,:cData) |> getfield(_,:address) |> getfield(_,:country)` provided the package `Pipe` is installed and loaded\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [1,4,5,6,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"The design principle used in the code is composition and it has several advantages over inheritance. The default constructor leads to very verbose syntax, but this could be largely simplified by writing a custom constructor. To access the fields of our object we can use the dot notation (eventually chained) or explicitly call getField(obj,:fieldName). The answer uses a useful package that extends the default pipe operator of Julia. ","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"The snippet emploies a composition design principle\nTo build a Farm object I can use the constructor call Farm(CompanyData(\"Future Farm\",Address(\"Road of farms\",\"Smalltown\",\"Joyland\"),10000),100,0)\nI can simplify the creation of objects by implementing a custom constructor\nTo access the country of farm farmABC we can use the syntax farmABC.cData.address.country\nTo access the country of farm farmABC we can use @pipe getfield(aFarm,:cData) |> getfield(_,:address) |> getfield(_,:country) provided the package Pipe is installed and loaded","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.md\",\n\"title\" : \"0105q_-_QUIZ_1.10.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.10.html","page":"0105q - QUIZ 1.10","title":"0105q - QUIZ 1.10","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html#Quiz-1.13:-Performances,-parallel-computation","page":"0106q - QUIZ 1.13","title":"Quiz 1.13: Performances, parallel computation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html#Q1:-Julia-code-optimisation","page":"0106q - QUIZ 1.13","title":"Q1: Julia code optimisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Which of the following strategies would likely improve the performance of Julia's code ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"\nchoices = [ # hide\n    \"Avoid using constant global variables within a function body\", # hide\n    \"Avoid using non-constant global variables within a function body\", # hide\n    \"Loop matrices first by rows and then by columns\", # hide\n    \"If the size of an output array is known, preallocate its size and modify each item one at a time rather than start from an empty array and add elements one at a time\", # hide\n    \"Avoid modifying the objects passed as arguments in the body of the function\", # hide\n    \"Annotate function arguments with their type\", # hide\n    \"Write the function in a way that given the types of the arguments, the result is of a fixed type\", # hide\n    \"Annotate all the fields of a type with their relevant concrete types\", # hide\n    \"None of the strategies in this list would likely increase performances\", # hide\n] # hide\nanswers = [2,4,7,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Concerning the wrong answers: (1) Constant global variables (i.e. whose identifier can not be rebound to another type of object) can be efficiently used within functions; (2) Being Julia \"column mayor\", it is more efficient to have the most inner loop along the rows of the same column, so to read (or write) continuous parts in memory; (3) While stylistically modify function arguments in-place should be limited (as it may lead to hard to find bugs), from a performance point of view it is absolutely fine. If it avoids allocating memory for temporary objects, it may even be faster; (4) The same for the type annotation of function arguments: it may be good to avoid bugs, or required for multiple dispatch, but in general it doesn't improve performances (except in very rare cases when it may help the compiler's type inference))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Avoid using non-constant global variables within a function body\nIf the size of an output array is known, preallocate its size and modify each item one at a time rather than start from an empty array and add elements one at a time\nWrite the function in a way that given the types of the arguments, the result is of a fixed type\nAnnotate all the fields of a type with their relevant concrete types","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html#Q2:-Type-stability","page":"0106q - QUIZ 1.13","title":"Q2: Type stability","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Given the following Julia snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"a = Any[\"a\",1,2.5]\nb = [2,3]\nfoo(x) = eltype(x) == Int64 ? 1       : nothing\nboo(x) = eltype(x) == Int64 ? x[1]    : nothing\ngoo(x) = eltype(x) == Int64 ? nothing : 1\nzoo(x) = eltype(x) == Int64 ? nothing : x[1]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"\nchoices = [ # hide\n    \"`foo(a)` is type stable\", # hide\n    \"`foo(b)` is type stable\", # hide\n    \"`boo(a)` is type stable\", # hide\n    \"`boo(b)` is type stable\", # hide\n    \"`goo(a)` is type stable\", # hide\n    \"`goo(b)` is type stable\", # hide\n    \"`zoo(a)` is type stable\", # hide\n    \"`zoo(b)` is type stable\", # hide\n    \"None of the (other) sentences is correct (i.e. all the cases are type instable)\", # hide\n] # hide\nanswers = [1,2,3,4,5,6,8]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"The only \"type instable\" function call is zoo(a) because in such a case the compiler doesn't know \"a priori\" the type of the returned output but has to look up the actual type of the first element of a at runtime. Not only the function zoo will not specialise and be slow, but also if there are other functions that depend on the returned value of zoo, the compiler will need extra steps - at run time - to lookup the correct method of these other functions to apply, further slowing down the code. Even if in this example we are working with a single argument, you can \"feel\" how it is the multiple dispatch together with JIT that really makes the difference in Julia: thanks to multiple dispatch we can have multiple JIT compiled versions of the function that specialise to the given inputs. So, for example, when we call bool([2,3]), the JIT compiler will compile a version of boo specific for Vector{Int64}, and hence resolve the condition at compilation time and compile the function returning directly x[1] and hence knowing it will be an Int64 still at compilation time.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"foo(a) is type stable\nfoo(b) is type stable\nboo(a) is type stable\nboo(b) is type stable\ngoo(a) is type stable\ngoo(b) is type stable\nzoo(b) is type stable","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html#Q3:-Parallel-computation","page":"0106q - QUIZ 1.13","title":"Q3: Parallel computation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Which of the following statements regarding parallel computation are correct ?{","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"\nchoices = [ # hide\n    \"In Julia multiple processes can be run across different machines on a network, across a machine with multiple CPUS or on a single-CPU machine with multiple cores\", # hide\n    \"Muiltiprocessing doesn't require to allocate memory to each process\", # hide\n    \"Multithreading is limited to the number of cores available on the CPU(s) where the Julia process runs\", # hide\n    \"Both multithreading and multiprocessing scale less than linearly with the resources employed (e.g. using 10 threads, or 10 processes, will take more than 1/10th of the time than a single thread or process)\", # hide\n    \"Once Julia has been started with a certain number of processes (with the command line parameter -p ) is not possible to add further processes\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [1,3,4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Concerning the wrong answers: (1) Multiprocessing does require (unfortunately!) allocation of the memory to each process, (2) differently than multithreading, we can add - or remove - processes dynamically using addprocs().","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"In Julia multiple processes can be run across different machines on a network, across a machine with multiple CPUS or on a single-CPU machine with multiple cores\nMultithreading is limited to the number of cores available on the CPU(s) where the Julia process runs\nBoth multithreading and multiprocessing scale less than linearly with the resources employed (e.g. using 10 threads, or 10 processes, will take more than 1/10th of the time than a single thread or process)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html#Q4:-Stochasticity-and-multithreading","page":"0106q - QUIZ 1.13","title":"Q4: Stochasticity and multithreading","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Given the following Julia code:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"using Random\nrng        = Random.GLOBAL_RNG\nRandom.seed!(rng,123)\nnThreads   = Threads.nthreads() \nrngs       = [deepcopy(rng) for i in 1:nThreads]\n\nfunction foo(rngs)\n  results      = Array{Int64,1}(undef,30)\n  masterSeed   = rand(rng,100:9999999999999)\n  Threads.@threads for i in 1:30\n    tsrng      = rngs[Threads.threadid()]\n    Random.seed!(tsrng,masterSeed+i*10)\n    sample     = rand(tsrng, 1:100,100)\n    results[i] = sum(sample)\n  end\n  return results' * collect(1:30) # inner product value * position\nend\n\n(out1, out2) = (foo(rngs),foo(rngs))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"Which statements are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"\nchoices = [ # hide\n    \"`out1` is equal to `out2` when only one thread is used\", # hide\n    \"`out1` is equal to `out2` indipendently from the number of threads used\", # hide\n    \"`out1` is different than `out2` indipendently to the number of threads used\", # hide\n    \"When the script is run multiple times (in independent Julia sessions) the couple `(out1,out2)` is the same across the various runs indipendently of the number of threads used in the various attempts\", # hide\n    \"When the script is run multiple times (in independent Julia sessions) the couple `(out1,out2)` is the same across the various runs only if the number of threads used in the various attempts is constant\", # hide\n    \"When the script is run multiple times (in independent Julia sessions) the couple `(out1,out2)` would differ from one run to the other\", # hide\n    \"When the script is run multiple times (in independent Julia sessions) the couple `(out1,out2)` would be the same across the various runs only if instead of taking the inner product between the `results` and their position we would take the sum of the `results` vector\", # hide\n    \"The script leads to an error\", # hide\n    \"None of the (other) statements is correct\", # hide\n] # hide\nanswers = [3,4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"This exercise serves to remember to consider exactly which kind of stochasticity we need from our program (do the results must be the same at each call given the inputs ? Or the model as a whole must return the same result given the inputs ? ) and how multiple threads complicate the issue. In this exemple we first set in foo() a masterseed, then we use this seed, in combination to the ith of the loop, to reseed the nth-thread rng that will be used in the ith computation. Note that the reseeding is based on the ith of the loop and NOT on the nth of the thread. This guarantees that our stochastic experiment is replicable indipendently from the number of threads used. Also, not only the elements in results are the same, but also their position (order). That is, the tuple (out1,out2) will always be the same across multiple runs of the whole code. However, for how it is written, at each time we call foo() we have a different result. I let to you, as a further exercise, to think how you could modify the code to have always the same result at each call of the function.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"out1 is different than out2 indipendently to the number of threads used\nWhen the script is run multiple times (in independent Julia sessions) the couple (out1,out2) is the same across the various runs indipendently of the number of threads used in the various attempts","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.md\",\n\"title\" : \"0106q_-_QUIZ_1.13.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106q_-_QUIZ_1.13.html","page":"0106q - QUIZ 1.13","title":"0106q - QUIZ 1.13","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>02 JULIA2  - 1A:  Introduction and data import (18:28)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/o3TiuZlxMKI\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 1B:  Getting insights of the data (25:26)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/_iQh9dddIUY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 1C:  Edit data and dataframe structure (23:40)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/qhhT-Ckyvag\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>02 JULIA2  - 1D:  Pivot, Split-Apply-Combine and data export (23:39)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/w1KcD8sJLok\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.jl\"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Data-Wrangling","page":"0201 - Wranging data","title":"0201 - Data Wrangling","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Some-stuff-to-set-up-the-environment..","page":"0201 - Wranging data","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve()","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Pkg.instantiate()\nusing Random\nRandom.seed!(123)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Introduction","page":"0201 - Wranging data","title":"Introduction","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"This segment will be mostly based on DataFrames and related packages","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"!!! info DataFrames vs Matrix     DataFrames are popular format for in-memory tabular data. Their main advantages over Arrays are that they can efficiently store different types of data on each column (indeed each column is a wrapper over an Array{T,1} where T is specific to each column) and, thanks also to their named columns, provide convenient API for data operations, like indexing, querying , joining, split-apply-combine, etc.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"info: Info\nIn most circunstances we can refer to dataframe columns either by using their name as a string, e.g. \"Region\", or as symbol, e.g. :Region. In the rest of the segment we will use the strings approach.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Data-import","page":"0201 - Wranging data","title":"Data import","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Our example: Forest volumes and area by country and year Source: Eurostat; units: forarea: Milion hectars, forvol: Milion cubic metres","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Built-in-solution:-CSV-â€“-Matrix","page":"0201 - Wranging data","title":"Built-in solution: CSV â€“> Matrix","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using DelimitedFiles  # in the stdlib\ndata = convert(Array{Float64,2},readdlm(\"data.csv\",';')[2:end,3:end]) # Skip the first 1 row and the first 2 columns - out is a Matrix","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#CSV.jl:-{CSV-file,-hardwritten-data}-â€“-DataFrame","page":"0201 - Wranging data","title":"CSV.jl: {CSV file, hardwritten data} â€“> DataFrame","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using CSV, DataFrames\ndata = CSV.read(\"data.csv\",DataFrame) # source, sink, kword options\ndata = CSV.read(\"data.csv\",NamedTuple)\n\ndata = CSV.read(IOBuffer(\"\"\"\nCountry\tYear\tforarea\tforvol\nGermany\t2000\t11.354\t3381\nFrance\t2000\t15.288\t2254.28\nItaly\t2000\t8.36925\t1058.71\nSweden\t2000\t28.163\t3184.67\nGermany\t2020\t11.419\t3663\nFrance\t2020\t17.253\t3055.83\nItaly\t2020\t9.56613\t1424.4\nSweden\t2020\t27.98\t3653.91\n\"\"\"), DataFrame, copycols=true)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Some common CSV.jl options: delim (use '\\t' for tab delimited files), quotechar, openquotechar, closequotechar, escapechar, missingstring, dateformat, append, writeheader, header, newline, quotestrings, decimal, header, normalizenames, datarow, skipto, footerskip, limit, transpose, comment, use_mmap, type, types (e.g. types=Dict(\"fieldFoo\" => Union{Missing,Int64})), typemap, pool, categorical, strict, silencewarnings, ignorerepeated","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#XLSX.jl:-xlsx-{Matrix,-DataFrame}","page":"0201 - Wranging data","title":"XLSX.jl: xlsx -> {Matrix, DataFrame}","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using XLSX\nsheetNames = XLSX.sheetnames(XLSX.readxlsx(\"data.xlsx\"))\ndata = XLSX.readxlsx(\"data.xlsx\")[\"Sheet1\"][\"A1:D9\"]\ndata = XLSX.readxlsx(\"data.xlsx\")[\"Sheet1\"][:]\ndata = XLSX.readdata(\"data.xlsx\", \"Sheet1\", \"A1:D9\")\nXLSX.readtable(\"data.xlsx\", \"Sheet1\") # tuple vector of (data) vectors, vector of symbols, usable as DF constructor\ndata = DataFrame(XLSX.readtable(\"data.xlsx\", \"Sheet1\")...)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#OdsIO.jl:-ods-{Matrix,-DataFrame}","page":"0201 - Wranging data","title":"OdsIO.jl: ods -> {Matrix, DataFrame}","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using OdsIO\nods_read(\"data.ods\";sheetName=\"Sheet1\",retType=\"DataFrame\")\nods_read(\"data.ods\";sheetName=\"Sheet1\",retType=\"Matrix\",range=[(2,3),(9,4)]) # [(tlr,tlc),(brr,brc)]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#HTTP.jl:-from-internet","page":"0201 - Wranging data","title":"HTTP.jl: from internet","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"import HTTP\nusing Pipe, ZipFile, Tar\nurlData = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/raw/main/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/data.csv\"\nurlDataZ = \"https://github.com/sylvaticus/IntroSPMLJuliaCourse/raw/main/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/data.zip\"\n\n\ndata = @pipe HTTP.get(urlData).body        |>\n             replace!(_, UInt8(';') => UInt8(' ')) |>  # if we need to do modifications to the file before importing\n             CSV.File(_, delim=' ')                |>\n             DataFrame;\nnothing #hide","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#ZipFile.jl-:-from-a-single-zipped-csv-file..","page":"0201 - Wranging data","title":"ZipFile.jl : from a single zipped csv file..","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"...on disk...","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data = @pipe ZipFile.Reader(\"data.zip\").files[1] |>\n             CSV.File(read(_), delim=';') |>\n             DataFrame","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"...or on internet:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data = @pipe HTTP.get(urlDataZ).body       |>\n             IOBuffer(_)                      |>\n             ZipFile.Reader(_).files[1]    |>\n             CSV.File(read(_), delim=';')  |>\n             DataFrame","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#DataFrame-constructor","page":"0201 - Wranging data","title":"DataFrame constructor","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"# named tuple of (colName,colData)..\ndata = DataFrame(\n    country = [\"Germany\", \"France\", \"Italy\", \"Sweden\", \"Germany\", \"France\", \"Italy\", \"Sweden\"],\n    year    = [2000,2000,2000,2000,2020,2020,2020,2020],\n    forarea = [11.354, 15.288, 8.36925, 28.163, 11.419, 17.253, 9.56613, 27.98],\n    forvol  = [3381, 2254.28, 1058.71, 3184.67, 3663, 3055.83, 1424.4, 3653.91]\n)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Matrix-DataFrame","page":"0201 - Wranging data","title":"Matrix -> DataFrame","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Headers and data separated:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"M = [\"Germany\"\t2000\t11.354\t3381\n     \"France\"\t2000\t15.288\t2254.28\n     \"Italy\"\t2000\t8.36925\t1058.71\n     \"Sweden\"\t2000\t28.163\t3184.67\n     \"Germany\"\t2020\t11.419\t3663\n     \"France\"\t2020\t17.253\t3055.83\n     \"Italy\"\t2020\t9.56613\t1424.4\n     \"Sweden\"\t2020\t27.98\t3653.91]\nheaders = [\"Country\", \"Year\", \"forarea\", \"forvol\"]\n# array of colData arrays, array of headers\ndata = DataFrame([[M[:,i]...] for i in 1:size(M,2)], Symbol.(headers))","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Headers on the first row of the matrix:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"M = [\"Country\"\t\"Year\"\t\"forarea\" \"forvol\"\n     \"Germany\"\t2000\t11.354\t  3381\n     \"France\"\t2000\t15.288\t  2254.28\n     \"Italy\"\t2000\t8.36925\t  1058.71\n     \"Sweden\"\t2000\t28.163\t  3184.67\n     \"Germany\"\t2020\t11.419\t  3663\n     \"France\"\t2020\t17.253\t  3055.83\n     \"Italy\"\t2020\t9.56613\t  1424.4\n     \"Sweden\"\t2020\t27.98\t  3653.91]\ndata = DataFrame([[M[2:end,i]...] for i in 1:size(M,2)], Symbol.(M[1,:])) # note the autorecognision of col types","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Getting-insights-on-the-data","page":"0201 - Wranging data","title":"Getting insights on the data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"In VSCode, we can also use the workpanel for a nice sortable tabular view of a df","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"show(data,allrows=true,allcols=true)\nfirst(data,6)\nlast(data, 6)\ndescribe(data)\nnR,nC = size(data)\nnames(data)\nfor r in eachrow(data)\n    println(r) # note is it a \"DataFrameRow\"\nend\nfor c in eachcol(data)\n    println(c) # an array\n    println(nonmissingtype(eltype(c)))\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Selection-and-querying-data","page":"0201 - Wranging data","title":"Selection and querying data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Column(s)-selection","page":"0201 - Wranging data","title":"Column(s) selection","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"In general we can select: (a) by name (strings or symbols) or by position; (b) a single or a vector of columns, (c) copying or making a view (a reference without copying) of the underlying data","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data[:,[\"Country\",\"Year\"]] # copy, using strings\ndata[!,[:Country,:Year]]   # view, using symbols\ndata.Year                  # equiv. to `data[!,Year]`\ndata[:,1]                  # also `data[!,1]`\ndata[:,Not([\"Year\"])]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Row(s)-selection","page":"0201 - Wranging data","title":"Row(s) selection","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data[1,:]    # DataFrameRow\ndata[1:3,:]  # DataFrame","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Note rows have no title names as colums do.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Cell(s)-selection","page":"0201 - Wranging data","title":"Cell(s) selection","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data[2,[2,4]]\ndata[2,\"forarea\"]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Note that the returned selection is:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"an Array{T,1} if it is a single column;\na DataFrameRow (similar in behaviour to a DataFrame) if a single row;\nT if a single cell;\nan other DataFrame otherwise.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Boolean-selection","page":"0201 - Wranging data","title":"Boolean selection","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Both rows and column of a DataFrame (but also of an Matrix) can be selected by passing an array of booleans as column or row mask (and, only for Matrices, also a matrix of booleans)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"mask = [false, false, false, false, true, true, true, true]\ndata[mask,:]\nmask = fill(false,nR,nC)\nmask[2:end,2:3] .= true\nmask\n# data[mask] # error !\nMatrix(data)[mask]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Boolean selection can be used to filter on conditions, e.g.:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"data[data.Year .>= 2020,:]\ndata[[i in [\"France\", \"Italy\"] for i in data.Country] .&& (data.Year .== 2000),:] # note the parhenthesis","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Filtering-using-the-@subset-macro-from-the-DataFramesMacro-package","page":"0201 - Wranging data","title":"Filtering using the @subset macro from the DataFramesMacro package","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using DataFramesMeta\n@subset(data, :Year .> 2010 )\ncolToFilter = :Country\n@subset(data, :Year .> 2010, cols(colToFilter) .== \"France\" ) # Conditions are \"end\" by default. If the column name is embedded in a varaible we eed to use `cols(varname)`","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Filtering-using-the-Query-package","page":"0201 - Wranging data","title":"Filtering using the Query package","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using Query\ndfOut = @from i in data begin # `i` is a single row\n    @where i.Country == \"France\" .&& i.Year >= 2000\n    # Select a group of columns, eventually changing their name:\n    @select {i.Year, FranceForArea=i.forarea} # or just `i` for the whole row\n    @collect DataFrame\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"long but flexible","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Managing-missing-values","page":"0201 - Wranging data","title":"Managing missing values","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"tip: Tip\nSee also the section Missingness implementations for a general discussion on missing values","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"df = copy(data)\n# df[3,\"forarea\"]  = missing # Error, type is Flat64, not Union{Float64,Missing}\ndf.forarea = allowmissing(df.forarea) # also disallowmissing\nallowmissing!(df)\ndf[3,\"forarea\"]  = missing\ndf[6,\"forarea\"]  = missing\ndf[6,\"Country\"]  = missing\nnMissings        = length(findall(x -> ismissing(x), df.forarea)) # Count `missing` values in a column.\ndropmissing(df)\ndropmissing(df[:,[\"forarea\",\"forvol\"]])\ncollect(skipmissing(df.forarea))\ncompletecases(df)\ncompletecases(df[!,[\"forarea\",\"forvol\"]])\n[df[ismissing.(df[!,col]), col] .= 0 for col in names(df) if nonmissingtype(eltype(df[!,col])) <: Number] # Replace `missing` with `0` values in all numeric columns, like `Float64` and `Int64`;\n[df[ismissing.(df[!,col]), col] .= \"\" for col in names(df) if nonmissingtype(eltype(df[!,col])) <: AbstractString] # Replace `missing` with `\"\"` values in all string columns;\ndf","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Editing-data","page":"0201 - Wranging data","title":"Editing data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"df = copy(data)\ndf[1,\"forarea\"] = 11.3\ndf[[2,4],\"forarea\"] .= 10\ndf\npush!(df,[\"UK\",2020,5.0,800.0]) # add row\nsort!(df,[\"Country\",\"Year\"], rev=false)\ndf2 = similar(df) # rubish inside\ndf = similar(df,0) # empty a dataframe. The second parameter is the number of rows desired","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Work-on-dataframe-structure","page":"0201 - Wranging data","title":"Work on dataframe structure","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"df       = copy(data)\ndf.foo   = [1,2,3,4,5,6,7,8] # existing or new column\ndf.volHa = data.forvol ./ data.forarea\ndf.goo   = Array{Union{Missing,Float64},1}(missing,size(data,1))\nselect!(df,Not([\"foo\",\"volHa\",\"goo\"])) # remove  cols by name\nrename!(df, [\"Country2\", \"Year2\", \"forarea2\", \"forvol2\"])\nrename!(df, Dict(\"Country2\" => \"Country\"))\ndf       = df[:,[\"Year2\", \"Country\",\"forarea2\",\"forvol2\"] ] #  change column order\ninsertcols!(df, 2, :foo => [1,2,3,4,5,6,7,8] ) # insert a column at position 2\n\ndf.namedYear = map(string,df.Year2)\nstringToInt(str) = try parse(Int64, str) catch; return(missing) end; df.Year3 = map(stringToInt, df.namedYear)\n\ndf2 = hcat(df,data,makeunique=true)\ndf3 = copy(data)\ndf4 = vcat(data,df3)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Categorical-data","page":"0201 - Wranging data","title":"Categorical data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using CategoricalArrays # You may want to consider also PooledArrays\ndf.Year2 = categorical(df.Year2)\ntransform!(df, names(df, AbstractString) .=> categorical, renamecols=false) # transform to categorical all string columns","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"warning: Warning\nAttention that while the memory to store the data decreases, and grouping is way more efficient, filtering with categorical values is not necessarily quicker (indeed it can be a bit slower)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"levels(df.Year2)\nlevels!(df.Country,[\"Sweden\",\"Germany\",\"France\",\"Italy\"]) # Let you define a personalised order, useful for ordered data\nsort(df.Country)\nsort!(df,\"Country\")\ndf.Years2 = unwrap.(df.Year2) # convert a categorical array into a normal one.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Joining-dataframes","page":"0201 - Wranging data","title":"Joining dataframes","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"df1,df2 = copy(data),copy(data)\npush!(df1,[\"US\",2020,5.0,1000.0])\npush!(df2,[\"China\",2020,50.0,1000.0])\nrename!(df2,\"Year\"=>\"year\")\ninnerjoin(df1,df2,on=[\"Country\",\"Year\"=>\"year\"],makeunique=true) # common records only","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Also available: leftjoin (all records on left df), rightjoin (all on right df), outerjoin(all records returned), semijoin (like inner join by only with columns from the right df), antijoin (left not on right df) and crossjoin (like the cartesian product, each on the right by each on the left)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Pivoting-data","page":"0201 - Wranging data","title":"Pivoting data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"long and wide are two kind of layout for equivalent representation of tabled data. In a long layout we have each row being an observation of a single variable, and each record is represented as dim1, dim2, ..., value. As the name implies, \"long\" layouts tend to be relativelly long and hard to analyse by an human, but are very easity to handle. At the opposite, A wide layout represents multiple observations on the same row, eventually using multiple horizontal axis as in the next figure (but Julia dataframes handle only a single horizzontal axis):","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"    \n Forest Area  Forest Volumes \n 2000 2020 2000 2020\nGermany 11.35 11.42 3381 3663\nFrance 15.29 17.25 2254 3056","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"_wide layout is easier to visually analise for a human mind but much more hard to analyse in a sistermatic way. We will learn now how to move from one type of layout to the other.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Stacking-columns:-from-*wide*-to-*long*","page":"0201 - Wranging data","title":"Stacking columns: from wide to long","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"longDf  = stack(data,[\"forarea\",\"forvol\"])    # we specify the variable to stack (the \"measured\" variables)\nlongDf2 = stack(data,Not([\"Country\",\"Year\"])) # we specify the variables _not_ to stack (the id variables)\nlongDf3 = stack(data)                         # automatically stack all numerical variables\nlongDf == longDf2 == longDf3","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Note how the columns variable and value have been added automatically to host the stachked data","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Unstacking-columns:-from-*wide*-to-*long*","page":"0201 - Wranging data","title":"Unstacking columns: from wide to long","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"wideDf = unstack(longDf,[\"Country\",\"Year\"],\"variable\",\"value\") # args: df, [cols to remains cols also in the wide layout], column with the ids to expand horizontally and column with the relative values\nwideDf2 = unstack(longDf,\"variable\",\"value\") # cols to remains cols also in the wide layout omitted: all cols not to expand and relative value col remains as col\nwideDf == wideDf2 == data","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"While the DataFrames package doesn't support multiple axis we can still arrive to the table below with a little bit of work by unstacking different columns in separate wide dataframes and then joining or horizontally concatenating them:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"wideArea = unstack(data,\"Country\",\"Year\",\"forarea\")\nwideVols = unstack(data,\"Country\",\"Year\",\"forvol\")\nrename!(wideArea,[\"Country\",\"area_2000\",\"area_2020\"])\nrename!(wideVols,[\"Country\",\"vol_2000\",\"vol_2020\"])\nwideWideDf = outerjoin(wideArea,wideVols,on=\"Country\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#The-Split-Apply-Combine-strategy","page":"0201 - Wranging data","title":"The Split-Apply-Combine strategy","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Aka \"divide and conquer\". Rather than try to modify the dataset direclty, we first split it in subparts, we work on each subpart and then we recombine them in a target dataset","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using Statistics # for `mean`\ngroupby(data,[\"Country\",\"Year\"]) # The \"split\" part","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Aggregation:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"combine(groupby(data,[\"Year\"]) ,  \"forarea\" => sum => \"sum_area\", \"forvol\" => sum => \"sum_vol\", nrow)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"...or...","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"combine(groupby(data,[\"Year\"])) do subdf # slower\n    (sumarea = sum(subdf.forarea), sumvol = sum(subdf.forvol), nCountries = size(subdf,1))\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Cumulative computation:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"a = combine(groupby(data,[\"Year\"])) do subdf # slower\n    (country = subdf.Country, area = subdf.forarea, cumArea = cumsum(subdf.forarea))\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"Note in these examples that while in the aggregation we was returning a single record for each subgroup (hence we did some dimensionality reduction) in the cumulative compuation we still output the whole subgroup, so the combined dataframe in output has the same number of rows as the original dataframe.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"An alternative approach is to use the @linq macro from the DatAFrameMEta package that provide a R's dplyr-like query language using piped data:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"using DataFramesMeta\ndfCum = @linq data |>\n            groupby([:Year]) |>\n            transform(:cumArea = cumsum(:forarea))","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Export-and-saving","page":"0201 - Wranging data","title":"Export and saving","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#DataFrame-to-Matrix","page":"0201 - Wranging data","title":"DataFrame to Matrix","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"M = Matrix(data)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"warning: Warning\nAttention that if the dataframe contains different types across columns, the inner type of the matrix will be Any","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"M = Matrix{Union{Float64,Int64,String}}(data)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#DataFrame-to-Dictionary","page":"0201 - Wranging data","title":"DataFrame to Dictionary","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"function toDict(df, dimCols, valueCol)\n    toReturn = Dict()\n    for r in eachrow(df)\n        keyValues = []\n        [push!(keyValues,r[d]) for d in dimCols]\n        toReturn[(keyValues...,)] = r[valueCol]\n    end\n    return toReturn\nend\ndict = toDict(data,[\"Country\",\"Year\"],[\"forarea\",\"forvol\"])\ndict[\"Germany\",2000][1]\ndict[\"Germany\",2000][\"forvol\"]\ntoDict(data,[\"Country\",\"Year\"],\"forarea\")","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#DataFrame-to-NamedTuple","page":"0201 - Wranging data","title":"DataFrame to NamedTuple","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"nT = NamedTuple(Dict([Symbol(c) => data[:,c]  for c in names(data)]))        # order not necessarily preserved\nusing DataStructures\nnT = NamedTuple(OrderedDict([Symbol(c) => data[:,c]  for c in names(data)])) # order preserved","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Saving-as-CSV-file","page":"0201 - Wranging data","title":"Saving as CSV file","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"CSV.write(\"outdata.csv\",data) # see options at the beginning of segment in the import section and `? CSV.write` for specific export options","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Saving-as-OpenDocument-spreadsheet","page":"0201 - Wranging data","title":"Saving as OpenDocument spreadsheet","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"ods_write(\"outdata.ods\",Dict((\"myData\",3,2) => data)) # exported starting on cell B3 of sheet \"myData\"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html#Saving-as-Excel-spreadsheet","page":"0201 - Wranging data","title":"Saving as Excel spreadsheet","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"XLSX.writetable(\"outdata.xlsx\",myData = (collect(eachcol(data)),names(data)))","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"View this file on Github.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"This page was generated using Literate.jl.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.md\",\n\"title\" : \"0201_-_Wranging_data.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0201_-_Wranging_data.html","page":"0201 - Wranging data","title":"0201 - Wranging data","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>04 NN  - 2A:  Binary classification (15:54)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/IFVz0jsy5AQ\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 2B:  Multinomial classification (15:1)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/fqROq7B6nyY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 2C:  Regression (6:3)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/jO-mfgzo7VY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>04 NN  - 2D:  Convolutional neural networks (13:19)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/mSUdLu9HAd4\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.jl\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Implementation-of-Neural-network-workflows","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of Neural network workflows","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Some-stuff-to-set-up-the-environment..","page":"0402 - Implementation of neural networks workflows","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")\n# If using a Julia version different than 1.7 please uncomment and run the following line (the guarantee of reproducibility will however be lost)\n# Pkg.resolve()\nPkg.instantiate()\nusing Random\nRandom.seed!(123)\nENV[\"DATADEPS_ALWAYS_ACCEPT\"] = \"true\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"We will not run cross validation here to find the optimal hyper-parameters. The process will not be different than those we saw in the lesson on the Perceptron. Instead we focus on creating neural network models, train them based on data and evaluating their predictions. For feed-forward neural networks (both for classification and regression) we will use BetaML, while for Convolutional Neural Networks example we will use the Flux.jl package.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Feed-forward-neural-networks","page":"0402 - Implementation of neural networks workflows","title":"Feed-forward neural networks","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Binary-classification","page":"0402 - Implementation of neural networks workflows","title":"Binary classification","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Data loading...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"using BetaML, DelimitedFiles\ndata  = readdlm(joinpath(dirname(pathof(BetaML)),\"..\",\"test\",\"data\",\"binary2DData.csv\"),'\\t')\nnR   = size(data,1)\nidx  = shuffle(1:nR)\ndata = data[idx,:]\nX    = copy(data[:,[2,3]])\ny    = max.(0,convert(Array{Int64,1},copy(data[:,1]))) # Converting labels from {-1,1} to {0,1}\n((xtrain,xtest),(ytrain,ytest)) = partition([X,y],[0.7,0.3])","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Using-defaults-hidding-complexity","page":"0402 - Implementation of neural networks workflows","title":"Using defaults - hidding complexity","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Model definition...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"l1   = DenseLayer(2,5,f=tanh)\nl2   = DenseLayer(5,5,f=relu)\nl3   = DenseLayer(5,1,f=sigmoid)\nmynn = buildNetwork([l1,l2,l3],squaredCost)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Training...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"train!(mynn,xtrain,ytrain)\n\nyÌ‚train         = predict(mynn, xtrain) |> makeColVector .|> round .|> Int\nyÌ‚test          = predict(mynn, xtest)  |> makeColVector .|> round .|> Int\ntrainAccuracy  = accuracy(yÌ‚train,ytrain)\ntestAccuracy   = accuracy(yÌ‚test,ytest)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Specifying-all-options","page":"0402 - Implementation of neural networks workflows","title":"Specifying all options","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Model definition...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"l1   = DenseLayer(2,5,f=tanh, df= dtanh,rng=copy(FIXEDRNG))\nl2   = DenseLayer(5,5,f=relu,df=drelu,rng=copy(FIXEDRNG))\nl3   = DenseLayer(5,1,f=sigmoid,df=dsigmoid,rng=copy(FIXEDRNG))\nmynn = buildNetwork([l1,l2,l3],squaredCost,dcf=dSquaredCost,name=\"A classification task\") # or crossEntropy / dCrossEntropy","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Training...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"function myOwnTrainingInfo(nn,x,y;n,nBatches,epochs,verbosity,nEpoch,nBatch)\n    if verbosity == NONE\n        return false # doesn't stop the training\n    end\n    nMsgDict = Dict(LOW => 0, STD => 10,HIGH => 100, FULL => n)\n    nMsgs = nMsgDict[verbosity]\n    batchSize = size(x,1)\n    if verbosity == FULL || ( nBatch == nBatches && ( nEpoch == 1  || nEpoch % ceil(epochs/nMsgs) == 0))\n\n       Ïµ = loss(nn,x,y)\n       println(\"MY Training.. \\t avg Ïµ on (Epoch $nEpoch Batch $nBatch): \\t $(Ïµ)\")\n    end\n    return false\n end\ntrain!(mynn,xtrain,ytrain,epochs=300,batchSize=6,sequential=true,verbosity=STD,cb=myOwnTrainingInfo,optAlg=ADAM(Î·=t -> 0.001, Î»=1.0, Î²â‚=0.9, Î²â‚‚=0.999, Ïµ=1e-8),rng=copy(FIXEDRNG))\n\nyÌ‚train         = predict(mynn, xtrain) |> makeColVector .|> round .|> Int\nyÌ‚test          = predict(mynn, xtest)  |> makeColVector .|> round .|> Int\ntrainAccuracy  = accuracy(yÌ‚train,ytrain)\ntestAccuracy   = accuracy(yÌ‚test,ytest)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Multinomial-classification","page":"0402 - Implementation of neural networks workflows","title":"Multinomial classification","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"We want to determine the plant specie given some bothanic measures of the flower","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"iris     = readdlm(joinpath(dirname(Base.find_package(\"BetaML\")),\"..\",\"test\",\"data\",\"iris.csv\"),',',skipstart=1)\niris     = iris[shuffle(axes(iris, 1)), :] # Shuffle the records, as they aren't by default\nx        = convert(Array{Float64,2}, iris[:,1:4])\ny        = map(x->Dict(\"setosa\" => 1, \"versicolor\" => 2, \"virginica\" =>3)[x],iris[:, 5]) # Convert the target column to numbers\n\n((xtrain,xtest),(ytrain,ytest)) = partition([x,y],[0.8,0.2],shuffle=false)\n\nytrain_oh = oneHotEncoder(ytrain) # Convert to One-hot representation (e.g. 2 => [0 1 0], 3 => [0 0 1])","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Define the Artificial Neural Network model","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"l1   = DenseLayer(4,10,f=relu) # Activation function is ReLU\nl2   = DenseLayer(10,3)        # Activation function is identity by default\nl3   = VectorFunctionLayer(3,f=softmax) # Add a (parameterless) layer whose activation function (softMax in this case) is defined to all its nodes at once\nmynn = buildNetwork([l1,l2,l3],crossEntropy,name=\"Multinomial logistic regression Model Sepal\") # Build the NN and use the squared cost (aka MSE) as error function (crossEntropy could also be used)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Training it (default to ADAM)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"res = train!(mynn,scale(xtrain),ytrain_oh,batchSize=6) # Use optAlg=SGD() to use Stochastic Gradient Descent instead","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Test it","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"yÌ‚train        = predict(mynn,scale(xtrain))   # Note the scaling function\nyÌ‚test         = predict(mynn,scale(xtest))\ntrainAccuracy = accuracy(yÌ‚train,ytrain)\ntestAccuracy  = accuracy(yÌ‚test,ytest,tol=1,ignoreLabels=false)\n\ncm = ConfusionMatrix(yÌ‚train,ytrain, labels=[\"setosa\", \"versicolor\", \"virginica\"])\nprintln(cm)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Regression","page":"0402 - Implementation of neural networks workflows","title":"Regression","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Data Loading and processing..","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"using Pipe, HTTP, CSV, Plots, DataFrames\nurlData = \"https://www4.stat.ncsu.edu/~boos/var.select/diabetes.tab.txt\"\ndata = @pipe HTTP.get(urlData).body |> CSV.File(_, delim='\\t') |> DataFrame\nsex_oh = oneHotEncoder(data.SEX)\nX = hcat(data.AGE, Matrix(data[:,3:10]),sex_oh)\ny = data.Y\n(xtrain,xval),(ytrain,yval) = partition([X,y],[0.8,0.2])","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Model definition...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"l1   = DenseLayer(11,20,f=relu)\nl2   = DenseLayer(20,20,f=relu)\nl3   = DenseLayer(20,1,f=relu) # y is positive\nmynn = buildNetwork([l1,l2,l3],squaredCost)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"Training...","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"trainingLogs = train!(mynn,scale(xtrain),ytrain,batchSize=6,epochs=600)\n\nyÌ‚train   = predict(mynn, scale(xtrain)) |> makeColVector\nyÌ‚val     = predict(mynn, scale(xval))  |> makeColVector\ntrainRME = meanRelError(yÌ‚train,ytrain,normRec=false)\ntestRME  = meanRelError(yÌ‚val,yval,normRec=false)\nplot(trainingLogs.Ïµ_epochs[10:end])\nscatter(yval,yÌ‚val,xlabel=\"obs\",ylabel=\"est\",legend=nothing)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html#Convolutional-neural-networks","page":"0402 - Implementation of neural networks workflows","title":"Convolutional neural networks","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"using LinearAlgebra, Statistics,Flux, MLDatasets, Plots\n\nx_train, y_train = MLDatasets.MNIST.traindata(dir = \"data/MNIST\")\nx_train          = permutedims(x_train,(2,1,3)) # For correct img axis\nx_train          = convert(Array{Float32,3},x_train)\nx_train          = reshape(x_train,(28,28,1,60000))\ny_train          = Flux.onehotbatch(y_train, 0:9)\ntrain_data       = Flux.Data.DataLoader((x_train, y_train), batchsize=128)\nx_test, y_test   = MLDatasets.MNIST.testdata(dir = \"data/MNIST\")\nx_test           = permutedims(x_test,(2,1,3)) # For correct img axis\nx_test           = convert(Array{Float32,3},x_test)\nx_test           = reshape(x_test,(28,28,1,10000))\ny_test           = Flux.onehotbatch(y_test, 0:9)\n\nmodel = Chain(\n    # 28x28 => 14x14\n    Conv((5, 5), 1=>8, pad=2, stride=2, relu),\n    # 14x14 => 7x7\n    Conv((3, 3), 8=>16, pad=1, stride=2, relu),\n    # 7x7 => 4x4\n    Conv((3, 3), 16=>32, pad=1, stride=2, relu),\n    # 4x4 => 2x2\n    Conv((3, 3), 32=>32, pad=1, stride=2, relu),\n    # Average pooling on each width x height feature map\n    GlobalMeanPool(),\n    Flux.flatten,\n    Dense(32, 10),\n    Flux.softmax\n)\n\nmyaccuracy(yÌ‚, y) = (mean(Flux.onecold(yÌ‚) .== Flux.onecold(y)))\nmyloss(x, y)     = Flux.crossentropy(model(x), y)\n\nopt = Flux.ADAM()\nps  = Flux.params(model)\nnumber_epochs = 4\n\nFlux.@epochs number_epochs Flux.train!(myloss, ps, train_data, opt)\n\nyÌ‚train =   model(x_train)\nyÌ‚test  =   model(x_test)\nmyaccuracy(yÌ‚train, y_train)\nmyaccuracy(yÌ‚test, y_test)\n\nplot(Gray.(x_train[:,:,1,2]))\ncm = ConfusionMatrix(Flux.onecold(yÌ‚test) .-1 ,Flux.onecold(y_test) .-1)\nprintln(cm)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"View this file on Github.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"This page was generated using Literate.jl.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.md\",\n\"title\" : \"0402_-_Implementation_of_neural_networks_workflows.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402_-_Implementation_of_neural_networks_workflows.html","page":"0402 - Implementation of neural networks workflows","title":"0402 - Implementation of neural networks workflows","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 6A: Metaprogramming and macros (23:46)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/Q3Fx6pFLCFk\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 6B: Interoperability with other languages (23:6)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/xK_Ug2gtQvU\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 6C: Performances and errors:  profiling, debugging, introspection and exceptions (27:33)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/vg8v_6oX2DM\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 6D: Parallel computation:  multithreading, multiprocessing (20:3)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/L849oXXCXFM\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Further-Topics","page":"0106 - Further topics","title":"0106 Further Topics","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Some-stuff-to-set-up-the-environment..","page":"0106 - Further topics","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will however be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 01.01","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"using Random\nRandom.seed!(123)\nusing InteractiveUtils # loaded automatically when working... interactively","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Metaprogramming-and-macros","page":"0106 - Further topics","title":"Metaprogramming and macros","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"\"running\" some code include the following passages (roughly):","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"parsing of the text defining the code and its translation in hierarchical expressions to the Abstract syntax Tree (AST) (syntax errors are caugth at this time)\non the first instance required (\"just in time\") compilation of the AST expressions into object code (using the LLVM compiler)\nexecution of the compiled object code","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"\"Macros\" in many other language (e.g. C or C++) refer to the possibility to \"pre-process\" the textual representation of the code statements before it is parsed. In julia instead it refers to the possibility to alter the expression once has already being parsed in the AST, allowing a greater expressivity as we are no longer limited by the parsing syntax","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The AST is organised in a hierarchical tree of expressions where each element (including the operators) is a symbol For variables, you can use symbols to refer to the actual identifiers instad to the variable's value","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Expressions themselves are objects representing unevaluated computer expressions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Expressions-and-symbols","page":"0106 - Further topics","title":"Expressions and symbols","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"expr1 = Meta.parse(\"a = b + 2\") # What the parser do when reading the source code. b doesn't need to actually been defined, it's just a namebinding without the reference to any object, not even `nothing`\ntypeof(expr1) # expressions are first class objects\nexpr2 = :(a = b + 1)\nexpr3 = quote a = b + 1 end\nexpr3\ndump(expr1)   # The AST ! Note this is already a nested statement, an assignment of the result of an expression (the sum call between the symbol `:b` and 1) to the symbol `a`\nexpr4 = Expr(:(=),:a,Expr(:call,:+,:b,1)) # The AST using the \"Expr\" constructor\n\nsymbol1   = :(a)               # as for expressions\nsymbol2   = Meta.parse(\"a\")    # as for expressions\nsymbol3   = Symbol(\"a\")        # specific for symbols only\nothsymbol = Symbol(\"aaa\",10,\"bbb\")\ntypeof(symbol1)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"I can access any parts of my expression before evaluating it (indeed, that's what macro will do...)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"myASymbol = expr1.args[2].args[1]\nexpr1.args[2].args[1] = :(*)\nb = 2\n# a # error, a not defined\neval(expr1)\na # here now is defined and it has an object associated... 4!","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"danger: Danger\nThe capability to evaluate expressions is very powerfull but due to obvious secutiry implications never evaluate expressions you aren't sure of their provenience. For example if you develop a Julia web app (e.g. using Genie.jl) never evaluate user provided expressions.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Note that evaluation of expressions happens always at global scope, even if it done inside a function:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function foo()\n    locVar = 1\n    expr = :(locVar + 1)\n    return eval(expr)\nend\n# a = foo() # error locVar not defined","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"To refer to the value of a variable rather than the identifier itself within an expression, interpolate the variable using the dollar sign:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"expr = :($a + b) # here the identifier 'a' has been replaced with its numerical value, `4`\ndump(expr)\neval(expr)\na = 10\neval(expr) # no changes\nb = 100\neval(expr) # here it change, as it is at eval time that the identifier `b` is \"replaced\" with its value","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Macros","page":"0106 - Further topics","title":"Macros","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"One of the best usage of macros is they allow package developers to provide a very flexible API to their package, suited for the specific needs of the package, making life easier for the users. Compare for example the API of JuMP with those of Pyomo to define model constraints !","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Some examples of macros: MultiDimEquations.jl","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"from: @meq par1[d1 in DIM1, d2 in DIM2, dfix3] =  par2[d1,d2]+par3[d1,d2]\nto:   [par1[d1,d2,dfix3] =  par2[d1,d2]+par3[d1,d2] for d1 in DIM1, d2 in DIM2]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Pipe.jl:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"from: @pipe  10 |> foo(_,a) |> foo2(b,_,c) |> foo3(_)\nto:   foo3(foo2(b,foo(10,a),c))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Brodcasting (Base):","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"from: @. a + b * D^2\nto:   a .+ b .* D.^2","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Defining a macro...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Like functions, but both the arguments and the returned output are expressions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"macro customLoop(controlExpr,workExpr)\n    return quote\n      for i in $controlExpr\n        $workExpr\n      end\n    end\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Invoking a macro....","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"a = 5\n@customLoop 1:4 println(i) #note that \"i\" is in the macro\n@customLoop 1:a println(i)\n@customLoop 1:a if i > 3 println(i) end\n@customLoop [\"apple\", \"orange\", \"banana\"]  println(i)\n@customLoop [\"apple\", \"orange\", \"banana\"]  begin print(\"i: \"); println(i)  end\n@macroexpand @customLoop 1:4 println(i) # print what the macro does with the specific expressions provided","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"String macros (aka \"non-standard string literals\") Invoked with the syntax xxx\" ...text...\" or xxx\"\"\" ...multi-line text...\"\"\" where xxx is the name of the macro and the macro must be defined as macro  xxx_str. Used to perform textual modification o nthe given text, for example this print the given text on a 8 characters","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"macro print8_str(mystr)                                 # input here is a string, not an expression\n    limits = collect(1:8:length(mystr))\n    for (i,j) in enumerate(limits)\n      st = j\n      en = i==length(limits) ? length(mystr) : j+7\n      println(mystr[st:en])\n    end\nend\n\nprint8\"123456789012345678\"\nprint8\"\"\"This is a text that once printed in 8 columns with terminal will be several lines. Ok, no rammar rules relating to carriage returns are emploied here...\"\"\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"While normally used to modify text, string macros are \"true\" macros:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"macro customLoop_str(str)\n    exprs = Meta.parse(str)\n    controlExpr,workExpr = exprs.args[1],exprs.args[2]\n    return quote\n      for i in $controlExpr\n        $workExpr\n      end\n    end\nend\n\ncustomLoop\"\"\"1:4; println(i)\"\"\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Interfacing-with-other-languages","page":"0106 - Further topics","title":"Interfacing with other languages","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"There are 3 ways to interface Julia with programs or libraries wrote in other languages. At the lowest level, Julia allows to directly interface with C or Fortran libraries, and this means, aside using directly libraries written in C, to be able to interface with any programming language that offer also a C interface (R, Python...) Using this low level C Interface, users have created specific packages to interface many languages using a simple, Julian-way syntax. We will see these interfaces for R and Python. Finally, at the highest level, many common packages of other languages have been already \"interfaced\", so that the user can use the Julia Package without even knowing that this is an interface for an other package, for example SymPy.jl is a large interface to the Python package SymPy.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Using-C-libraries","page":"0106 - Further topics","title":"Using C libraries","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Let's start by seing how to use a C library. For this example to work you will need to have the GCC compiler installed on your machine First let's write the header and source C files and write them to the disk:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"cheader = \"\"\"\nextern int get5();\nextern double mySum(float x, float y);\n\"\"\"\ncsource = \"\"\"\nint get5(){\n    return 5;\n}\n\ndouble mySum(float x, float y){\n    return x+y;\n}\n\"\"\"\n\nopen(f->write(f,cheader),\"myclib.h\",\"w\")  # We open a stream to file with the \"w\" parameter as for \"writing\", and we pass the stream to the anonymous function to actually write to the stream. If this funcitons is many lines of code, consider rewriting the `open` statement using a `do` block\nopen(f->write(f,csource),\"myclib.c\",\"w\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Now let's run the command to compile the C code we saved as shared library using gcc, a C compiler. The following example assume that GCC is installed in the machine where this example is run and available as gcc.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"compilationCommand1 = `gcc -o myclib.o -c myclib.c` # the actual compilation, note the backticks used to define a command\ncompilationCommand2 = `gcc -shared -o libmyclib.so myclib.o -lm -fPIC` # the linking into a shared library\nrun(compilationCommand1)\nrun(compilationCommand2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"This should have created the C library libmyclib.so on disk. Let's gonna use it:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"const myclib = joinpath(@__DIR__, \"libmyclib.so\")  # we need the full path","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"ccall arguments:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"A tuple with the funcion name to call and the library path. For both, if embedded in a variable, the variable must be set constant.\nThe Julia type that map to the C type returned by the function.\nint â†’ Int32 or Int64 (or the easy-to remmeber Cint alias)\nfloat â†’ Float32 (or the Cfloat alias)\ndouble â†’ Float64 (or the Cdouble alias)\nA tuple with the Julia types of the parameters passed to the C function\nAny other argument are the values of the parameter passed","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"a = ccall((:get5,myclib), Int32, ())\nb = ccall((:mySum,myclib), Float64, (Float32,Float32), 2.5, 1.5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"More details on calling C or Fortran code can be obtained in the official Julia documentation.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Using-Python-in-Julia","page":"0106 - Further topics","title":"Using Python in Julia","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The \"default\" way to use Python code in Julia is trough the PyCall.jl package. It automatically take care of convert between Python types (including numpy arrays) and Julia types (types that can not be converted automatically are converted to the generic PyObject type).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"ENV[\"PYTHON\"] = \"\" # will force PyCall to download and use a \"private to Julia\" (conda based) version of Python. use \"/path/to/python\" if you want to reuse a version already installed on your system\n# using Pkg\n# Pkg.add(\"PyCall\")\n# Pkg.build(\"PyCall\")\nusing PyCall","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Embed-short-python-snippets-in-Julia","page":"0106 - Further topics","title":"Embed short python snippets in Julia","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"py\"\"\"\ndef sumMyArgs (i, j):\n  return i+j\ndef getNthElement (vec,n):\n  return vec[n]\n\"\"\"\na = py\"sumMyArgs\"(3,4)             # 7 - here we call the Python object (a function) with Julia parameters\nb = py\"getNthElement\"([1,2,3],1)   # 2 - attention to the diffferent convention for starting arrays!. Note the Julia Array ahas been converted automatically to a Python list\nd = py\"getNthElement([1,$a,3],1)\"  # 7 - here we interpolate the Python call","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Alternativly, use @pyinclude(\"pythonScript.py\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"pythonCode = \"\"\"\ndef sumMyArgs (i, j, z):\n  return i+j+z\n\"\"\"\nopen(f->write(f,pythonCode),\"pythonScript.py\",\"w\")\n@pyinclude(\"pythonScript.py\")\na = py\"sumMyArgs\"(3,4,5)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"tip: Tip\nNote thaat the 3 arguments definition of sumMyArgs has replaced the 3-arguments one. This would now error py\"sumMyArgs\"(3,4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Use-Python-libraries","page":"0106 - Further topics","title":"Use Python libraries","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Add a package to the local Python installation using Conda:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"pyimport_conda(\"ezodf\", \"ezodf\", \"conda-forge\") # pyimport_conda(module, package, channel)\n\nconst ez = pyimport(\"ezodf\")  # Equiv. of Python `import ezodf as ez`\ndestDoc  = ez.newdoc(doctype=\"ods\", filename=\"anOdsSheet.ods\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Both ez and destDoc are PyObjects for which we can access attributes and call the methods using the usual obj.method() syntax as we would do in Python","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"sheet    = ez.Sheet(\"Sheet1\", size=(10, 10))\ndestDoc.sheets.append(sheet)\n# dcell1 = sheet[(2,3)] # This would error because the index is a tuple. Let's use directly the `get(obj,key)` function instead:\ndcell1   = get(sheet,(2,3)) # Equiv. of Python `dcell1 = sheet[(2,3)]`. Attention again to Python indexing from zero: this is cell \"D3\", not \"B3\" !\ndcell1.set_value(\"Hello\")\nget(sheet,\"A9\").set_value(10.5) # Equiv. of Python `sheet['A9'].set_value(10.5)`\ndestDoc.backup = false\ndestDoc.save()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Using-Julia-in-Python","page":"0106 - Further topics","title":"Using Julia in Python","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Installation-of-the-Python-package-PyJulia","page":"0106 - Further topics","title":"Installation of the Python package PyJulia","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"PyJulia can be installed using pip, taking note that its name using pip is julia not PyJulia: $ python3 -m pip install --user julia","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can now open a Python terminal and initialise PyJulia to work with our Julia version:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":">>> import julia\n>>> julia.install() # Only once to set-up in julia the julia packages required by PyJulia","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"If we have multiple Julia versions, we can specify the one to use in Python passing julia=\"/path/to/julia/binary/executable\" (e.g. julia = \"/home/myUser/lib/julia-1.1.0/bin/julia\") to the install() function.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Running-Julia-libraries-and-code-in-Python","page":"0106 - Further topics","title":"Running Julia libraries and code in Python","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"On each Python session we need to run the following code:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"from julia import Julia\nJulia(compiled_modules=False)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"This is a workaround to the common situation when the Python interpreter is statically linked to libpython, but it will slow down the interactive experience, as it will disable Julia packages pre-compilation, and every time we will use a module for the first time, this will need to be compiled first. Other, more efficient but also more complicate, workarounds are given in the package documentation, under the Troubleshooting section.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can now direcltly load a Julia module, including Main, the global namespace of Juliaâ€™s interpreter, with from julia import ModuleToLoad and access the module objects directly or using the Module.evel() interface.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Add-a-Julia-package...","page":"0106 - Further topics","title":"Add a Julia package...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":">>> from julia import Pkg\n>>> Pkg.add(\"BetaML\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Of course we can add a package alternatively from within Julia","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#\"Direct\"-calling-of-Julia-functions...","page":"0106 - Further topics","title":"\"Direct\" calling of Julia functions...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":">>> from julia import BetaML\n>>> import numpy as np\n>>> model = BetaML.buildForest([[1,10],[2,12],[12,1]],[\"a\",\"a\",\"b\"])\n>>> predictions = BetaML.predict(model,np.array([[2,9],[13,0]]))\n>>> predictions\n[{'b': 0.36666666666666664, 'a': 0.6333333333333333}, {'b': 0.7333333333333333, 'a': 0.26666666666666666}]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Access-using-the-eval()-interface...","page":"0106 - Further topics","title":"Access using the eval() interface...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"If we are using the jl.eval() interface, the objects we use must be already known to julia. To pass objects from Python to Julia, we can import the julia Main module (the root module in julia) and assign the needed variables, e.g.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":">>> X_python = [1,2,3,2,4]\n>>> from julia import Main\n>>> Main.X_julia = X_python\n>>> Main.eval('BetaML.gini(X_julia)')\n0.7199999999999999\n>>> Main.eval(\"\"\"\n...   function makeProd(x,y)\n...       return x*y\n...   end\n...   \"\"\"\n... )\n>>> Main.eval(\"makeProd(2,3)\") # or Main.makeProd(2,3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"For large scripts instead of using eval() we can equivalently use Main.include(\"aJuliaScript.jl\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Using-R-in-Julia","page":"0106 - Further topics","title":"Using R in Julia","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"To use R from within Julia we use the RCall package.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"ENV[\"R_HOME\"] = \"*\" #  # will force RCall to download and use a \"private to Julia\" (conda based) version of R. use \"/path/to/R/directory\" (e.g. `/usr/lib/R`) if you want to reuse a version already installed on your system\n# using Pkg\n# Pkg.add(\"RCall\")\n# Pkg.build(\"RCall\")\nusing RCall\n\n\nR\"\"\"\nsumMyArgs <- function(i,j) i+j\ngetNthElement <- function(vec,n) {\n  return(vec[n])\n}\n\"\"\"\na = rcopy(R\"sumMyArgs\"(3,4))             # 7 - here we call the R object (a function) with Julia parameters\nb = rcopy(R\"getNthElement\"([1,2,3],1))   # 1 - no differences in array indexing here\nd = rcopy(R\"as.integer(getNthElement(c(1,$a,3),2))\")  # 7 - here we interpolate the R call\nd = convert(Int64,R\"getNthElement(c(1,$a,3),2)\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"While we don't have here the problem of different array indexing convention (both Julia and R start indexing arrays at 1), we have the \"problem\" that the output returned by using R\"...\" is not yet an exploitable Julia object but it remains as an RObject that we can convert with rcopy() or explicitly with convert(T,obj). Also, R elements are all floats by default, so if we need an integer in Julia we need to explicitly convert it, either in R or in Julia.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"If the R code is on a script, we don't have here a sort of @Rinclude macro, so let's implement it ourselves by loading the file content as a file and evaluating it using the function reval provided by RCall:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"macro Rinclude(fname)\n    quote\n        rCodeString = read($fname,String)\n        reval(rCodeString)\n        nothing\n    end\nend\n\nRCode = \"\"\"\nsumMyArgs <- function(i, j, z) i+j+z\n\"\"\"\nopen(f->write(f,RCode),\"RScript.R\",\"w\")\n@Rinclude(\"RScript.R\")\na = rcopy(R\"sumMyArgs\"(3,4,5))  # 12\n# a = rcopy(R\"sumMyArgs\"(3,4)) # error !  The 3-arguments version of `sumMyArgs` has _replaced_ the 2-arguments one","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Using-Julia-in-R","page":"0106 - Further topics","title":"Using Julia in R","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Installation-of-the-R-package-JuliaCall","page":"0106 - Further topics","title":"Installation of the R package JuliaCall","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"JuliaCall can be installed from CRAN:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"> install.packages(\"JuliaCall\")\n> library(JuliaCall)\ninstall_julia()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"install_julia()will force R download and install a private copy of julia. If you prefer to use instead an existing version of julia and having R default to download a private version only if it can't find a version already installed, usejuliasetup(installJulia = TRUE)instead ofinstalljulia(), eventually passing theJULIAHOME = \"/path/to/julia/binary/executable/directory\"(e.g.JULIAHOME = \"/home/myUser/lib/julia-1.7.0/bin\") parameter to thejulia_setup` call","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"JuliaCall depends for some things (like object conversion between Julia and R) from the Julia RCall package. If we don't already have it installed in Julia, it will try to install it automatically.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Running-Julia-libraries-and-code-in-R","page":"0106 - Further topics","title":"Running Julia libraries and code in R","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"On each R session we need to run the julia_setup function:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"library(JuliaCall)\njulia_setup() # If we have already downloaded a private version of Julia for R it will be retrieved automatically","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can now load a Julia module and access the module objects directly or using the Module.evel() interface.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Add-a-Julia-package...-2","page":"0106 - Further topics","title":"Add a Julia package...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"> julia_eval('using Pkg; Pkg.add(\"BetaML\")')","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Of course we can add a package alternatively from within Julia","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Let's load some data from R and do some work with this data in Julia:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"> library(datasets)\n> X <- as.matrix(sapply(iris[,1:4], as.numeric))\n> y <- sapply(iris[,5], as.integer)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Calling-of-Julia-functions-with-julia_call...","page":"0106 - Further topics","title":"Calling of Julia functions with julia_call...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"With JuliaCall, differently than PyJulia, we can't call direclty the julia functions but we need to employ the R function julia_call(\"juliaFunction\",args):","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"> julia_eval(\"using BetaML\")\n> yencoded <- julia_call(\"integerEncoder\",y)\n> ids      <- julia_call(\"shuffle\",1:length(y))\n> Xs       <- X[ids,]\n> ys       <- yencoded[ids]\n> cOut     <- julia_call(\"kmeans\",Xs,3L)    # kmeans expects K to be an integer\n> y_hat    <- sapply(cOut[1],as.integer)[,] # We need a vector, not a matrix\n> acc      <- julia_call(\"accuracy\",y_hat,ys)\n> acc\n[1] 0.8933333","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Access-using-the-eval()-interface...-2","page":"0106 - Further topics","title":"Access using the eval() interface...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"As alternative, we can embed Julia code directly in R using the julia_eval() function:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"> kMeansR  <- julia_eval('\n+      function accFromKmeans(x,k,y_true)\n+        cOut = kmeans(x,Int(k))\n+        acc = accuracy(cOut[1],y_true)\n+        return acc\n+      end\n+ ')","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can then call the above function in R in one of the following three ways:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"kMeansR(Xs,3,ys)\njulia_assign(\"Xs_julia\", Xs); julia_assign(\"ys_julia\", ys); julia_eval(\"accFromKmeans(Xs_julia,3,ys_julia)\")\njulia_call(\"accFromKmeans\",Xs,3,ys).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"While other \"convenience\" functions are provided by the package, using  julia_call or julia_assign followed by julia_eval should suffix to accomplish most of the task we may need in Julia.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Some-performance-tips","page":"0106 - Further topics","title":"Some performance tips","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Type-stability","page":"0106 - Further topics","title":"Type stability","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"\"Type stable\" functions guarantee to the compiler that given a certain method (i.e. with the arguments being of a given type) the object returned by the function is also of a certain fixed type. Type stability is fundamental to allow type inference continue across the function call stack.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function f1(x)    # Type unstable\n    outVector = [1,2.0,\"2\"]\n    if x < 0\n        return outVector[1]\n    elseif x == 0\n        return outVector[2]\n    else\n        return outVector[3]\n    end\nend\n\nfunction f2(x)   # Type stable\n    outVector = [1,convert(Int64,2.0),parse(Int64,\"2\")]\n    if x < 0\n        return outVector[1]\n    elseif x == 0\n        return outVector[2]\n    else\n        return outVector[3]\n    end\nend\n\na = f1(0)\nb = f1(1)\ntypeof(a)\ntypeof(b)\n\nc = f2(0)\nd = f2(1)\ntypeof(c)\ntypeof(d)\n\nusing BenchmarkTools\n@btime f1(0) # 661 ns 6 allocations\n@btime f2(0) #  55 ns 1 allocations\n\n@code_warntype f1(0) # Body::Any\n@code_warntype f2(0) # Body::Int64","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"While in general is NOT important to annotate function parameters for performance, it is important to annotate struct fields with concrete types","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"abstract type Goo end\nstruct Foo <: Goo\n    x::Number\nend\nstruct Boo <: Goo\n    x::Int64\nend\n\nfunction f1(o::Goo)\n    return o.x +2\nend\n\nfobj = Foo(1)\nbobj = Boo(1)\n@btime f1($fobj) # 17.1 ns 0 allocations\n@btime f1($bobj) #  2.8 ns 0 allocations","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Here the same function under some argument types is type stable, under other argument types is not","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"@code_warntype f1(fobj)\n@code_warntype f1(bobj)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Avoid-(non-constant)-global-variables","page":"0106 - Further topics","title":"Avoid (non-constant) global variables","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"g        = 2\nconst cg = 1   # we can't change the _type_ of the object binded to a constant variable\ncg       = 2   # we can rebind to an other object of the same type, but we get a warning\n# cg    = 2.5 # this would error !\nf1(x,y) = x+y\nf2(x)   = x + g\nf3(x)   = x + cg\n\n@btime f1(3,2)\n@btime f2(3)    # 22 times slower !!!\n@btime f3(3)    # as f1","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Loop-arrays-with-the-inner-loop-by-rows","page":"0106 - Further topics","title":"Loop arrays with the inner loop by rows","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Julia is column mayor (differently than Python) so arrays of bits types are contiguous in memory across the different rows of the same column","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"a = rand(1000,1000)\nfunction f1(x)\n    (R,C) = size(x)\n    cum = 0.0\n    for r in 1:R\n        for c in 1:C\n            cum += x[r,c]\n        end\n    end\n    return cum\nend\nfunction f2(x)\n    (R,C) = size(x)\n    cum = 0.0\n    for c in 1:C\n        for r in 1:R\n            cum += x[r,c]\n        end\n    end\n    return cum\nend\n@btime f1($a) # 2.3 ms 0 allocations\n@btime f2($a) # 1.3 ms 0 allocations","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Use-low-level-optimisation-when-possible","page":"0106 - Further topics","title":"Use low-level optimisation when possible","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function f1(x)\n    s = 0.0\n    for i in 1:length(x)\n        s += i * x[i]\n    end\n    return s\nend\n\nfunction f2(x)\n    s = 0.0\n    for i in 1:length(x)\n        @inbounds s += i * x[i] # remove bound checks\n    end\n    return s\nend\n\nfunction f3(x)\n    s = 0.0\n    @simd for i in 1:length(x) # tell compiler it is allowed to run the loop in whatever order, allowing in-thread paralllelism of modern CPUs\n        s += i * x[i]\n    end\n    return s\nend\n\nx = rand(10000)\n@btime f1($x)\n@btime f2($x)\n@btime f3($x)\n\nX = rand(100,20)\nfunction f1(x)\n    s = 0.0\n    for i in 1:size(x,1)\n        s += sum(x[i,:])\n    end\n    return s\nend\nfunction f2(x)\n    s = 0.0\n    @views for i in 1:size(x,1)\n        s += sum(x[i,:])   # the slice operator copy the data.. the views macro force to have instead to have a view (reference)\n    end\n    return s\nend\n\n@btime f1($X)\n@btime f2($X)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"warning: Warning\nAttention that while the @views macro \"save time\" by not copying the data, the resulting array has a pretty messy layout. If you need to use it for many subsequent operations it may be more efficient to \"pay\" the copy cost once and then have an array with a nicelly continuous block of memory..","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function f1(x,y)\n    if x+y > 100\n        return x + y + 2\n    else\n        return x + 1\n    end\nend\n\n@inline function f2(x,y)   # the function is \"inlined\", its whole definition copied at each calling place rather than being called\n    if x+y > 100\n        return x + y + 2\n    else\n        return x + 1\n    end\nend\n\nfunction f3(y)\n    s = 0.0\n    for i in 2:y\n       s += f1(i,i-1)\n       s += f1(i,i)\n    end\n    return s\n end\n\nfunction f4(y)\n    s = 0.0\n    for i in 2:y\n       s += f2(i,i-1)\n       s += f2(i,i)\n    end\n    return s\nend\n\nx = 1000\n@btime f3($x)\n@btime f4($x)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"But attention! Not always a ggood idea:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function f3(y)\n    s = 0.0\n    for i in 2:y\n       s += sum(f1(a,a-1) for a in 2:i)\n    end\n    return s\n end\n\nfunction f4(y)\n    s = 0.0\n    for i in 2:y\n       s += sum(f2(a,a-1) for a in 2:i)\n    end\n    return s\nend\n\nx = 1000\n@btime f3($x)\n@btime f4($x)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Note that the Julia compiles already inline small functions automatically when it thinks it will improve performances","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Profiling-the-code-to-discover-bootlenecks","page":"0106 - Further topics","title":"Profiling the code to discover bootlenecks","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We already see @btime and @benchmark from the package BenchmarkTools.jl Remember to quote the global variables used as parameter of your function with the dollar sign to have accurate benchmarking of the function execution. Julia provide the macro @time but we should run on a second call to a given function (with a certain parameter types) or it will include compilation time in its output:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function fb(x)\n    out = Union{Int64,Float64}[1,2.0,3]\n    push!(out,4)\n    if x > 10\n        if ( x > 100)\n            return [out[1],out[2]] |>  sum\n        else\n            return [out[2],out[3]] |>  sum\n        end\n    else\n        return [out[1],out[3]] |>  sum\n    end\nend\n\n\n@time fb(3)\n@time fb(3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can use @profile function(x,y) to use a sample-based profiling","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"using Profile # in the stdlib\nfunction foo(n)\n    a = rand(n,n)\n    b = a + a\n    c = b * b\n    return c\nend\n@profile (for i = 1:100; foo(1000); end) # too fast otherwise\nProfile.print() # on my pc: 243 rand, 174 the sum, 439 the matrix product\nProfile.clear()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Introspection-and-debugging","page":"0106 - Further topics","title":"Introspection and debugging","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"To discover problems on the code more in general we can use several introspection functions that Julia provide us (some of which we have already saw):","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"# @less rand(3)  # Show the source code of the specific method invoked - use `q` to quit\n# @edit rand(3)  # Like @loss but it opens the source code in an editor\nmethods(foo)\n@which foo(2)          # which method am I using when I call foo with an integer?\ntypeof(a)\neltype(a)\nfieldnames(Foo)\ndump(fobj)\nnames(Main, all=false) # available (e.g. exported) identifiers of a given module\nsizeof(2)              # bytes\ntypemin(Int64)\ntypemax(Int64)\nbitstring(2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Various low-level interpretation of an expression","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"@code_native foo(3)\n@code_llvm foo(3)\n@code_typed foo(3)\n@code_lowered foo(3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"We can use a debugger, like e.g. the one integrated in Juno or VSCode. Graphical debuggers allow to put a breakpoint on some specific line of code, run the code in debug mode (yes, it will be slower), let the program arrive to the breakpoint and inspect the state of the system at that point of the code, including local variables. In Julia we can also change the program interactively ! Other typycal functions are running a single line, running inside a function, running until the current function return, ecc..","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Runtime-exceptions","page":"0106 - Further topics","title":"Runtime exceptions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"As many (all?) languages, Julia when \"finds\" an error issues an exception, that if it is not caugth at higher level in the call stack (i.e. recognised and handled) lead to an error and return to the prompt or termination of the script (and rarely with the Julia process crashing altogether).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The idea is that we try some potentially dangerous code and if some error is raised in this code we catch it and handle it.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function customIndex(vect,idx;toReturn=0)\n    try\n        vect[idx]\n    catch e\n        if isa(e,BoundsError)\n            return toReturn\n        end\n        rethrow(e)\n    end\nend\n\na = [1,2,3]\n# a[4] # Error (\"BoundsError\" to be precise)\ncustomIndex(a,4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Note that handling exceptions is computationally expensive, so do not use exceptions in place of conditional statements","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Parallel-computation-(@id-parallel_computation)","page":"0106 - Further topics","title":"Parallel computation (@id parallel_computation)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Finally one note on parallel computation. We see only some basic usage of multithreading and multiprocesses in this course, but with Julia it is relativelly easy to parallelise the code either using multiple threads or multiple processes. What's the difference ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"multithread\nadvantages: computationally \"cheap\" to create (the memory is shared)\ndisadvantages: limited to the number of cores within a CPU, require attention in not overwriting the same memory or doing it at the intended order (\"data race\"), we can't add threads dynamically (within a script)\nmultiprocesses\nadvantages: unlimited number, can be run in different CPUs of the same machine or differnet nodes of a cluster, even using SSH on different networks, we can add processes from within our code with addprocs(nToAdd)\ndisadvantages: the memory being copied (each process will have its own memory) are computationally expensive (you need to have a gain higher than the cost on setting a new process) and require attention to select which memory a given process will need to \"bring with it\" for its functionality","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Note that if you are reading this document on the github pages, this script is compiled using GitHub actions where a single thread and process are available, so you will not see performance gains.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Multithreading","page":"0106 - Further topics","title":"Multithreading","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"warning: Warning\nIt is not possible to add threads dinamically, either we have to start Julia with the parameter -t (e.g. -t 8 or -t auto) in the command line or use the VSCode Julia externsion setting Julia: Num Threads","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"function inner(x)\n    s = 0.0\n    for i in 1:x\n        for j in 1:i\n            if j%2 == 0\n                s += j\n            else\n                s -= j\n            end\n        end\n    end\n    return s\nend\n\nfunction parentSingleThread(x,y)\n    toTest = x .+ (1:y)\n    out = zeros(length(toTest))\n    for i in 1:length(toTest)\n        out[i] = inner(toTest[i])\n    end\n    return out\nend\nfunction parentThreaded(x,y)\n    toTest = x .+ (1:y)\n    out = zeros(length(toTest))\n    Threads.@threads for i in 1:length(toTest)\n        out[i] = inner(toTest[i])\n    end\n    return out\nend\n\n\nx = 100\ny = 20\n\nstr = parentSingleThread(x,y)\nmtr = parentThreaded(x,y)\n\nstr == mtr # true\nThreads.nthreads() # 4 in my case\nThreads.threadid()\n@btime parentSingleThread(100,20) # 140 Î¼s on my machine\n@btime parentThreaded(100,20)     #  47 Î¼s","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Multiprocessing","page":"0106 - Further topics","title":"Multiprocessing","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"NOTE The code on multiprocessing is commented out (not executed, so you don't see the output) as GitHub actions (that are used to run this code and render the web pages you are reading) have problems running multi-process functions:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"using Distributed     # from the Standard Library\naddprocs(3)           # 2,3,4","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The first process is considered a sort of \"master\" process, the other one are the \"workers\" We can add processes on other machines by providing the SSH connection details directly in the addprocs() call (Julia must be installed on that machines as well) We can alternativly start Julia directly with n worker processes using the armument -p n in the command line.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"println(\"Worker pids: \")\nfor pid in workers()  # return a vector to the pids\n    println(pid)      # 2,3,4\nend\nrmprocs(workers()[1])    #  remove process pid 2\nprintln(\"Worker pids: \")\nfor pid in workers()\n    println(pid) # 3,4 are left\nend\n@everywhere begin using Distributed end # this is needed only in GitHub action\n@everywhere println(myid()) # 4,3","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Run-heavy-tasks-in-parallel","page":"0106 - Further topics","title":"Run heavy tasks in parallel","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"using Distributed, BenchmarkTools\na = rand(1:35,100)\n@everywhere function fib(n)\n    if n == 0 return 0 end\n    if n == 1 return 1 end\n    return fib(n-1) + fib(n-2)\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The macro @everywhere make available the given function (or functions with @everywhere begin [shared function definitions] end or @everywhere include(\"sharedCode.jl\")) to all the current workers.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"# result  = map(fib,a)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"The pmap function (\"parallel\" map) automatically pick up the free processes, assign them the job prom the \"input\" array and merge the results in the returned array. Note that the order is preserved:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"result2 = pmap(fib,a)\nresult == result2\n@btime map(fib,$a)  # serialised:   median time: 514 ms    1 allocations\n@btime pmap(fib,$a) # parallelised: median time: 265 ms 4220 allocations # the memory of `a` need to be copied to all processes","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html#Divide-and-Conquer","page":"0106 - Further topics","title":"Divide and Conquer","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Rather than having a \"heavy operation\" and being interested in the individual results, here we have a \"light\" operation and we want to aggregate the results of the various computations using some aggreagation function. We can then use @distributed (aggregationfunction) for [forConditions] macro:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"using Distributed, BenchmarkTools\nfunction f(n)   # our single-process benchmark\n  s = 0.0\n  for i = 1:n\n    s += i/2\n  end\n    return s\nend\nfunction pf(n)\n  s = @distributed (+) for i = 1:n # aggregate using sum on variable s\n        i/2                        # the last element of the for cycle is used by the aggregator\n  end\n  return s\nend\n@btime  f(10000000) # median time: 11.1 ms   0 allocations\n@btime pf(10000000) # median time:  5.7 ms 145 allocations","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Note that also in this case the improvement is less than proportional with the number of processes we add","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"Details on parallel comutation can be found on the official documentation, including information to run nativelly Julia on GPUs or TPUs.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.md\",\n\"title\" : \"0106_-_Further_topics.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0106_-_Further_topics.html","page":"0106 - Further topics","title":"0106 - Further topics","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>00 INTRO - 1A: Course introduction (16:11)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/2tM5oIvOQnU\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#Course-Presentation","page":"0001 - Course presentation","title":"Course Presentation","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#What-will-you-get-from-this-course","page":"0001 - Course presentation","title":"What will you get from this course","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"This course aims to provide a gentle introduction to Julia, a modern, expressive and efficient programming language, and to introduce the main concepts around machine learning, together with some algorithms and practical implementations of machine learning workflows.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"In particular, by attending this course you will receive : ","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"An operational knowledge of a modern and efficient general-purpose language, with a focus on numerical and scientific computation;\nAn exposure to several specific but commonly used tools in multiple scientific areas (data transformation, optimisation, ...)\nAn overview of modern tools for scientific collaboration and software quality, such as version control systems and best practices to obtain replicable results.\nAn introduction to machine learning approaches: scopes, terminology, typologies, workflow organisation\nAn in-deep introduction to some specific machine learning algorithms for classification and regression (perceptron, neural networks, random forests..)\nExperience is employing Machine Learning workflows to specific cases on multiple domains","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#How-to-attend-the-course","page":"0001 - Course presentation","title":"How to attend the course","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"The course is multi-channel, with these pages complemented with youtube videos (see Program), quizzes and exercises. Thanks to projects such as Literate.jl and Documenter.jl the source of most of these pages are runnable valid Julia files.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"To fully master the subject, nothing is better than cloning the repository on GitHub and running these pages by yourself! To execute yourself the code discussed in the videos, run the code in the lessonsSource folder. Other resources used in the course (in particular the examples of the introduction and the exercises) are located under the lessonsMaterial folder.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"While the content of this course may also be used in specific academic courses with a fixed calendar, you are free to complete the course at your pace. You don't even need to log in. This however means that there is no way to track your progress or the outcomes of the quizzes.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"Note that there will be a bit of incongruence in the terminology used for \"units\". Sometimes I call them \"lessons\", especially at the beginning of the course, then it ended up that the actual content was much bigger than a standard \"lesson\", so I started to use the word \"unit\". Anyhow, the course is organised in units/lessons (e.g. JULIA1). Each unit/lesson has its own Julia environment and it is organised in several segments. These are the individual pages on this site and correspond to a single file in the GitHub repository. Then each segment is divided into multiple videos, which I call parts.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#Course-authors","page":"0001 - Course presentation","title":"Course authors","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":" <p style =\"font-weigth: bold;\"><img src=\"assets/imgs/photo_antonello_lobianco.png\" alt=\"Antonello Lobianco\" width=\"100\" style=\"float: left; margin-right: 15px;\"> \n Antonello Lobianco</p>\n <p> <a href=\"https://orcid.org/0000-0002-1534-8697\">OrcID</a> - <a href=\"https://scholar.google.com/citations?user=8DSfpVUAAAAJ\">Google Schoolar</a> - <a href=\"https://github.com/sylvaticus/\">GitHub</a> - <a href=\"https://lobianco.org/antonello\">Personal site</a>\n </p>\n <p style=\"clear:both;\">","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"I am a Forest and Natural Resources Economist @ AgroParisTech, a French \"Grand Ecole\" (sort of polytechnic university) in the life science domain and affiliated to BETA, the Bureau d'Ã‰conomie ThÃ©orique et AppliquÃ©e, which brings together most of the economists located in the Grand-Est region of France. My main interest is in exploring the interplay between the biophysical layers in the forest sector (climate change, forest dynamics) and the socio-economic ones (individual forest owners' behaviours, timber markets \"behaviours\") in order to better understand the space of actions that society has to maximise social benefits in a sustainable way. For that, I design, develop and use bio-economic simulation models of the forest sector.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"While this course is in English, English is not my native language... please, be understanding !","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"Acknowledgements: The development of this course at the Bureau d'Economie ThÃ©orique et AppliquÃ©e (BETA, Nancy) was supported by the French National Research Agency through the Laboratory of Excellence ARBRE, a part of the â€œInvestissements d'Avenirâ€ program (ANR 11 â€“ LABX-0002-01).","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#How-to-cite-the-course","page":"0001 - Course presentation","title":"How to cite the course","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"Please cite as :","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"Antonello Lobianco (2022), Introduction to Scientific Programming and Machine Learning with Julia (SPMLJ), doi: 10.5281/zenodo.6425030","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"(Image: DOI)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#How-to-contribute-to-the-course","page":"0001 - Course presentation","title":"How to contribute to the course","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"Contributions are really welcome! From simple, minor editing and bug fixes (by making new comments or, better, pull requests) to introducing new arguments along with the course domain.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"The only 3 conditions are :","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"prerequisites for the students are kept at the lowest possible level. If one concept can be fully expressed using a simple, trivial \"2+2\" method, this should be always preferred to using more advanced mathematical concepts;\na practical implementation of the concepts in a working Julia file is proposed to the students and the documentation builds on top of that file (this site is built using Literate.jl that transforms the .jl file to .md, and then Documenter.jl that transforms the .md file to html);\nsome sort of interactive tools are proposed to the students, like the quizzes or practical exercises.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html#While-the-production-of-videos-for-your-content-is-welcome,-this-is-not-strictly-necessary.","page":"0001 - Course presentation","title":"While the production of videos for your content is welcome, this is not strictly necessary.","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.md\",\n\"title\" : \"0001_-_Course_presentation.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0001_-_Course_presentation.html","page":"0001 - Course presentation","title":"0001 - Course presentation","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html#Quiz-1.9:-Custom-types","page":"0105q - QUIZ 1.9","title":"Quiz 1.9: Custom types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html#Q1:-Type-theory","page":"0105q - QUIZ 1.9","title":"Q1: Type theory","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Which of the following sentences are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"\nchoices = [ # hide\n    \"After a Type has been defined, it can no longer be redefined\", # hide\n    \"Unless explicitly declared as mutable, composite types once created can no longer be modified\", # hide\n    \"Unless explicitly declared as mutable, variables assigned to an object of a composite types once assigned can no longer be reassigned to another object\", # hide\n    \"`x = MyType(1,2,3)` performs two operations: first it instantiates an object of type `Mytype` and then it assigns this object to the variable `x`\", # hide\n    \"Primitive types cannot be declared child of an abstract type\", # hide\n    \"Composite types cannot be declared child of an abstract type\", # hide\n    \"Objects can not be instantiated out of an abstract type\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [1,2,4,7]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Please look again the corresponding segment for clarifications.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"After a Type has been defined, it can no longer be redefine\nUnless explicitly declared as mutable, composite types once created can no longer be modified\nx = MyType(1,2,3) performs two operations: first it instantiates an object of type Mytype and then it assigns this object to the variable x\nObjects can not be instantiated out of an abstract type","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html#Q2:-Type-theory-(2)","page":"0105q - QUIZ 1.9","title":"Q2: Type theory (2)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"abstract type Aoo end\nstruct Foo\n    f1::Int64\n    f2::String\n    end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Which of the following commands, taken individually, would rise an error?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"\nchoices = [ # hide\n    \"`o = Foo(1,\\\"aaa\\\")`\", # hide\n    \"`o = Foo(f1=1,f2=\\\"aaa\\\")`\", # hide\n    \"`o = Aoo()`\", # hide\n    \"`Foo(x,y) = Foo(y,x); Foo(\\\"aaa\\\",1)`\", # hide\n    \"`o = Foo(2,\\\"bbb\\\"); println(o.f1)`\", # hide\n    \"`o = Foo(2,\\\"bbb\\\"); o.f1 +=1`\", # hide\n] # hide\nanswers = [2,3,6]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Concerning the commands raising an error: (1) the default constructor takes only positional arguments (in the order the type has been defined); (2) it is not possible to instantiate objects from an abstract type; (3) it is not possible to modify an immutable object","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"o = Foo(f1=1,f2=\"aaa\")\no = Aoo()\no = Foo(2,\"bbb\"); o.f1 +=1","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html#Q3:-\"Types\"-of-types","page":"0105q - QUIZ 1.9","title":"Q3: \"Types\" of types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"struct Foo{T<:Number}\n  f1::T\n  f2::T\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Which properties are correct for Foo?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"\nchoices = [ # hide\n    \"`Foo` is mutable\", # hide\n    \"`Foo` is concrete\", # hide\n    \"`Foo` is composite\", # hide\n    \"`Foo` is parametric\", # hide\n    \"`Foo{Int64`} is a bits type\", # hide\n    \"`Foo{Int64`} is a child of `Foo{Number}`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [2,3,4,5]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Concerning the wrong sentences: (1) Foo is immutable, as it has not explicitly being declared mutable,(2) A parent/child relation in the template parameter type (here Int64 being a child of Number) doesn't extent to an equivalent parent/child relation in the main parametric type. This has important consequences. If you want to define a function foo whose parameter x is a vector of numbers (integers, floats,...) rather than define your function as foo(x::Vector{Number}) use instead foo(x::Vector{T}) where {T<: Number}. Even better, use AbstractVector unless you really need to constrain the parameter to being a Vector.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Foo is concrete\nFoo is composite\nFoo is parametric\nFoo{Int64} is a bits type","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html#Q4:-Constructor-of-a-parameteric-type","page":"0105q - QUIZ 1.9","title":"Q4: Constructor of a parameteric type","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"struct Foo{T<:Number}\n  f1::T\n  f2::T\n  function Foo(x::T,y::T) where {T<:Number}\n    return XXXX(x,y)\n  end\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"To what XXXX should be replaced for the giiven inner constructor to work (don't use spaces)?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"\nstringq(Regex(\"new{T}\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"Inner constructor use the keyword new. In this case, because we are dealing with a parametric type, the correct syntax is new{T}(...arguments...)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"The correct answer is: new{T}","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.md\",\n\"title\" : \"0105q_-_QUIZ_1.9.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105q_-_QUIZ_1.9.html","page":"0105q - QUIZ 1.9","title":"0105q - QUIZ 1.9","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#EXERCISE-1.1:-The-Schelling-Segregation-Model","page":"0105x EXERCISE-1.1","title":"EXERCISE 1.1: The Schelling Segregation Model","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<p>&nbsp;</p>\n<img src=\"imgs/shelling1.png\" alt=\"Shelling model output\" style=\"height:150px;\"> \n<img src=\"imgs/shelling2.png\" alt=\"Shelling model output\" style=\"height:150px;\"> \n<img src=\"imgs/shelling3.png\" alt=\"Shelling model output\" style=\"height:150px;\">  \n<img src=\"imgs/shelling4.png\" alt=\"Shelling model output\" style=\"height:150px;\">\n<p>&nbsp;</p>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"In this exercise you will implement the Shelling Segregation Model, a classical agent-based model in the social sciences, introducing the concepts of emerging macro behaviours and tipping points, leading to its author (Thomas Schelling) receiving the Nobel prize in Economics in 2005.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"It has been one of the very first results obtained from running simulations, especially in the social sciences. The World is modelled as a gridded space inhabited by two groups (in that period racial and segregation questions concerning the cohabitation of \"blacks\" and \"whites\" were topical). Each group has a preference to live in a neighbourhood inhabited by agents of their own type, with a certain \"tolerance\". When the share of agents of its own type in the neighbourhood falls below this \"tolerance\" level, the agent tries to relocate somewhere with a higher share of its own type of agents. The main result of the paper was that even a relatively mild preference for the presence of similar agents would have led to a segregated world and that there was a specific threshold level (between 30% and 40%) that was driving these two completely different outputs, i.e. a \"tipping point\".","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"The simulation algorithm then goes in this way: For each step, look at each agent, check if it is \"happy\" with its current location (looking at the share of own types in the neighbourhood), and, if not, relocate the agent to a position where it would be (setting its past location as empty).","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"There are various ways of \"generality\" vs \"specificity\" to code the algorithm above. On one end you could hard-code the two agent types, e.g. as 1 and 2, on the other you could be very generic and create an abstract type Agent and a concrete class for each agent type.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"The skeleton below proposes an intermediate approach with only one Agent class and the kind of agent encoded as an integer, with 0 representing an empty cell. Fill free to use it or to develop your own algorithm from scratch!","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"Source: Thomas C. Schelling (1971) Dynamic models of segregation, The Journal of Mathematical Sociology, 1:2, 143-186, DOI: 10.1080/0022250X.1971.9989794 ","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"Skills employed:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"design custom types\ndefining and calling functions\nmanipulating arrays\nuse conditional statements and for loops\nplotting","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#Instructions","page":"0105x EXERCISE-1.1","title":"Instructions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/01_JULIA1/shellingSegregationModel. Otherwise download a zip of just that folder here.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"In the folder you will find the file shellingSegreGationModel.jl containing the julia file that you will have to complete to implement and run the model (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#Resolution","page":"0105x EXERCISE-1.1","title":"Resolution","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Setting-the-environment...","page":"0105x EXERCISE-1.1","title":"1) Setting the environment...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing Plots","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Defining-the-Agent-and-Env-classes...","page":"0105x EXERCISE-1.1","title":"2) Defining the Agent and Env classes...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"mutable struct Agent\n    gid::Int64\nend\nmutable struct Env\n    nR::Int64                       # number of rows\n    nC::Int64                       # number of columns\n    similarityThreeshold::Float64   # threeshold for agents to be \"happy\" with their location\n    neighborhood::Int64             # how far looking for \"similar\" agents\n    nSteps::Int64                   # number of iteractive steps to employ\n    cells::Vector{Agent}            # total cells in the environment\n    gids::Vector{Int64}             # ids of the agents types (or \"groups\")\n    grsizes::Vector{Int64}          # number of agents per group\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Defining-some-utility-functions...","page":"0105x EXERCISE-1.1","title":"3) Defining some utility functions...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"xyToId(x,y,nR,nC) =  nR*(x-1)+y\niDToXY(id,nR,nC)  =  Int(floor((id-1)/nR)+1), (id-1)%(nR)+1\nprintableGrid(env) = reshape([a.gid for a in env.cells],env.nR,env.nC)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Defining-the-main-functions-of-the-algorithm...","page":"0105x EXERCISE-1.1","title":"4) Defining the main functions of the algorithm...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"\"\"\"\n   getNeighbours(x,y,env,gid=nothing)\n\nReturn the number of total neighbours if `gid` is `nothing` (skipping the empty cells) or of a specific `gid` if this one is provided.\n\n\"\"\"\nfunction getNeighbours(x,y,env,gid=nothing)\n    board  = reshape(env.cells,env.nR,env.nC)\n    region = board[max(1,y-env.neighborhood):min(nR,y+env.neighborhood),max(1,x-env.neighborhood):min(nC,x+env.neighborhood)]\n    ## [...] Write your code here ","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"    if gid == nothing\n        return sum(getproperty.(region, :gid) .!= 0) # return all agents that are not zero\n    else\n        return sum(getproperty.(region, :gid).== gid)\n    end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"\"\"\"\n   isHappy(x,y,a,env)\n\nReturn whether the specific agent `a` is happy at his current location\n\"\"\"\nfunction isHappy(x,y,a,env)\n   ## [...] Write your code here","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"    totalNeighbours  = getNeighbours(x,y,env)\n    myTypeNeighbours = getNeighbours(x,y,env,a.gid)\n    return myTypeNeighbours/totalNeighbours > env.similarityThreeshold","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"end\n\n\"\"\"\n   reallocatePoints!(env)\n\nLoop over all the cells and if an agent on that location is unhappy, it moves it to a location where it is happy and set the departing cell as empty (i.e. occupied by an agent whose gid is zero).\nIt returns the share of agents that were happy before the move.\n\"\"\"\nfunction reallocatePoints!(env)\n    happyCount = 0\n    for (i,a) in enumerate(env.cells)\n       ## [...] Write your code here","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"        gid = a.gid\n        if gid == 0 continue; end\n        (x,y) = iDToXY(i,env.nR,env.nC)\n        if isHappy(x,y,a,env)\n            happyCount += 1\n        else\n            candIds = shuffle(1:env.nR*env.nC)\n            for cId in candIds\n                if env.cells[cId].gid != 0 continue; end\n                (xc,yc) = iDToXY(cId,env.nR,env.nC)\n                if isHappy(xc,yc,a,env)\n                    env.cells[cId] = Agent(gid)\n                    env.cells[i]   = Agent(0)\n                    break\n                end\n            end\n        end","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"    end\n    return happyCount/sum(env.grsizes)\nend\n\n\"\"\"\n    run!(env)\n\nRun the reallocation algorithm for the given steps printing a heatmap at each iteration.\nAlso, print at the end the chart of the happy agents by epoch\n\"\"\"\nfunction run!(env)\n    outplot = heatmap(printableGrid(env), legend=nothing, title=\"START\", color=mypal,aspect_ratio=env.nR/env.nC, size=(600,600*env.nR/env.nC))\n    nHappyCount = Float64[]\n    display(outplot)\n    for i in 1:env.nSteps\n        println(\"Running iteration $i...\")\n        nHappy = reallocatePoints!(env)\n        push!(nHappyCount,nHappy)\n        outplot = heatmap(printableGrid(env), legend=nothing, title=\"Iteration $i\", color=mypal,aspect_ratio=env.nR/env.nC, size=(600,600*env.nR/env.nC))\n        display(outplot)\n    end\n    happyCountPlot = plot(nHappyCount,title=\"Share of happy agents by iteration\")\n    display(happyCountPlot)\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Setting-the-parameters-of-the-specific-simulation-to-run...","page":"0105x EXERCISE-1.1","title":"5) Setting the parameters of the specific simulation to run...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"# Parameters...\nnR         = 200\nnC         = 200\nnSteps     = 20\nsimilarityThreeshold = 0.4         # Agent is happy if at least 40% similar\nneighborhood = 5                   # Defining how far looking for similar agents\nmypal        = [:white,:red,:blue] # First colour is for the empty cell\ngids         = [1,2]               # Gid 0 is reserved for empty cell\ngrShares     = [0.4,0.4]           # Shares of cells occupied by agents, by type","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Initialising-the-simulation-with-the-given-parameters...","page":"0105x EXERCISE-1.1","title":"6) Initialising the simulation with the given parameters...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"nCells  = nR*nC\nnGroups = length(gids)\ngrsizes = Int.(ceil.(nCells .* grShares))\n\ncells  = fill(Agent(0),nCells)\ncount = 1\nfor g in 1:nGroups\n    [cells[j] = Agent(gids[g]) for j in count:count+grsizes[g]-1]\n    count += grsizes[g]\nend \n\nshuffle!(cells)\nenv = Env(nR,nC,similarityThreeshold,neighborhood,nSteps,cells,gids,grsizes)\nheatmap(printableGrid(env), legend=nothing, title=\"Iteration 0\", color=mypal,aspect_ratio=env.nR/env.nC, size=(600,600*env.nR/env.nC))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Running-the-model...","page":"0105x EXERCISE-1.1","title":"7) Running the model...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"run!(env)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html#)-Optional-variations...","page":"0105x EXERCISE-1.1","title":"8) Optional variations...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"You can try to implement variations of this model. Some ideas:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"implement multiple agent groups;\nrun Monte-Carlo simulations with respect to the tolerance threshold, with it being a property of the agent rather than of the group, perhaps with the group having a certain distribution of it and each agent of that group sampling from it;\nimplement two thresholds, with one to define happiness and one to define the actual decision to move (to consider costs associated with relocation);\n....","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.md\",\n\"title\" : \"0105x_EXERCISE-1.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0105x_EXERCISE-1.1.html","page":"0105x EXERCISE-1.1","title":"0105x EXERCISE-1.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Quiz-01.1-on-Modules,-packages-and-environments","page":"0004q - QUIZ 0.1","title":"Quiz 01.1 on Modules, packages and environments","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \nPkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Q1:-What-is-printed-?","page":"0004q - QUIZ 0.1","title":"Q1: What is printed ?","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Given a file foo.jl with the following code:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"println(\"A - I am in foo.jl\")\n\nmodule Foo\n\nprintln(\"B - I am in module Foo in foo.jl\")\nexport x\n\nconst x=1\nconst y=2\nz() = println(\"C - I am in a function of module Foo\")\nend\n\nmodule Foo2\n\nprintln(\"D - I am in module Foo2 in foo.jl\")\nexport a\n\nconst a=1\nconst b=2\nc() = println(\"E - I am in a function of module Foo2\")\nend","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Which print statements will appear after running the command include(\"foo.jl\") ?","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\nchoices = [ # hide\n  \"All statements from `A` to `E`\", # hide\n  \"No statements will be printed (e.g. due to an error)\", # hide\n  \"Statement `A` only\", # hide\n  \"Statements `A`, `B` and `D` only\", # hide\n  \"Statements `A`, `C` and `E` only\", # hide\n  \"Statements `B` and `D` only\", # hide\n  ]  # hide\nanswers = [4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Including the file would result in evaluating the code in the file and hence in the statements A, B and D to be printed. Statements C and E are within function definition and would occur only when functions z or c would have been called.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The correct answer is:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\"Statements A, B and D only\"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"</details>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Q2:-Inclusion-of-a-module","page":"0004q - QUIZ 0.1","title":"Q2: Inclusion of a module","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Given a file foo.jl with the following code:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"module Foo\n\nexport x\n\nconst x=1\nconst y=2\nz() = println(\"Hello world!\")\nend","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"and the following sequence of commands:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"include(\"foo.jl\")         # Command 1\nx                         # Command 2\nFoo.x                     # Command 3\nusing Foo                 # Command 4\nusing .Foo                # Command 5\nx                         # Command 6\nFoo.z()                   # Command 7","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Which statements are correct ?","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\nchoices = [ # hide\n  \"Command 1 is wrong at it should have been `include foo` (without the .jl file extension)\", # hide\n  \"Command 2 returns the value `1`\", # hide\n  \"Command 3 returns the value `1`\", # hide\n  \"Command 4 returns an `ArgumentError: Package Foo not found in current path:`\", # hide\n  \"Command 5 returns an `ArgumentError: Package Foo not found in current path:`\", # hide\n  \"Command 6 returns the value  `1`\", # hide\n  \"Command 7 returns an `UndefVarError: z not defined`\", # hide\n  ]  # hide\nanswers = [3,4,6]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The include(\"foo.jl\") statement evaluates the included content, but it doesn't yet bring it into scope. You can't yet refer directly to the objects of the Foo module, you need to use the qualified name as in command 3. Foo is a module, not a package, so command 4 will complain that it doesn't find the \"package\" Foo. After the module has been bring to scope we can refer to x directly as in command 6. Command 7, as we are using the qualified name, is indipenden than whether z was exported by Foo or not, and hence it works, and would have been worked even without the using .Foo of command 5.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The correct answers are:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\"Command 3 returns the value 1\"\n\"Command 4 returns an ArgumentError: Package Foo not found in current path:\"\n\"Command 6 returns the value  1\"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"</details>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Q3:-Submodules","page":"0004q - QUIZ 0.1","title":"Q3: Submodules","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Given a file Foo.jl with the following code:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"module Foo\nexport x, plusOne\nx = 1\nplusOne(x) = x + 1\nmodule Foo2\n  export plusTwo\n  plusTwo(x) = plusOne(x)+1\nend\nend","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"After including the file we try to run the command Foo.Foo2.plusTwo(10). Which of the following statements is correct ?","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\nchoices = [ # hide\n  \"The result is 12\", # hide\n  \"The result is 3\", # hide\n  \"The result is an error that we can avoid if we run instead the command `Main.Foo.Foo2.plusTwo(10)`\", # hide\n  \"The result is an error that we can avoid if we type `using Foo` before that command\", # hide\n  \"The result is an error that we can avoid if we type `using .Foo` before that command\", # hide\n  \"The result is an error that we can avoid if the function `plusTwo` in module `Foo2` is defined as `plusTwo(x) = Foo.plusOne(x)+1`\", # hide\n  \"The result is an error that we can avoid if the function `plusTwo` in module `Foo2` is defined as `plusTwo(x) = Main.Foo.plusOne(x)+1`\", # hide\n  \"The result is an error that we can avoid if in module `Foo2` the function `plusTwo` is preceded by the statement `using Foo`\", # hide\n  \"The result is an error that we can avoid if in module `Foo2` the function `plusTwo` is preceded by the statement `using .Foo`\", # hide\n  \" The result is an error that we can avoid if in module `Foo2` the function `plusTwo` is preceded by the statement `using ..Foo`\", # hide\n  ]  # hide\nanswers = [7,10]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The given command results in a UndefVarError: plusOne not defined. Indeed even if Foo2 is a submodule of Foo, it doesn't inherit the scope of parent modules. So its code can't find the 'plusOne' function.  When in the REPL we run the command we are in the Main module. Adding using .Foo doesn't change anything, as the problem is in the scope of the Foo2 module, not in those of the REPL (Main - and , of course, typing using Foo looks-up for the package Foo, not the module Foo, and would end in a Package Foo not found error. So what can we do? One solution is using in the plusTwo function the full path of the plusOne function:  plusTwo(x) = Main.Foo.plusOne(x)+1. While this works, it may be a less portable solution, as it then requires module Foo to be a child of Main. Perhaps a better solution is to use a relative path and use the statement using ..Foo in module Foo2 before the definition of plusTwo (trying to use a relative path directly in the function definition as in plusTwo(x) = ..Foo.plusOne(x)+1 would result in a parsing error)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The correct answers are:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The result is an error that we can avoid if the function plusTwo in module Foo2 is defined as plusTwo(x) = Main.Foo.plusOne(x)+1\nThe result is an error that we can avoid if in module Foo2 the function plusTwo is preceded by the statement using ..Foo","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"</details>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Q4:-Submodules2","page":"0004q - QUIZ 0.1","title":"Q4: Submodules2","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Given a module Foo with the following code:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"module Foo\nexport x\nx = 1\nmodule Foo2\n  export plusTwo\n  plusTwo(x) = x+2\nend\nmodule Foo3\n  export plusThree\n  [XXXX]\n  plusThree(x) = plusTwo(x)+1\n  end                  \nend","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Which of the following statements are correct ?","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\nchoices = [ # hide\n  \"`[XXXX]` should be `using Main.Foo.Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `using Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `using .Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `using ..Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `import Main.Foo.Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `import Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `import .Foo2` for the function `plusThree` to work\", # hide\n  \"`[XXXX]` should be `import ..Foo2` for the function `plusThree` to work\", # hide\n  ]  # hide\nanswers = [1,4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The function plusTwo needs to access a function on a sibling module. So the module Foo2 must be retrieved by going up to one level with the two dots and then naming the module, i.e. using ..Foo2 or using the full module path using Main.Foo.Foo2. import statemens alone will not work as the plusThree function call the plusTwo function using the unqualified name, without prefixing the module, so the plusThree function name need to be exported.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The correct answers are:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\"[XXXX] should be using Main.Foo.Foo2 for the function plusThree to work\"\n\"[XXXX] should be using ..Foo2 for the function plusThree to work\"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"</details>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html#Q5:-Reproducibility","page":"0004q - QUIZ 0.1","title":"Q5: Reproducibility","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"Which elements do you have to provide to others to guarantee reproducibility of your results obtained with a Julia project?","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\nchoices = [ # hide\n  \"The input data of your analysis\", # hide\n  \"The full source code of the scripts you have used\", # hide\n  \"The content of the Julia user folder on the machine your code ran to produce the results (e.g. `/home/[username]/.julia` in Linux)\", # hide\n  \"The file `Manifest.toml` of the environment where your code ran to produce the results\", # hide\n  \"The file `Project.toml` of the environment where your code ran to produce the results\", # hide\n  ]  # hide\nanswers = [1,2,4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"To provide replicable results, assuming a deterministic algorithm or one where the random seed generator has been fixed, we need to provide the input data, the source code and the 'Manifest.toml' file that describe the exact version of all packages. The Project.toml file instead, when present, is used to describe in which conditions our scripts could be used (i.e. the list and eventually range of dependent packages), but not a unique environment state. The information of the Manifest.toml (and, for Julia versions before 1.7, the Julia version itself, as this info was not encoded in the Manifest.toml file) is enougth, we don't need to provide the whole content of the user Julia folder.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"The correct answers are:","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"\"The input data of your analysis\"\n\"The full source code of the scripts you have used\"\n\"The file Manifest.toml of the environment where your code ran to produce the results\"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"</details>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.md\",\n\"title\" : \"0004q_-_QUIZ_0.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004q_-_QUIZ_0.1.html","page":"0004q - QUIZ 0.1","title":"0004q - QUIZ 0.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#EXERCISE-2.2:-The-profit-maximisation-problem","page":"0202x EXERCISE-2.2","title":"EXERCISE 2.2: The profit maximisation problem","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<p>&nbsp;</p>\n<img src=\"imgs/optimisationProblem.png\" alt=\"The optimisation problem\" style=\"height:230px;\"> \n<!-- <img src=\"imgs/harvestingDecisions.jpg\" alt=\"The harvesting decision problem\" style=\"height:220px;\">  -->\n<img src=\"imgs/numericalProblem.png\" alt=\"Numerical problem\" style=\"height:230px;\">  \n<img src=\"imgs/numericalResolution.png\" alt=\"Numerical resolution\" style=\"height:230px;\">\n<p>&nbsp;</p>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"You are the decision-maker of a production unit (here a logging company) and have a set of possible activities to undergo. How do you choose the activities that lead to a maximisation of the unit's profit? ","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"The objective of this problem is hence to find the optimal level of activities to maximise the company profit, given (a) the profitability (gross margin) of each activity, (b) the resources available to the company and (c) the matrix of technical coefficients that link each activity to the resources required (positive coefficient) or provided (negative coefficient) by that specific activity.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"The problem is the same as those in the SpreadSheet file \"Optimal production mix.ods\" (available in the data folder) and can be solved in LibreOffice by using the \"Solver tool\" as indicated in that file. You can use it to check your results.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Skills employed:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"download and import data from internet\ndefine, solve and retriever optimal values of an optimisation problem using the JuMP algebraic modelling language","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#Instructions","page":"0202x EXERCISE-2.2","title":"Instructions","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/02_JULIA2/loggingOptimisation. Otherwise download a zip of just that folder here.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"In the folder you will find the file loggingOptimisation.jl containing the julia file that you will have to complete to implement and run the model (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#Resolution","page":"0202x EXERCISE-2.2","title":"Resolution","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Set-up-the-environment...","page":"0202x EXERCISE-2.2","title":"1) Set up the environment...","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages JuMP, GLPK, DataFrames, CSV, Pipe, HTTP.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Load-the-packages","page":"0202x EXERCISE-2.2","title":"2) Load the packages","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Load the packages DelimitedFiles, JuMP, GLPK, DataFrames, CSV, Pipe, HTTP","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"using DelimitedFiles, JuMP, GLPK, DataFrames, CSV, Pipe, HTTP","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Load-the-data","page":"0202x EXERCISE-2.2","title":"3) Load the data","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Load from internet or from local files the following data:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"urlActivities   = \"https://raw.githubusercontent.com/sylvaticus/IntroSPMLJuliaCourse/main/lessonsMaterial/02_JULIA2/loggingOptimisation/data/activities.csv\"\nurlResources    = \"https://raw.githubusercontent.com/sylvaticus/IntroSPMLJuliaCourse/main/lessonsMaterial/02_JULIA2/loggingOptimisation/data/resources.csv\"\nurlCoefficients = \"https://raw.githubusercontent.com/sylvaticus/IntroSPMLJuliaCourse/main/lessonsMaterial/02_JULIA2/loggingOptimisation/data/coefficients.csv\"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"The result must be:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"activities, a dataframe with the columns label, gm and integer\nresources, a dataframe with the columns label, initial and initial2\ncoeff, a 10x12 Matrix of Float64","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"For example to download from internet and import the matrix you can use something like:","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"coef  = @pipe HTTP.get(urlCoefficients).body |> readdlm(_,';')","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"activities = @pipe HTTP.get(urlActivities).body   |> CSV.File(_) |> DataFrame\nresources  = @pipe HTTP.get(urlResources).body    |> CSV.File(_) |> DataFrame\ncoef       = @pipe HTTP.get(urlCoefficients).body |> readdlm(_,';')","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Find-the-problem-size","page":"0202x EXERCISE-2.2","title":"4) Find the problem size","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Determine nA and nR as the number of activities and the number of resources (use the size function)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"(nA, nR) = (size(activities,1), size(resources,1)) ","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Define-the-solver-engine","page":"0202x EXERCISE-2.2","title":"5) Define the solver engine","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Define profitModel as a model to be optimised using the GLPK.Optimizer","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"profitModel = Model(GLPK.Optimizer)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Set-solver-engine-specific-options","page":"0202x EXERCISE-2.2","title":"6) Set solver engine specific options","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"[OPTIONAL] set GLPK.GLP_MSG_ALL as the msg_lev of GLPK","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"set_optimizer_attribute(profitModel, \"msg_lev\", GLPK.GLP_MSG_ALL)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Define-the-model's-endogenous-variables","page":"0202x EXERCISE-2.2","title":"7) Define the model's endogenous variables","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Define the non-negative model x variable, indexed by the positions between 1 and nA (i.e. x[1:nA] >= 0) (you could use the @variables macro). Don't set the x variable to be integer at this step, as some variables are continuous, just set them to be non-negative.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"@variables profitModel begin\n    x[1:nA] >= 0\nend\n","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Define-the-integer-constraints","page":"0202x EXERCISE-2.2","title":"8) Define the integer constraints","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Set the variables for which the corresponding integer column in the activity dataframe is equal to 1 as a integer variable. To set the specific vaciable x[a] as integer use  set_integer(x[a])","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"for a in 1:nA\n    if activities.integer[a] == 1\n        set_integer(x[a])\n    end\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Define-the-other-model-constraints","page":"0202x EXERCISE-2.2","title":"9) Define the other model constraints","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Define the resLimit[r in 1:nR] family of contraints, such that when you sum coef[r,a]*x[a] for all the 1:nA activities you must have a value not greater than resources.initial[r]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"@constraints profitModel begin\n    resLimit[r in 1:nR], # observe resources limits\n        sum(coef[r,a]*x[a] for a in 1:nA) <= resources.initial[r]\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Define-the-model's-objective","page":"0202x EXERCISE-2.2","title":"10) Define the model's objective","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Define the objective as the maximisation of the profit given by summing for each of the 1:nA activities activities.gm[a] * x[a]","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"@objective profitModel Max begin\n    sum(activities.gm[a] * x[a] for a in 1:nA)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-[OPTIONAL]-Print-the-model","page":"0202x EXERCISE-2.2","title":"11) [OPTIONAL] Print the model","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Print a human-readable version of the model in order to check it","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"print(profitModel)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Optimize-the-model","page":"0202x EXERCISE-2.2","title":"12) Optimize the model","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"optimize!(profitModel)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Check-the-model-resolution-status","page":"0202x EXERCISE-2.2","title":"13) Check the model resolution status","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Check with the function status = termination_status(profitModel) that the status is OPTIMAL (it should be!)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"status = termination_status(profitModel)","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-Print-the-optimal-levels-of-activities","page":"0202x EXERCISE-2.2","title":"14) Print the optimal levels of activities","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Run the following code to print the results (optimal level of activities):","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"if (status == MOI.OPTIMAL || status == MOI.LOCALLY_SOLVED || status == MOI.TIME_LIMIT) && has_values(profitModel)\n    println(\"#################################################################\")\n    if (status == MOI.OPTIMAL)\n        println(\"** Problem solved correctly **\")\n    else\n        println(\"** Problem returned a (possibly suboptimal) solution **\")\n    end\n    println(\"- Objective value (total costs): \", objective_value(profitModel))\n    println(\"- Optimal Activities:\\n\")\n    optValues = value.(x)\n    for a in 1:nA\n      println(\"* $(activities.label[a]):\\t $(optValues[a])\")\n    end\n    if JuMP.has_duals(profitModel)\n        println(\"\\n\\n- Shadow prices of the resources:\\n\")\n        for r in 1:nR\n            println(\"* $(resources.label[r]):\\t $(dual(resLimit[r]))\")\n        end\n    end\nelse\n    println(\"The model was not solved correctly.\")\n    println(status)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html#)-[OPTIONAL]-Observe-the-emergence-of-scale-effects","page":"0202x EXERCISE-2.2","title":"15) [OPTIONAL] Observe the emergence of scale effects","text":"","category":"section"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Optionally update the model constraints by using initial2 initial resources (instead of initial) and notice how this larger company can afford to perform different types of activities (logging high forest instead of coppices in this example) and obtain a better profitability per unit of resource employed.","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"Can you guess which are the aspects of the optimisation model that allow for the emergence of these scale effects?","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"set_normalized_rhs.(resLimit, resources.initial2)\nnormalized_rhs.(resLimit) # to check the new constraints\noptimize!(profitModel)\nstatus = termination_status(profitModel)\nif (status == MOI.OPTIMAL || status == MOI.LOCALLY_SOLVED || status == MOI.TIME_LIMIT) && has_values(profitModel)\n    println(\"#################################################################\")\n    if (status == MOI.OPTIMAL)\n        println(\"** Problem solved correctly **\")\n    else\n        println(\"** Problem returned a (possibly suboptimal) solution **\")\n    end\n    println(\"- Objective value (total costs): \", objective_value(profitModel))\n    println(\"- Optimal Activities:\\n\")\n    optValues = value.(x)\n    for a in 1:nA\n      println(\"* $(activities.label[a]):\\t $(optValues[a])\")\n    end\n    if JuMP.has_duals(profitModel)\n        println(\"\\n\\n- Shadow prices of the resources:\\n\")\n        for r in 1:nR\n            println(\"* $(resources.label[r]):\\t $(dual(resLimit[r]))\")\n        end\n    end\nelse\n    println(\"The model was not solved correctly.\")\n    println(status)\nend","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"</details>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.md\",\n\"title\" : \"0202x_EXERCISE-2.2.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"02_-_JULIA2_-_Scientific_programming_with_Julia/0202x_EXERCISE-2.2.html","page":"0202x EXERCISE-2.2","title":"0202x EXERCISE-2.2","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>00 INTRO - 4A: ML Terminology (21:19)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/l9ls2yssKiE\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 4B: A first ML Example (7:0)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/SclPPNvYEAI\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 4C: ML application areas (14:24)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/bIApDXIhm1k\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>00 INTRO - 4D: Further ML Examples (6:34)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/9Kni5XkQV5M\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"TODO. Please refer to the videos above or to the slides","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html#An-introduction-to-Machine-Learning","page":"0004 - Introduction to ML","title":"An introduction to Machine Learning","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.md\",\n\"title\" : \"0004_-_Introduction_to_ML.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0004_-_Introduction_to_ML.html","page":"0004 - Introduction to ML","title":"0004 - Introduction to ML","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>01 JULIA1  - 3A: Primitive types, char and strings (9:37)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/kEb50RK1sK0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 3B: One dimensional arrays (30:42)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/4nR1rI8_hug\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 3C: Multidimensional arrays (23:37)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/WJcikzhIr7Y\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 3D: Tuples and named tuples (7:50)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/79kRlC5dbAo\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 3E: Dictionaries and sets (8:57)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/KwY_dfvzByk\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>01 JULIA1  - 3F: Date and times (19:11)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/y4Ty2Wx_lC4\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"EditURL = \"https://github.com/sylvaticus/SPMLJ/blob/main/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.jl\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"################################################################################\n###  Introduction to Scientific Programming and Machine Learning with Julia  ###\n###                                                                          ###\n### Run each script on a new clean Julia session                             ###\n### GitHub: https://github.com/sylvaticus/IntroSPMLJuliaCourse               ###\n### Licence (apply to all material of the course: scripts, videos, quizes,..)###\n### Creative Commons By Attribution (CC BY 4.0), Antonello Lobianco          ###\n################################################################################","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Predefined-types","page":"0103 - Predefined types","title":"0103 Predefined types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Some-stuff-to-set-up-the-environment..","page":"0103 - Predefined types","title":"Some stuff to set-up the environment..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"cd(@__DIR__)\nusing Pkg\nPkg.activate(\".\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost) Pkg.resolve() Pkg.instantiate() # run this if you didn't in Segment 01.01","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"using Random\nRandom.seed!(123)\nusing InteractiveUtils # loaded automatically when working... interactively","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Primitive-types","page":"0103 - Predefined types","title":"Primitive types","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Primitive types have a fixed number of bits associated to them. Examples of them are Int64, Float64, Char, UInt64, UFloat64, Int32, Float32,... Even primitive types can be custom defined. See the \"custom types\" segment !","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Char-and-Strings-Char,-String","page":"0103 - Predefined types","title":"Char and Strings - Char, String","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = \"Hello World \"\nb = a[2]\ntypeof(b)\nb = a[3:end]\ntypeof(b)\n#a[2] = 'E' # error !\n\n# info...\nismutable(a) # long story.... https://github.com/JuliaLang/julia/issues/30210\nlength(a)\nfindfirst(isequal('o'), a)\nfindnext(isequal('o'), a, 6)\noccursin(\"world\",a)\noccursin(lowercase(\"world\"),lowercase(a))\nusing Unicode\noccursin(Unicode.normalize(\"world\", casefold=true),Unicode.normalize(a, casefold=true))\nendswith(a,\"ld \")\nstartswith(a,\"Mooo\")\noccursin(r\"H*.d \", a)\n\n# modifications..\nlowercase(a)\nlowercasefirst(a)\nsplit(a, \" \")\nreplace(a,\"World\" => \"Universe\")\nstrip(a)\n\n# concatenation..\na = \"Hello\"; b= \"World\"\nc = join([a,b],\" \")\nc = a*\" \"*b\nc = string(a,\" \",b)\nc = \"$a $b\"              # interpolation\n\n# Conversion..\na = parse(Int64,\"2012\")\nb = string(2019)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nAttention not to confuse the string function with the String type and the String() constructor!","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"# to know more...\nmethodswith(String,supertypes=true); # where any argument is a String or any parent type (such e.g. AbstractString)\n# See also https://docs.julialang.org/en/v1/manual/strings/","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Arrays-Array{T,N}","page":"0103 - Predefined types","title":"Arrays - Array{T,N}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Array{T,NDims} A parameteric type where the type of the content and the number of dimensions define the specific type","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"tip: Tip\nVector{T} is an alias for Array{T,1} and Matrix{T} is an alias for Array{T,2}, but there isn't anything \"special\" for 1 or 2 dimensions compared to more dimensions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Vectors-Array{T,1}","page":"0103 - Predefined types","title":"Vectors - Array{T,1}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"One-dimensions arrays in julia are treated as column vector, and, depending on the inner type, they can be stored efficiently contiguously in memory. However they are NOT the same of a single column of a two dimensions array. A row vector is necessarily instead a single row of a 2 dimensions array.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [1,2,3]\nb = [1 ; 2 ; 3 ;;] # This syntax requires Julia >= 1.7\na == b","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Initialisation","page":"0103 - Predefined types","title":"Initialisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [1,2,3]; #= or =# a = [1;2;3]\na = [1; 6:-2:2; 10] # notes: (a) the semicolon, (b) the range includes BOTH the extremes\na = [[1,2],[3,4]]   # nested vectors. Each elements can have a different lenght, but rules of linear algebra doesn't apply","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"danger: Danger\nDon't confuse nested vectors with multi-dimensional arrays!","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Empty (zero-elements) arrays:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = []\na = Int64[]\na = [1,2,3]\nb = [1,\"pizza\",\"beer\"]\na = Array{Int64,1}()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nWatch out for the difference between a = Array{Int64,1}() and a = Array{Int64,1}","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = Vector{Int64}()","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"n-elements initialisation:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"n = 3\nT = Int64\nzeros(n)            # zeros (Float64)\nzeros(T,n)          # zeros (casted as type T)\nones(n)             # ones  (Float64)\nones(T,n)           # ones  (casted of type T)\nArray{T,1}(undef,n) # garbage\nfill(2,3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Accessing-Vectors","page":"0103 - Predefined types","title":"Accessing Vectors","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [101:200;]\na[1]\na[end]\na[[1; 6:-2:2; 10]] # indicised by a vector of positions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Collecting-iterators-into-vectors","page":"0103 - Predefined types","title":"Collecting iterators into vectors","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"aRange = 3:2:7\na = collect(aRange)\ntypeof(aRange)\ntypeof(aRange) <: AbstractArray # Everywhere an AbstractArray is expected, you can provide a range instead","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Common-operations-with-vectors","page":"0103 - Predefined types","title":"Common operations with vectors","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [1,2,3]\nreverse(a), a[end:-1:1] # Other way to revert an array\nvcat([1,2,3],[4,5],6)\n\npush!(a,4)  # add as individual elements\nappend!(a,5) # add as many new elements","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"tip: Functions with exclamation marks\nBy convention functions that modify one of their parameters (and usually this is the first one) are named with an exclamation mark at the end. Remember (most) unicode characters are valid in functions or variable names.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"push!([[1,2],[3,4,5]],[6,7])\nappend!([1,2,3,4,5],[6,7])\n\npop!(a)\na\npopfirst!(a)\ndeleteat!(a,2)\npushfirst!([2,3],1)\na = [2,1,3,1]\nsort(a)   # also `sort!(a)``\nunique(a) # also `unique!(a)`\nin(1,a)   # also available as operator: `if 2 in a [...] end`\nlength(a) # number of elements contained in all the dimensions\nsize(a),size(a,1) # number of elements by dimension\nminimum(a)\nmin(a...)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"tip: ...\n\"...\" is called the splat operator and it is used to convert the elements in a vector into a tuple of separate elements in a function call, like the example above","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"min(4,7,3)\nminimum([4,7,9])\nargmin([4,2,5,2])\nsum([1,2,3])\ncumsum([1,2,3])\nempty!(a) # only for Vectors\nusing Random\nshuffle([1,2,3]) # also shuffle!([1,2,3])\nisempty(a)\nfindall(x -> x == 1, [2,1,3,1]) # anonymous function returning an array of bools, findall then return the indexes\nfindfirst(x -> x == 1, [2,1,3,1])\nmyComparitionWith1(i) = i==1\nfindall(x -> myComparitionWith1(x), [2,1,3,1])\nfilter(i -> i > 2, [1,2,3,4])\n\n\n# delete [7,2,5] from an 1:10 array:\ndata     = [1:10;]\ntoDelete = [7,5,2]\ndeleteat!(data, findall(x -> x in toDelete, data))\n\nfor (i,value) in enumerate([10,20,30]) # iterator that returns an index/element tuple\n    println(\"$i - $value\")\nend\n\nnames = [\"Marc\", \"Anne\"]\nsex   = ['M','F']\nage   = [25,20]\n\nfor zippedElements in zip(names,sex,age) # iterator that returns tuples made with one element per argument of zip\n    println(zippedElements)\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Multidimensional-arrays-Array{T,N}","page":"0103 - Predefined types","title":"Multidimensional arrays - Array{T,N}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Initialisation-2","page":"0103 - Predefined types","title":"Initialisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [[1,2,3] [4,5,6]] # By column, i.e. elements of the first column, elements of the second column, ...\na = [1 4; 2 5; 3 6]   # By row, i.e. elements of the first row, elements of the second row, ...\n\n# Empty (zero-elements) arrays:\na = Array{Float64}(undef, 0, 0, 0) # using explicitly the constructor and explicitly giving zero for each wanted dimension\n# n-elements initialisation:\n(T,n,m,g,j) = (Int64,1,2,3,'a')\na = zeros(n,m,g)            # n,m,g-elements zeros array\na = ones(n,m,g)             # n,m,g-elements ones array\na = Array{T,3}(undef,n,m,g) # n,m,g-elements array whose content is garbage\na = fill(j,n,m,g)           # n,m,g-elements array of identical j elements\na = rand(n,m,g)             # n,m,g-elements array of of random numbers\na = [3x + 2y + z for x in 1:2, y in 2:3, z in 1:2] # from using list comprehension","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Accessing-n-dimensional-arrays","page":"0103 - Predefined types","title":"Accessing n-dimensional arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Access by indicating position","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [1 2 3 4; 5 6 7 8; 9 10 11 12]\na[2,1]   # comma to separate the dimensions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nDon't confuse a[i,j] for selecting an element of a Matrix with a[i][j] to select the inner component of a nested array","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a[1,2:3]   # with a range on the second dimension\na[[1,3],1] # with a vector of positions in the first dimension\na[2,:]     # with a full range (all values) in the second dimension, i.e. all columns value for row 2","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nNote that when the data as only one element on a given dimension, julia reduces the dimensions automatically: the result of a[2,:] is NOT a row vector (that is a one-row matrix) but a one dimensional array","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Access by a mask (boolean selection)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"b = [true false true false; true true true false; true false true false]\na[b] # always flatted array returned (need eventually reshaping, see later)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Funcionality-related-to-dimensions","page":"0103 - Predefined types","title":"Funcionality related to dimensions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"size(a)              # returns a tuple (i.e. an immutable list) with the sizes of the n dimensions\nndims(a)             # return the number of dimensions of the array (e.g. `2` for a matrix)\nreshape(a, 2,3,2)\n2*3*2 == length(a)\nb = rand(2,1,3)\ndropdims(b,dims=(2)) # remove the specified dimensions, provided that the specified dimension have only a single element\npermutedims(a)  # \"swap\" the dimensions\nreshape(a,4,3)  # keep the column mayor order\nfor slice in eachslice(a,dims=1)\n    println(slice)\nend\na = reshape(1:24, 3,4,2)\nfor slice in eachslice(a,dims=1)\n    println(slice)\nend\na = [1 2;3 4; 5 6]\nselectdim(a,1,3) # Select an hyperplane on dimension 1 (rows) at position 3. Returns a view","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Flat-to-vector..","page":"0103 - Predefined types","title":"Flat to vector..","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [1 2; 3 4]\nvec(a)        # shadow copy (different view of the underlying data)\nreshape(a,4)  # shadow copy\na[:]          # allocate, as all slice operations do","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Other-functionality-related-to-Arrays","page":"0103 - Predefined types","title":"Other functionality related to Arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"vcat([1 2; 3 4], [5 6; 7 8]) # works also for DataFrames\nhcat([1,2,3],[4,5,6])        # works also for DataFrames\na = [1 2; 3 4]\nb = similar(a) # garbage inside\ncat(a,a,a,dims=3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Sort by column (field)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"a = [[3,2,1] [20,30,20] [1000,3000,2000] [300,100,200]]\nidx = sortperm(a[:,3], rev=true) # return the positions that sort the 3rd column\nsortedMatrix = a[idx,:] # selected by using the sorted positions array on the row dimension\nsortslices(a, dims=2)   # by cols, using the first row to sort\nsortslices(a, dims=1)   # by rows, using the first column to sort\nsortslices(a, dims=1, by = x -> (x[2],x[4])) # by rows, using second and fourth columns","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Basic-linear-algebra","page":"0103 - Predefined types","title":"Basic linear algebra","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"using LinearAlgebra\na = [-1,2,3]\nb = [4,5,6]\ntranspose(a)\na'\nnorm(a)   # l-2 by default\nnorm(a,1)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Vector products:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"dot(a,b)    # dot, aka \"inner\" product\na' * b  == dot(a,b)\ncross(a,b)  # cross product\na .* b      # element-wise product\na * b'\n\nA = [1 2 3; 6 4 5; 7 8 9]\n\nA^(-1) # inverse\nA^2\ndet(A) # determinant\ntranspose(A)\nA'","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nBe aware that transpose works only for numerical types. When the matrix contains other types (e.g. strings), use permutedims","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"diag(A)\nI # operator that automatically scale to the context without actually building the matrix\nA*I\nB = [1 2; 3 4]; B*I\n(evalues, evectors) = eigen(A)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Tuples-Tuple{T1,T2,...}","page":"0103 - Predefined types","title":"Tuples - Tuple{T1,T2,...}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"A \"collection\" similar to Array but:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Immutable\nCan efficiently host heterogeneous types, as type information is stored for each individual element\nLinear algebra doesn't apply (use StaticArray.jl package for that)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Can be tought as anonymous (immutable) structures Used to unpack multiple values, e.g. to store on inddividual variables the output of functions with multiple return value","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Initialisation-3","page":"0103 - Predefined types","title":"Initialisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"t = (1,2.5,\"a\",3)\nt = 1,2.5,\"a\",3\ntypeof(t)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Indexing","page":"0103 - Predefined types","title":"Indexing","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"t[1]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Conversion","page":"0103 - Predefined types","title":"Conversion","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"v = [1,2,3]\nt = (v...,) # note the comma\nv2 = [t...]\nv3 = [i[1] for i in t]\nv4 = collect(t)\nv == v2 == v3 == v4","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Named-tuples-NamedTuple{T1,T2,...}","page":"0103 - Predefined types","title":"Named tuples - NamedTuple{T1,T2,...}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"As the name suggests, named tuples are collection similar to ordinary tuples, but whose indexing can accept also a name:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"nt = (a=1, b=2.5)\n#nt = (\"a\"=1, \"b\"=2.5)    # Error !\ntypeof(nt)\nnt[1]\nnt.a\nkeys(nt)\nvalues(nt)\n\nfor (k,v) in pairs(nt)\n    println(\"$k - $v\")\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nThe keys of NamedTuples are symbols, not strings. We'll see symbols in the metaprogramming segment.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Conversion-2","page":"0103 - Predefined types","title":"Conversion","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"k = [:a,:b,:c]\nv = [1,2,3]\nnt = NamedTuple(Dict(:a=>1,:b=>2,:c=>3))             # Order not guaranteed! We are \"lucky\" here\nnt = NamedTuple(Dict([k=>v for (k,v) in zip(k,v)]))  # Same...\nv2 = [nt...]\nv3 = [i[1] for i in nt]\nv4 = collect(nt)\nv == v2 == v3 == v4","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Dictionaries-Dict{Tkey,TValue}","page":"0103 - Predefined types","title":"Dictionaries - Dict{Tkey,TValue}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Dictionary are mutable, key-referenced containers:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":" Mutable Immutable\nUse position Arrays Tuples\nUse keys Dictionaries Named tuples","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"warning: Warning\nNote that order is not preserved. For insertion-order preservation see OrderedDict and for sorted dictionaries see SortedDict, both from the DataStructures.jl package.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Initialisation-4","page":"0103 - Predefined types","title":"Initialisation","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"mydict = Dict(); #= or better =#  mydict = Dict{String,Int64}()\nmydict = Dict('a'=>1, 'b'=>2, 'c'=>3)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Indexing-2","page":"0103 - Predefined types","title":"Indexing","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"mydict['a']\n#mydict['d']     # error!\nget(mydict,'d',0) # specific a default if key not found","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Adding/deleting/checking","page":"0103 - Predefined types","title":"Adding/deleting/checking","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"mydict['d'] = 4\n\ndelete!(mydict,'d')\nhaskey(mydict, 'a')\nin(('a' => 1), mydict)\ntypeof('a' => 1)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Conversion-3","page":"0103 - Predefined types","title":"Conversion","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Array - > Dictionary","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"map((i,j) -> mydict[i]=j, ['e','f','g'], [4,5,6])\nmydict\nk = [:a,:b,:c]\nv = [1,2,3]\nmydict = Dict([k=>v for (k,v) in zip(k,v)])","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Dictionary -> Arrays","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"collect(keys(mydict)) # keys or values alore return an iterator\ncollect(values(mydict))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Iteration","page":"0103 - Predefined types","title":"Iteration","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"for (k,v) in mydict\n   println(\"$k is $v\")\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Sets-Set{T}","page":"0103 - Predefined types","title":"Sets - Set{T}","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"s = Set(); #= or better =# Set{Int64}()\ns = Set([1,2,3,4]) # Only a single `2` will be stored\ns\npush!(s,5)\ndelete!(s,1)\ns2 = Set([4,5,6,7])\nintersect(s,s2)\nunion(s,s2)\nsetdiff(s,s2)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Date-and-time-Date,-DateTime","page":"0103 - Predefined types","title":"Date and time - Date, DateTime","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"using Dates # a standard library module dealing with dates and times, including periods and calendars","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"While a DateTime is a more informative object it is also a much more complex one, as it has to deal with problems as the time zones and the daylight saving","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Creation-of-a-date-or-time-object-(\"input\")","page":"0103 - Predefined types","title":"Creation of a date or time object (\"input\")","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"From current (local) date/time...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"todayDate = today()\nnowTime = now()\ntypeof(todayDate)\n\ntypeof(nowTime)\nDate     <: Dates.AbstractTime\nDateTime <: Dates.AbstractTime\nnowTimeUnix = time()  # The so-called \"Unix time, a 64bit integer counting the number of seconds since the beginning of the year 1970\nnowTime = Dates.unix2datetime(nowTimeUnix) # attention this is not local but UTC (Coordinated Universal Time - the Greenwitch time )!\nnowTime = Dates.now(Dates.UTC) # an other way to have UTC time","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"tip: Tip\nFor Time Zone functionalities and conversion, use the external package TimeZone.jl","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"From a String...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"christmasDay      = Date(\"25 Dec 2030\", \"d u yyyy\")\nnewYearDay        = Date(\"2031/01/01\", \"yyyy/m/d\")\nchristmasLunch    = DateTime(\"2030-12-25T12:30:00\", ISODateTimeFormat)   # well known string datetime ISO8601 Format\nnewYearEvenDinner = DateTime(\"Sat, 30 Dec 2030 21:30:00\", RFC1123Format) # an othe well known format","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Date and time formatters:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"y  Year digit (ef yyyy => 2030, yy => 30)\nm  Month digit (eg m => 3, mm => 03)\nu  Month name (eg \"Jan\")\nU  Month name long (eg \"January\")\ne  Day of week (eg \"Tue\")\nE  Day of week long (eg \"Tuesday\")\nd  Day of month (eg d => 3, dd => 03)\nH  Hour digit (eg H => 8, HH => 08)\nM  Minute digit (eg M => 0, MM => 00)\nS  Second digit (eg S => 0, SS => 00)\ns  Millisecond digit (eg .000, fixed 3 digits)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Note that the doubling for the digits matters only for using the formatters in the output (see later)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"From a tuple of integers: y, m, d, H, M, S, s ...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"d  = Date(2030, 12)  # no need to give it all\ndt = DateTime(2030, 12, 31, 9, 30, 0, 0)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Date/Time-extraction-of-information-(\"output\")...","page":"0103 - Predefined types","title":"Date/Time extraction of information (\"output\")...","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"To String represerntation...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Dates.format(newYearDay, \"dd/m/yy\")\nDates.format(christmasLunch, \"dd/mm/yy H:M:SS\")","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Other...","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"# Date and DateTime...\nyear(christmasDay)\nisleapyear(christmasDay)\nmonth(christmasLunch)\nmonthname(christmasDay)\nday(christmasDay)\ndayofweek(christmasDay)\ndayname(christmasDay)\ndaysofweekinmonth(christmasDay) # there are 4 Wednesdays in December 2030\ndayofweekofmonth(christmasDay)  # and the 25th is the 4th of them\n\n# Only datetime..\nhour(christmasLunch)\nminute(christmasLunch)\nsecond(christmasLunch)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Periods-and-datetime-arithmetics","page":"0103 - Predefined types","title":"Periods and datetime arithmetics","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"hollidayPeriod = newYearDay - christmasDay  # between dates is in days\nlongPeriod = Date(2035,6,1) - christmasDay\nmealPeriod = DateTime(2030,12,31,23,30) - newYearEvenDinner # between datetime is in milliseconds\n#newYearDay - newYearEvenDinner # error! no mixed\nconvert(DateTime,newYearDay)\nconvert(Date,newYearEvenDinner) # possible information loss\nmealPeriod = convert(DateTime,newYearDay) - newYearEvenDinner\ntypeof(hollidayPeriod)\ntypeof(mealPeriod)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Period hierarchy:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Period\nDatePeriod\nYear\nMonth\nWeek\nDay\nTimePeriod\nHour\nMinute\nSecond\nMillisecond\nMicrosecond\nNanosecond","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"#convert(Dates.Year,longPeriod)      # going up: error or inexacterror\nconvert(Dates.Millisecond,longPeriod) # going down:  fine\nconvert(Dates.Millisecond,mealPeriod)\n\ncanLongPeriod = Dates.canonicalize(longPeriod)\ntypeof(canLongPeriod)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"That the best we can get. We can't \"easily\" decompose a \"period\" in  years or months... how many days in a month ? 31 or 30 ? And in an year ? A Period doesn't store information on when it starts. However we can make math with periods based on a specific date/time:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"nextChristmas                = christmasDay + Year(1) # We can use the constructors of the various periods\nchristmasPresentsOpeningTime = christmasLunch + Hour(3)\nthisWeekdayNextCentury       = dayname(today()+Year(100))","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Ranges","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"semesters = Dates.Date(2020,1,1):Dates.Month(6):Dates.Date(2022,1,1)\ncollect(semesters)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html#Adjustments","page":"0103 - Predefined types","title":"Adjustments","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Iterate the past/future days of a date untill some condition is true","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"sundayBefChristmas = toprev(d -> Dates.dayname(d) == \"Sunday\", christmasDay)\nlastDayOfThisMonth = tonext(d -> Dates.day(d+Day(1)) == 1, today())","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"Find first or last weekday of {month,year} of a given date:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"lastTuesdayOfThisMonth = tolast(today(), 2, of=Month) # \"2\" stands for Tuesday\nfirstSundayOfThisYear  = tofirst(today(), 7, of=Year) # \"7\" stands for Sunday","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"View this file on Github.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"This page was generated using Literate.jl.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.md\",\n\"title\" : \"0103_-_Predefined_types.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103_-_Predefined_types.html","page":"0103 - Predefined types","title":"0103 - Predefined types","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#EXERCISE-4.1:-House-value-prediction-with-Neural-Networks-(regression)","page":"0402x EXERCISE-4.1","title":"EXERCISE 4.1: House value prediction with Neural Networks (regression)","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<p>&nbsp;</p>\n<img src=\"imgs/bostonHousingErrorPerEpoch.png\" alt=\"Error per epoch\" style=\"height:250px;\"> \n<img src=\"imgs/bostonHousingEstVsTrueValues.png\" alt=\"Estimated vs True house values\" style=\"height:250px;\"> \n<p>&nbsp;</p>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"In this problem, we are given a dataset containing average house values in different Boston suburbs, together with the suburb characteristics (proportion of owner-occupied units built prior to 1940, index of accessibility to radial highways, etc...) Our task is to build a neural network model and train it in order to predict the average house value on each suburb.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"The detailed attributes of the dataset are:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"CRIM      per capita crime rate by town\nZN        proportion of residential land zoned for lots over 25,000 sq.ft.\nINDUS     proportion of non-retail business acres per town\nCHAS      Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)\nNOX       nitric oxides concentration (parts per 10 million)\nRM        average number of rooms per dwelling\nAGE       proportion of owner-occupied units built prior to 1940\nDIS       weighted distances to five Boston employment centres\nRAD       index of accessibility to radial highways\nTAX      full-value property-tax rate per $10,000\nPTRATIO  pupil-teacher ratio by town\nB        1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town\nLSTAT    % lower status of the population\nMEDV     Median value of owner-occupied homes in $1000's","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Further information concerning this dataset can be found on this file","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Our prediction concern the median value (column 14 of the dataset)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Skills employed:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"download and import data from internet\ndesign and train a Neural Network for regression tasks using BetaML\nuse the additional BetaML functions partition, oneHotEncoder, scale, meanRelError","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#Instructions","page":"0402x EXERCISE-4.1","title":"Instructions","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"If you have already cloned or downloaded the whole course repository the folder with the exercise is on [REPOSITORY_ROOT]/lessonsMaterial/04_NN/bostonHousing. Otherwise download a zip of just that folder here.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"In the folder you will find the file BostonHousingValue.jl containing the julia file that you will have to complete to implement the missing parts and run the file (follow the instructions on that file).  In that folder you will also find the Manifest.toml file. The proposal of resolution below has been tested with the environment defined by that file.   If you are stuck and you don't want to lookup to the resolution above you can also ask for help in the forum at the bottom of this page. Good luck! ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#Resolution","page":"0402x EXERCISE-4.1","title":"Resolution","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Click \"ONE POSSIBLE SOLUTION\" to get access to (one possible) solution for each part of the code that you are asked to implement.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Setting-up-the-environment...","page":"0402x EXERCISE-4.1","title":"1) Setting up the environment...","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Start by setting the working directory to the directory of this file and activate it. If you have the provided Manifest.toml file in the directory, just run Pkg.instantiate(), otherwise manually add the packages Pipe, HTTP, CSV, DataFrames, Plots and BetaML.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"cd(@__DIR__)         \nusing Pkg             \nPkg.activate(\".\")   \n# If using a Julia version different than 1.7 please uncomment and run the following line (reproductibility guarantee will hower be lost)\n# Pkg.resolve()   \nPkg.instantiate() \nusing Random\nRandom.seed!(123)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Load-the-packages","page":"0402x EXERCISE-4.1","title":"2) Load the packages","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Load the packages Pipe, HTTP, CSV, DataFrames, Plots and BetaML.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"using Pipe, HTTP, CSV, DataFrames, Plots, BetaML","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Load-the-data","page":"0402x EXERCISE-4.1","title":"3) Load the data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Load from internet or from local file the input data into a DataFrame or a Matrix. You will need the CSV options header=false and ignorerepeated=true","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"dataURL=\"https://archive.ics.uci.edu/ml/machine-learning-databases/housing/housing.data\"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"data    = @pipe HTTP.get(dataURL).body |> CSV.File(_, delim=' ', header=false, ignorerepeated=true) |> DataFrame","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Implement-one-hot-encoding-of-categorical-variables","page":"0402x EXERCISE-4.1","title":"4) Implement one-hot encoding of categorical variables","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"The 4th column is a dummy related to the information if the suburb bounds a certain Boston river. Use the BetaML function oneHotEncoder to encode this dummy into two separate vectors, one for each possible value. Note that you will need to transform the range {0,1} into {1,2} before running the oneHotEncoder function (this can be done by simply uinsg data[:,4] .+1)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"riverDummy = oneHotEncoder(data[:,4] .+1)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Put-together-the-feature-matrix","page":"0402x EXERCISE-4.1","title":"5) Put together the feature matrix","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Now create the X matrix of features concatenating horizzontaly the 1st to 3rd column of data, the 5th to 13th columns and the two columns you created with the one hot encoding. Make sure you have a 506Ã—14 matrix.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"X = hcat(Matrix(data[:,[1:3;5:13]]),riverDummy)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Build-the-label-vector","page":"0402x EXERCISE-4.1","title":"6) Build the label vector","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Similarly define Y to be the 14th column of data","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Y = data[:,14]","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Partition-the-data","page":"0402x EXERCISE-4.1","title":"7) Partition the data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Partition the data in (xtrain,xval) and (ytrain,yval) keeping 80% of the data for training and reserving 20% for testing. Keep the default option to shuffle the data, as the input data isn't.","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"((xtrain,xval),(ytrain,yval)) = partition([X,Y],[0.8,0.2])","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Define-the-neural-network-architecture","page":"0402x EXERCISE-4.1","title":"8) Define the neural network architecture","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Define a Neural Network model with the following characteristics:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"3 dense layers with respectively 14, 20 and 1 nodes and activation function relu\ncost function squaredCost ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"l1 = DenseLayer(14,20,f=relu)\nl2 = DenseLayer(20,20,f=relu)\nl3 = DenseLayer(20,1,f=relu)\nmynn = buildNetwork([l1,l2,l3],squaredCost)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Train-the-model","page":"0402x EXERCISE-4.1","title":"9) Train the model","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Train the model using ytrain and a scaled version of xtrain (where all columns have zero mean and 1 standard deviaiton) for 400 epochs and use a batch size of 6 records. Save the output of your training function to trainingLogs","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"trainingLogs = train!(mynn,scale(xtrain),ytrain,batchSize=6,epochs=400)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Predict-the-labels","page":"0402x EXERCISE-4.1","title":"10) Predict the labels","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Predict the training labels yÌ‚train and the validation labels yÌ‚val. Recall you did the training on the scaled features!","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"yÌ‚train   = predict(mynn, scale(xtrain)) \nyÌ‚val     = predict(mynn, scale(xval))  ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Evaluate-the-model","page":"0402x EXERCISE-4.1","title":"11) Evaluate the model","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Compute the train and test relative mean error using the function meanRelError with the parameter normRec set to false","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"trainRME = meanRelError(yÌ‚train,ytrain,normRec=false) \ntestRME  = meanRelError(yÌ‚val,yval,normRec=false)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-Plot-the-errors-and-the-estimated-values-vs-the-true-ones","page":"0402x EXERCISE-4.1","title":"12) Plot the errors and the estimated values vs the true ones","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Run the following commands to plots the average loss per epoch and the true vs estimation validation values:","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"plot(trainingLogs.Ïµ_epochs)\nscatter(yval,yÌ‚val,xlabel=\"true values\", ylabel=\"estimated values\", legend=nothing)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html#)-(Optional)-Use-unscaled-data","page":"0402x EXERCISE-4.1","title":"13) (Optional) Use unscaled data","text":"","category":"section"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Run the same workflow without scaling the data. How this affect the quality of your predictions ? ","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<details><summary>ONE POSSIBLE SOLUTION</summary>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"Random.seed!(123) # To get the same random numbers as before...\n((xtrain,xval),(ytrain,yval)) = partition([X,Y],[0.8,0.2])\nl1 = DenseLayer(14,20,f=relu)\nl2 = DenseLayer(20,20,f=relu)\nl3 = DenseLayer(20,1,f=relu)\nmynn = buildNetwork([l1,l2,l3],squaredCost)\ntrainingLogs = train!(mynn,xtrain,ytrain,batchSize=6,epochs=400)\nyÌ‚train   = predict(mynn, xtrain) \nyÌ‚val     = predict(mynn, xval)\ntrainRME = meanRelError(yÌ‚train,ytrain,normRec=false) \ntestRME  = meanRelError(yÌ‚val,yval,normRec=false)\nplot(trainingLogs.Ïµ_epochs)\nscatter(yval,yÌ‚val,xlabel=\"true values\", ylabel=\"estimated values\", legend=nothing)","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"</details>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.md\",\n\"title\" : \"0402x_EXERCISE-4.1.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"04_-_NN_-_Neural_Networks/0402x_EXERCISE-4.1.html","page":"0402x EXERCISE-4.1","title":"0402x EXERCISE-4.1","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html#Quiz-1.5:-Arrays","page":"0103q - QUIZ 1.5","title":"Quiz 1.5: Arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html#Q1:-How-to-write-arrays","page":"0103q - QUIZ 1.5","title":"Q1: How to write arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"Given the following snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"a = XXX\nb = fill(3,2)\nc = a .* b","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"and knowing that c[1][1] is equal to 3',c[1][2]is equal to6andc[2]is equal to9(i.e.c = [[3,6],9]), which is the value ofa, i.e.XXX` in the script ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"(your answer should start and end with a square bracket and include no spaces)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\nstringq(Regex(\"[[1,2],3]\"))  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"c is made by multiplicating each element of a with the vector [3,3]. From the question we know that the first element is a vector itself of two integers, 3 and 6, and the second element is an integer, 9 (hence a scalar). So a is just a vector with the same structure but the individual elements divided by 3.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"The correct answer is: \"[[1,2],3]\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html#Q2:-Array-theory","page":"0103q - QUIZ 1.5","title":"Q2: Array theory","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"Which of the following sentences are correct?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\nchoices = [ # hide\n    \"To access common linear algebra functionalities you need first to install, with `Pkg.add()`, a specific third-party package\", # hide\n    \"For multidimensional arrays the size of each dimension must be the same\", # hide\n    \"For multidimensional arrays the number of elements on any given dimension must be the same\", # hide\n    \"Arrays can contain only elements of the same type (including other arrays)\", # hide\n    \"Julia being column mayor means that it is often more efficient to loop a matrix first over rows (outer loop) and then over columns (inner loop)\", # hide\n    \"When the algorithm allows to know the number of elements in an array, it is often more efficient to first create and allocate memory for the array and then modify each individual element compared to start with an empty array and then add the individual elements\", # hide\n    \"To transpose a matrix of strings I can use the `transpose` function\", # hide\n] # hide\nanswers = [3,6]  # hide\nmultiq(choices, answers;)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"A few notes concerning the wrong sentences: Linear albebra functionality is included directly in the standard library, no need for a third party package at all; The size on different dimensions can be different (e.g. rand(2,3,4) produces a 3-dimensional array whose size is (2,3,4)); Arrays can contain heterogeneous elements (at the cost of reduced performances); Being \"column mayor\" means that arrays are \"physically\" stored in memory by columns. Accessing one of this elements consequentiality, one after the other, is cheap. This means that it is cheaper to loop over the various rows of the same columns than looping over the various column of the same row and hence better to keep the loop over the rows as the inner loop; The transpose function works only with numerical matrices. Use permutedims instead for non-numerical matrices.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\"For multidimensional arrays the number of elements on any given dimension must be the same\"\n\"When the algorithm allows to know the number of elements in an array, it is often more efficient to first create and allocate memory for the array and then modify each individual element compared to start with an empty array and then add the individual elements\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html#Q3:-Initialisation-of-arrays","page":"0103q - QUIZ 1.5","title":"Q3: Initialisation of arrays","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"Which of the following are valid methods to create a 2 columns, 3 rows matrix ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\nchoices = [ # hide\n    \"`zeros(2,3)`\", # hide\n    \"`ones(2,3)`\", # hide\n    \"`ones(Int64,2,3)`\", # hide\n    \"`Array(3,2){Int64,undef}`\", # hide\n    \"`rand(3,2)`\", # hide\n    \"`[x + y for x in 40:10:60, y in 2:3]`\", # hide\n    \"`fill(3,2,3)`\", # hide\n    \"`rand(1:5,3,2)`\", # hide\n    \"`[1 2;3 4;5 6]`\", # hide\n    \"`[[1,2,3], [4,5,6]]`\", # hide\n] # hide\nanswers = [5,6,8,9]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"Note that we are looking for a 3x2 matrix, not a 2x3 one.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\"rand(3,2)\"\n\"[x + y for x in 40:10:60, y in 2:3]\"\n\"rand(1:5,3,2)\"\n\"[1 2;3 4;5 6]\"   ","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html#Q4:-Basic-Linear-Algebra","page":"0103q - QUIZ 1.5","title":"Q4: Basic Linear Algebra","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"Given the following snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"a = [1 2 3; 4 5 6]\nb = a[:,2]' * a[?â‚,?â‚‚:3]","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"and knowing that (1)  b is equal to 19 and (2) ?â‚ and ?â‚‚ are two numbers, which is the sum of ?â‚ + ?â‚‚ ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"\nnumericq(3)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"The output (b) is a scalar, and the multiplier is a (1x2) vector, so the multiplicand must be a (2x1) vector. This tells already that ?â‚‚ must be 2. Now, ?â‚ could be one, so that the  multiplicand is a[1,2:3] = [2,3] or two, so that a[2,2:3] = [5,6]. Knowing that the results of the inner product is 19 we resolve for the first option.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"The correct answer is: 3","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.md\",\n\"title\" : \"0103q_-_QUIZ_1.5.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0103q_-_QUIZ_1.5.html","page":"0103q - QUIZ 1.5","title":"0103q - QUIZ 1.5","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Quiz-1.8:-Functions","page":"0104q - QUIZ 1.8","title":"Quiz 1.8: Functions","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"cd(@__DIR__)    \nusing Pkg      \nPkg.activate(\".\")  \n## Pkg.resolve()   \n## Pkg.instantiate()\nusing Random\nRandom.seed!(123)\nusing QuizQuestions","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Q1:-Function-comparison","page":"0104q - QUIZ 1.8","title":"Q1: Function comparison","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"function foo(x)\n  list = []\n  for i in 2:x\n    cond = true\n    for j in list\n      if i%j == 0\n        cond = false\n      end\n    end\n    if cond push!(list,i); end\n  end\n  return list\nend\n\nfunction foo2(x)\n  if x == 1 return []; end\n  ns = foo2(x-1)\n  cond = true\n  for i in ns\n    if x%i == 0\n      cond = false\n    end\n  end\n  if cond push!(ns,x); end\n  return ns\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Which of the following sentences are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\nchoices = [ # hide\n    \"Both the functions compute the Fibonacci numbers\", # hide\n    \"The first function returns an error\", # hide\n    \"The second function returns an error\", # hide\n    \"The first function calls itself recursively\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [5]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The two functions compute the list of prime numbers up to x, with the second one being recursive. While often recursive functions are slow, here the computations to derive the prime numbers is roughly the same in the two cases with a O(xÂ²) complexity  bound, and there isn't a version that is definitly slower. Note that much more efficient approaches to find prime number exists.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\"None of the (other) sentences is correct\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Q2:-Function-optimisation-(1)","page":"0104q - QUIZ 1.8","title":"Q2: Function optimisation (1)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"function foo(x)\n  list = XXXX[]\n  for i in 2:x\n    cond = true\n    for j in list \n      if i%j == 0\n        cond = false\n      end        \n    end\n    if cond push!(list,i); end\n  end\n  return list\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"To what XXXX should be replaced to make the function more efficient?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\nstringq(Regex(\"Int64\")) # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The function can be made orders of magnitute more efficient by simply specifying that the list is an array of integers rather than \"any\" values.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The correct answer is: \"Int64\"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Q3:-Function-optimisation-(2)","page":"0104q - QUIZ 1.8","title":"Q3: Function optimisation (2)","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"function foo(x)\n  list = []\n  for i in 2:x\n    cond = true\n    for j in list \n      if i%j == 0\n        cond = false\n        XXXX\n      end        \n    end\n    if cond push!(list,i); end\n  end\n  return list\nend","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"To what XXXX should be replaced to make the function more efficient?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\nstringq(Regex(\"break\")) # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The function can be made many times more efficent by breaking the loop for that specific item once the first condition leading to cond=false has been found.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The correct answer is: breack","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Q4:-Call-by-sharing","page":"0104q - QUIZ 1.8","title":"Q4: Call by sharing","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"a = ([1,2,3],4)\nfunction foo(x)\n  x[1][1] = 10\n  x[2]    = 40\nend\nfoo(a)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Which of the following sentences are correct ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\nchoices = [ # hide\n    \"An error is raised during compilation/running\", # hide\n    \"An error is raised during parsing of the code\", # hide\n    \"`a` is still `([1,2,3],4)`\", # hide\n    \"`a` is now `([10,2,3],4)`\", # hide\n    \"`a` is now `([1,2,3],40)`\", # hide\n    \"`a` is now `([10,2,3],40)` \", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [1,3]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"a is a Tuple, that is a immutable type. The attempt to modify it in the command x[2] = 40 rises an error during the JIT compilation. The first modification, however (x[1][1] = 10), had already taken place.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"An error is raised during compilation/running\na is now ([10,2,3],4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html#Q5:-Call-by-sharing-2","page":"0104q - QUIZ 1.8","title":"Q5: Call by sharing 2","text":"","category":"section"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Given the following code snippet:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"a = ([1,2,3],4)\nfunction foo(x)\n  x[1][1] = 10\n  x       = ([10,20,30],40)\nend\nfoo(a)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"Which of the following sentences are true ?","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"\nchoices = [ # hide\n    \"An error is raised during compilation/running\", # hide\n    \"An error is raised during parsing of the code\", # hide\n    \"`a` is still `([1,2,3],4)`\", # hide\n    \"`a` is now `([10,2,3],4)`\", # hide\n    \"`a` is now `([10,20,30],40)`\", # hide\n    \"None of the (other) sentences is correct\", # hide\n] # hide\nanswers = [4]  # hide\nmultiq(choices, answers;keep_order=true)  # hide\n","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<details><summary>RESOLUTION</summary>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"a is a Tuple, that is a immutable type. The first command doesn't mutate it but mutates an object contained in it (that being an Array is mutable and doesn't create a problem). The second statement in the foo function rebinds x to a new object, without influencing the original object. Note that as the function mutate its parameter a more appropriate name would have been foo!. Append the function name with an exclamation mark for mutating functions is hovewer only a convention.","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"The correct answers are:","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"a is now ([10,2,3],4)","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"</details>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.md\",\n\"title\" : \"0104q_-_QUIZ_1.8.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"01_-_JULIA1_-_Basic_Julia_programming/0104q_-_QUIZ_1.8.html","page":"0104q - QUIZ 1.8","title":"0104q - QUIZ 1.8","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"index.html#Introduction-to-Scientific-Programming-and-Machine-Learning-with-Julia","page":"Index","title":"Introduction to Scientific Programming and Machine Learning with Julia","text":"","category":"section"},{"location":"index.html","page":"Index","title":"Index","text":"Welcome to the interactive, multi-channel and collaborative course on Introduction to Scientific Programming and Machine Learning with Julia. There is no registration required. Please use the menu to access a particular section or clone the GitHub course repository on your computer.","category":"page"},{"location":"index.html","page":"Index","title":"Index","text":"GitHub repository - Course Introduction - Collaboration guidelines","category":"page"},{"location":"index.html#Acknowledgements","page":"Index","title":"Acknowledgements","text":"","category":"section"},{"location":"index.html","page":"Index","title":"Index","text":"The Julia part of this course is for the most a reworking, updating and extension of the Julia Concise Tutorial. The ML part takes heavy inspiration from the MITx6.86x course _Machine Learning with Python: from Linear Models to Deep Learning of Regina Barzilay, Tommi Jaakkola and Karene Chu.","category":"page"},{"location":"index.html","page":"Index","title":"Index","text":"The implementation is based on a stack of very flexible documentation packages for Julia, namely Literate.jl, Documenter.jl and QuizQuestions.jl package and, for the ML algorithms, of the BetaML.jl package. Hosting of these pages and of the relative source and automatic building of the pages from source are courtesy of GitHub. Videos are hosted on YouTube. ","category":"page"},{"location":"index.html","page":"Index","title":"Index","text":"Financial acknowledgements are reported under each author in the authors section.","category":"page"},{"location":"index.html","page":"Index","title":"Index","text":"(Image: logos)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<div id=\"ytb-videos\">\n<span style=font-weight:bold;>Videos related to this segment (click the title to watch)</span>\n<details><summary>03 ML1  - 1A:  Introduction, perceptron overall idea (11:23)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/JuqCxqLik0s\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>03 ML1  - 1B:  Hyperparameters and cross-validation (15:18)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/agi2dKxClec\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>03 ML1  - 1C:  The perceptron algorithm (9:53)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/2otq8KEMp8Y\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n<details><summary>03 ML1  - 1D:  SVM and non-linear classification with linear classifiers (8:9)</summary>\n<div class=\"container ytb-container\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" src=\"https://www.youtube.com/embed/KsOubVwDcjY\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" frameborder=\"0\"></iframe>\n    </div>\n</div>\n</details>\n</div>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#Machine-Learning-main-concepts","page":"0301 - Machine learning main concepts","title":"0301 - Machine Learning -  main concepts","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"We start our journey on Machine Learning from the perceptron algorithm. This is a linear classifier that historically has been a bit a pioneer in ML algorithms. We start from it due to its simplicity, and it will be the only algorithm that we will study in detail.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#A-linear-classifier-for-the-binary-classification-problem","page":"0301 - Machine learning main concepts","title":"A linear classifier for the binary classification problem","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"So, which is our problem? We are in the realm of supervised machine learning as we defined in the kick-off lesson, where the objective is to make some predictions over a component of the dataset (an unknown characteristic, or some future event...) that we call \"label\" based on other known characteristics of the data (that we call \"features\"), and we can \"learn\" this relation by \"supervising\" the algorithm, that is providing the algorithm with data from which we know both the features and the associated labels (across this course I'll often use \"X\" as a shortcut for the former, and \"Y\" for the latter). More specifically we are in the realm of classification, where the labels are given a finite set of possible values, and we start from binary labels, where the values can only be -1 or +1 (it is easy then to use this binary classifier as the base for a multiclass classifier, e.g. using a so-called one-vs-all strategy). The features are numerical, and possibly highly multi-dimensional.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"The Perceptron algorithm is a method to find the parameters of a linear classifier that minimise classification errors. These classifiers will be nothing else than a hyperplane (the generalisation of the concept of \"plane\" on multiple dimensions) that divides our space into two parts, with the hyperplane itself forming the boundaries between the two parts, and we will use this hyperplane to discriminate all points on one side of it v.s. all points on the other side. For example, the following figure shows a hyperplane in 2D (i.e. a line) used to classify some points:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: A linear classifier in 2D)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"All points in the direction of the arrow are \"positive\", all points in the opposite direction are negative. From the figure we can deduce a few things in that example:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"the current classifier (as drawn) is NOT classifying all points correctly, ie it makes \"errors\"\nthe points are however linearly separable\nit would be enough to \"rotate\" a bit the classifier clockward to get the classifier making no more errors","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"The perceptron algorithm is indeed an online algorithm (that is, that is updated as data is processed..) to \"rotate\" the classifier until it minimises the classification errors. For simplicity, we will work with classifiers passing through the origin, but we don't lose in generality as we can always think of the constant term as another dimension where the feature data is all filled with ones.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Our first step is to \"decide\" how to define the classifier, and how to check if it classifies a record correctly or not. Concerning the former, we define the boundary given by the parameters theta as the set of points x for which x cdot theta = 0 (the inner product is equal to zero). It results that all points x for which $ x \\cdot \\theta > 0$ are classified positively, and similarly all points x for which $ x \\cdot \\theta < 0$ are classified negatively. For a given record, we can now check if this classifier matches the label of the record (-1 or +1). In analytical terms, we have a classification error of the (linear) classifier theta for the record n when  y^n * (theta cdot x^n)) leq 0. The overall error rate of the classifier will then be the sum of the errors for each record divided by the number of records N:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"epsilon_n(theta) = sum_n=1^N frac mathbb1  y^n * (theta cdot x^n ) leq 0  n","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"where the one at the numerator is an indicator function. And note that we consider a point exactly on the boundary still as a classification error.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#Supervised-learning","page":"0301 - Machine learning main concepts","title":"Supervised learning","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Before we can turn to the problem of actually finding a linear classifier that agrees with the data to the extent possible, that is looking at the specific perceptron algorithm, we need to develop a method to generally deal with \"learning algorithms\" in the context of supervised learning, where - like here - we are given a set of both the features (the \"X\" matrix) and the associated labels (the \"Y\" vector - or sometimes matrix).","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Let's then define as the algorithm's parameters those parameters that are learned by an algorithm by processing the (X,y) data that we provide to it to learn its relations. Often an algorithm has also so-called hyperparameters. These are additional parameters that remain constant during the learning (also called training) step, while still affecting the performances of the algorithm. For example, the number of neurons in a neural network layer, or the number of individual decision trees in the random forest algorithm. Or, for many algorithms (including perceptron) how long should the learning step continue (this can take different forms depending on the algorithm).","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Hyperparameters play a fundamental role in the trade-off between specialisation and generalisation. The objective of the training is not indeed to learn a relation between the given X and the given Y, but rather to learn from the provided data the general relationship between X and Y for all the populations from which X and Y have been sampled. And hyperparameters should be \"set\" to the levels that maximise this objective, not the minimisation of errors in the data used to train the algorithm. If we use too many neurons, if we train too much,.. we would learn the specific relation between X and Y in the training data. However, this reflects the specific data provided and not the general population. In statistical terminology, we would overfit our model, or in other words, generate too much variance in the trained parameter of our model, that would depend too much on the specific training data (i.e. different training data would lead to very different learned parameters). On the opposite, if our model is too simple or receives too little training, we will have too much bias and not learn the relationship sufficiently. Techniques that allow an algorithm to better generalise, at the expense of better performances over the training data, are called \"regularisation\".","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"How can we choose the hyperparameters that minimise the bias-variance trade-off ? We put no assumptions on the data except that they all come from the same population. And the idea is to use the data itself to \"evaluate\" the generality of our model. We randomly split our dataset into three subsets:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"The training set is the one used to actually \"train\" the algorithm to learn the relation between the given X and the given y, provided a certain set of hyperparameters, that is to find the parameters than minimise the error made by the algorithm\nthe validation set is used to evaluate the results of our trained algorithm on data that has not been used by the algorithm to train the parameters, that is to find the hyperparameters that allow for the best generalisation\nfinally the test set is used to judge the overall performances of the algorithm when it is used with the \"best\" hyperparameter (we can't use the validation set for this, as the hyperparameters are \"fitted\" based on it).","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: Train, validation and test set)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"In practice, we have various ways to look for the \"best hyperparameters\".. grid search over the hyperparameters space, random search, gradient-based methods... In all cases, we run the algorithm under the training set, and we evaluate it under the validation set until we find the \"best\" hyperparameter set. At this point, with the \"best\" hyperparameters we train one last time the algorithm using the training set and we evaluate it under the test set.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#K-folds-cross-validation","page":"0301 - Machine learning main concepts","title":"K-folds cross validation","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Note that training and validation sets don't need to be the same sample across the whole process. Indeed a common technique is the so-called K-folds cross-validation:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: 5-folds CrossValidation)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Here we first randomly divide our whole dataset in a train/validation set and in the test set. For each possible hyperparameter set, we randomly partition the train/validation test in K sets. We use K-1 of them for training and the remaining one for computing the out-of-sample score of the model. We do that (keeping the same hyperparameters and the same partition) for all the different K subsets and we average the performances of the model with that given hyperparameters. We then select the \"best\" hyperparameters and we run the final training on the train/validation set and evaluation on the test set.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#The-perceptron-algorithm","page":"0301 - Machine learning main concepts","title":"The perceptron algorithm","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"We can now start our analysis of the Perceptron algorithm.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"We start with the parameters of the hyperplane all zeros theta = 0\nWe check if, with this parameter, the classifier makes an error\nIf so, we progressively update the classifier using as the update function  theta^n = theta^n - 1 + y^n * x^n.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"As we start with theta^0 = beginbmatrix00endbmatrix, the first attempt will always lead to an error and to a first \"update\" that will be theta^1 = beginbmatrix00endbmatrix + y^1 * beginbmatrixx^1_d1x^1_d2endbmatrix.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Let's make an exaple in 2 dimensions, with two points x^1 = beginbmatrix24endbmatrix and x^2 = beginbmatrix-61endbmatrix, both with negative labels.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"After being confronted with the first point, the classifier theta^0 undergos its first update to become theta^1 = beginbmatrix00endbmatrix + -1 * beginbmatrix24endbmatrix = beginbmatrix-2-4endbmatrix. Let's continue with the second point, x^(2) = beginbmatrix-61endbmatrix. Does theta^1 make an error in classifying x^2 ? We have:  y^(2) * theta^1 cdot x^(2) = -1 * beginbmatrix-2-4endbmatrix beginbmatrix-61endbmatrix = -8, so yes, we have another classification error. We hence run a second update to obtain  theta^2 = beginbmatrix-2-4endbmatrix + -1 * beginbmatrix-61endbmatrix = beginbmatrix4-5endbmatrix. I let you see geometrically that this classifier correctly classify the two points:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: Perceptron example over 2 points)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"More in general, we run the perceptron algorithm over the whole training set, starting from the 0 parameter vector and then going over all the training examples. And if the n-th example is a mistake, then we perform that update that we just discussed.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"So we moved the parameters in the right direction, based on an individual update. However, since the different training examples might update the parameters in different directions, the later updates might also \"undo\" some of the earlier updates, and some of the earlier examples would no longer be correctly classified. In other words, there may be cases where the perceptron algorithm needs to go over the training set multiple times before a separable solution is found (I let you try as exercise what would happen if the second point is +1-2 instead of -6+1, still with negative label).","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"So we have to go through the training set here multiple times. In the jargon of machine learning, we call epoch each time an algorithm goes through the whole training set, either in order or selecting at random. On each record, we look at whether the current classify makes a mistake and eventually perform a simple update.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"function perceptron displaystyle left(big  (x^(n) y^(n)) n=1Nbig   epochs right):\ninitialize theta =0 (vector);\nfor t=1epochs do\nfor n=1N do\nif y^(n)(theta cdot x^(n)) leq 0 then\nupdate theta = theta + y^(n)x^(n)\nreturn theta","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"So the perceptron algorithm takes two parameters: the training set of data (pairs feature vectors => label) and the epochs parameter that tells how many times going over the training set.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"For a sufficiently large number of epochs, if there exists a linear classifier through the origin that correctly classifies the training samples (i.e. the training set is linearly separable), this simple algorithm actually will find a solution to that problem. Typically, there are many solutions, but the algorithm will find one. And note that the one found is not, in general, the \"optimal\" one, where the points are \"best\" separated, just one where the points are separated.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#Support-Vector-Machines:-\"better\"-linear-classifiers","page":"0301 - Machine learning main concepts","title":"Support Vector Machines: \"better\" linear classifiers","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"While the Perceptron algorithm finds one possible classifier, it is clear that this may not be the \"best\" one. See the following figure:","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: Different linear classifiers over the same dataset)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Linear classifiers do generalise relatively well and the epochs parameter could be used as a form of regularisation. Still, we could end up with a perceptron classifier like in figure (a), very dependent on noisy data and that doesn't generalise well. Support Vector Machines (SVM, which we will not develop further in this course except in this small discussion) are linear classifiers that try to maximise the boundary with the classified data. So here we enter the realm of \"optimisation\", usually achieved employing a gradient-based approach that we'll see when discussing neural networks: it is no longer indifferent one classifier that separates the data from another, but SVM (should) retrieve the classifier that is more \"far away\" from the two datasets, on both the directions (figure (b)). The second important characteristic of SVM is that this optimisation can be \"adjusted\" to consider not only the points that lie closest to the decision surface (the \"support vectors\", from which the name..) but rather to give importance to the points that are farther away from the boundary. This adjustment takes the form of a regularisation parameter that can try to optimize with the cross-validation technique above. So, in the figure example, we intuitively see that the third classifier ( figure (c) ) would be the best for our dataset, it will better match with the nature of our data, even if it would make some classification mistakes, and we can steer an SVM algorithm toward the one depicted on figure (c) by increasing its regularisation parameter.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html#Using-linear-classifiers-for-non-linear-classification","page":"0301 - Machine learning main concepts","title":"Using linear classifiers for non-linear classification","text":"","category":"section"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"Often the relationship between the X and the Y is not linear in nature, and even employing the best linear classifier would result in significant classification errors (same for regressions). The \"good news\" is that we can easily engineer our data performing non-linear transformation over it and still using a linear classifier.","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"For example in the left diagram in the figure below, the three points are not separable in one dimension:  ","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"(Image: Inseparable points becoming separable in higher dimensions)","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"However, we can \"engineer\" our dataset by creating a new dimension that is the square of our original dimension (diagram on the right): the points are now clearly separable by a linear classifier !","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"The \"bad news\" is that this engineering is not \"learned\" by the algorithm, but it is something we still do on a case-by-case, using our expertise of the specific problem on hand.  This is the main difference between linear algorithms used together with feature transformation and more \"modern\" non-linear algorithms where the non-linearity is learned from the data itself, like in trees-based approaches and neural networks. ","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.md\",\n\"title\" : \"0301_-_Machine_learning_main_concepts.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"03_-_ML1_-_Introduction_to_Machine_Learning/0301_-_Machine_learning_main_concepts.html","page":"0301 - Machine learning main concepts","title":"0301 - Machine learning main concepts","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#Program","page":"0002 - Program","title":"Program","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"The following videos (15h:2':30'') are available. All except the introduction follow very close the pages in this site.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Videos are hosted on YouTube.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#KOM:-Kick-off-meeting-(2h:44:54)","page":"0002 - Program","title":"00 KOM: Kick-off meeting (2h:44:54)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Note that this introduction has been recorded before the rest of the course has been implemented, so that the organisation of the course, and the way it is delivered, are not exactly as described in the videos below.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Take-home tip: in your projects, implement the introduction and the conclusions as the last elements ;-)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"The slides used in the videos below are available here.","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Course introduction (16:11)\nJulia overview (36:25)\nHands on (42:09)\nPart A (20:15)\nPart B (21:54)\nPkgs, modules and environments (20:56)\nML Terminology (21:19)\nA first ML Example (7:00)\nML application areas (14:24)\nFurther ML Examples (6:34)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#JULIA1:-Basic-Julia-programming-(5h:52:33)","page":"0002 - Program","title":"01 JULIA1: Basic Julia programming (5h:52:33)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Basic syntax elements (46:45)\nPart A - Introduction and setup of the environment (8:37)\nPart B - Comments, code organisation, Unicode support, broadcasting (12:04)\nPart C - Math operators, quotation marks (6:49)\nPart D - Missing values (10:04)\nPart E - Stochasticity in programming (9:14)\nTypes and objects (26:38)\nPart A - Types, objects, variables and operators (13:05)\nPart B - Object mutability and effects on copying objects (13:34)      \nPredefined types (1h:39:50)\nPart A - Primitive types, char and strings (9:37)\nPart B - One dimensional arrays (30:42)\nPart C - Multidimensional arrays (23:37)\nPart D - Tuples and named tuples (7:50)\nPart E - Dictionaries and sets (8:57)\nPart F - Date and times (19:11)\nControl flow and functions (44:47)\nPart A - Variables scope (9:47)\nPart B - Loops and conditional statements (9:2)   \nPart C - Functions (25:57)\nCustom Types (40:02)\nPart A - Types of types, composite types (17:56)\nPart B - Parametric types (7:37)\nPart C - Inheritance and composition OO paradigms (14:28)  \nFurther Topics (1:34:30)\nPart A - Metaprogramming and macros (23:46)\nPart B - Interoperability with other languages (23:6)\nPart C - Performances and errors: profiling, debugging, introspection and exceptions(27:33)\nPart D - Parallel computation: multithreading, multiprocessing (20:3)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#JULIA2:-Scientific-Julia-programming-(2h:39:34)","page":"0002 - Program","title":"02 JULIA2: Scientific Julia programming (2h:39:34)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Data Wrangling (1h:31:15)\nPart A - Introduction and data import (18:28)\nPart B - Getting insights of the data (25:26)\nPart C - Edit data and dataframe structure (23:40)\nPart D - Pivot, Split-Apply-Combine and data export (23:39)\nFurther topics (1h:08:19)\nPart A - Plotting (15:18)\nPart B - Probability distributions and data fitting (11:55)\nPart C - Constrained optimisation, the transport problem (24:59)\nPart D - Nonlinear constrained optimisation, the optimal portfolio allocation (16:04)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#ML1:-Introduction-to-Machine-Learning-(1h:29:43)","page":"0002 - Program","title":"03 ML1: Introduction to Machine Learning (1h:29:43)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Main concepts in Machine Learning(44:45)\nPart A - Introduction, perceptron overall idea (11:23)\nPart B - Hyperparameters and cross-validation (15:18)\nPart C - The perceptron algorithm (9:53)\nPart D - SVM and non-linear classification with linear classifiers (8:9)\nThe Perceptron algorithm for linear classification (44:58)\nPart A - A first version (13:22)\nPart B - A better version (10:28)\nPart C - Cross-validation implementation (21:7)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html#NN:-Neural-Networks-(2h:15:36)","page":"0002 - Program","title":"03 NN: Neural Networks (2h:15:36)","text":"","category":"section"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"Introduction to Neural Networks (1h:25:17)\nPart A - Introduction and motivations (5:32)\nPart B - Feed-forward neural networks (18:57)\nPart C - How to train a neural network (18:4)\nPart D - Convolutional neural networks (13:21)\nPart E - Multiple layers in convolutional neural networks (10:33)\nPart F - Recurrent neural networks (17:49)\nNeural Network workflows in Julia (50:18)\nPart A - Binary classification (15:54)\nPart B - Multinomial classification (15:1)\nPart C - Regression (6:3)\nPart D - Convolutional neural network (13:19)","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"<div id=\"pd_rating_holder_8962705\"></div>\n<script type=\"text/javascript\">\nPDRTJS_settings_8962705 = {\n\"id\" : \"8962705\",\n\"unique_id\" : \"/home/runner/work/SPMLJ/SPMLJ/lessonsSources/00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.md\",\n\"title\" : \"0002_-_Program.md\",\n\"permalink\" : \"\"\n};\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"<div class=\"addthis_inline_share_toolbox\"></div>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"<script src=\"https://utteranc.es/client.js\"\n        repo=\"sylvaticus/SPMLJ\"\n        issue-term=\"title\"\n        label=\"ðŸ’¬ website_comment\"\n        theme=\"github-dark\"\n        crossorigin=\"anonymous\"\n        async>\n</script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"<script type=\"text/javascript\" charset=\"utf-8\" src=\"https://polldaddy.com/js/rating/rating.js\"></script>","category":"page"},{"location":"00_-_INTRO_-_Introduction_julia_ml/0002_-_Program.html","page":"0002 - Program","title":"0002 - Program","text":"<!-- Go to www.addthis.com/dashboard to customize your tools -->\n<script type=\"text/javascript\" src=\"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6256c971c4f745bc\"></script>","category":"page"}]
}
